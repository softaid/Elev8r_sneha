<core:View displayBlock="true" controllerName="sap.ui.elev8rerp.componentcontainer.controller.ProjectManagement.ProjectDetail"
	xmlns:table="sap.ui.table"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:u="sap.ui.unified"
	xmlns:c="sap.ui.core"
	xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form" 
    xmlns:core="sap.ui.core"
	xmlns:dnd="sap.ui.core.dnd"
    xmlns:k= "jQuery.sap.ui.event.keyCodes"
    xmlns:tnt="sap.tnt"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    height="100%">
	<f:FlexibleColumnLayout  id="fclProjectActivity" backgroundDesign="Solid">
		<f:beginColumnPages>
			<f:DynamicPage preserveHeaderStateOnScroll="true" headerExpanded="{/headerExpanded}">
				<f:title>
					<f:DynamicPageTitle>
						<f:heading>
							<Title text="Project"/>
						</f:heading>
						<f:actions>
							<Button id = "btnList" icon="sap-icon://list" type="Transparent" press="onListIconPress" visible="true" />
						</f:actions>
					</f:DynamicPageTitle>
				</f:title>
				<f:header>
                    <f:DynamicPageHeader pinnable="true">
                        <VBox>
							<form:Form editable="true">
								<form:title></form:title>
								<form:layout>
									<form:ResponsiveGridLayout
								labelSpanXL="4"
									labelSpanL="4"
									labelSpanM="4"
									labelSpanS="12"
									adjustLabelSpan="false"
									emptySpanXL="0"
									emptySpanL="0"
									emptySpanM="0"
									emptySpanS="0"
									columnsXL="3"
									columnsL="2"
									columnsM="2"
								singleContainerFullSize="false" />
								</form:layout>
								<form:formContainers>
									<form:FormContainer title="">
										<form:formElements>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelBOMCOde}">
												<form:fields>
													<Input id="textbmcode"  editable="false" value="{projectModel>/id}" />
												</form:fields>
											</form:FormElement>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelProductName}">
												<form:fields>
													<Input
													id="txtitemname"
													type="Text"
													value="{projectModel>/leadname}"
													enabled="true"
													required="true"
													editable="true"></Input>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="Order Value">
												<form:fields>
													<Input id="quantity"  value="{projectModel>/ordervalue}" editable="false"/>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="NI Engineer">
												<form:fields>
													<MultiComboBox id="eng"
														required="true" 
														selectionChange=""
														selectionFinish="	"
														width="500px"
														items="{
															path: 'engRoleModel>/',
															sorter: { path: 'createdby' }
															}">
														<core:Item key="{engRoleModel>createdby}" text="{engRoleModel>createdbyname}" />
													</MultiComboBox>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="NI Manager ">
												<form:fields>
													<MultiComboBox id="manager"
														required="true" 
														selectionChange=""
														selectionFinish="handleSelectionFinish"
														width="500px"
														items="{
															path: 'managerRoleModel>/',
															sorter: { path: 'createdby' }
															}">
														<core:Item key="{managerRoleModel>createdby}" text="{managerRoleModel>createdbyname}" />
													</MultiComboBox>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="Sales Engineer">
												<form:fields>
													<MultiComboBox id="salesenginner"
														required="true" 
														selectionChange=""
														selectionFinish="handleSelectionFinish"
														width="500px"
														items="{
															path: 'managerRoleModel>/',
															sorter: { path: 'createdby' }
															}">
														<core:Item key="{managerRoleModel>createdby}" text="{managerRoleModel>createdbyname}" />
													</MultiComboBox>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="Sales Manager ">
												<form:fields>
													<MultiComboBox id="salesmanager"
														required="true" 
														selectionChange=""
														selectionFinish="handleSelectionFinish"
														width="500px"
														items="{
															path: 'managerRoleModel>/',
															sorter: { path: 'createdby' }
															}">
														<core:Item key="{managerRoleModel>createdby}" text="{managerRoleModel>createdbyname}" />
													</MultiComboBox>
												</form:fields>
											</form:FormElement>
										</form:formElements>
									</form:FormContainer>
									<form:FormContainer title="">
										<form:formElements>
												<form:FormElement id="subcontractorEle1" label="Subcontractor">
												<form:fields>
													<MultiComboBox id="subcontractor1"
												    selectionFinish="handleSelectionFinish"
                                                    width="500px"
                                                    items="{
                                                        path: 'subcontractorModel>/modelData',
                                                        sorter: { path: 'Nidame' }
                                                    }">
														<core:Item key="{subcontractorModel>id}" text="{subcontractorModel>subconname}" />
													</MultiComboBox>
												</form:fields>
											</form:FormElement>
											<form:FormElement id="customerEle" label="Customer">
												<form:fields>
													<Input id="customer"  value="{projectModel>/username}" editable="false"/>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelBOMStartDate}">
												<form:fields>
													<DatePicker id="txtStartdate" width="100%" 
													placeholder="{config>/dateFormat/placeholder}"
													displayFormat="{config>/dateFormat/displayFormat}"
													value="{projectModel>/startdate}"
													valueFormat="dd/MM/yyyy"
													required="true"
													editable="true" />
												</form:fields>
											</form:FormElement>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelBOMEndDate}">
												<form:fields>
													<DatePicker id="txtenddate" width="100%" 
													placeholder="{config>/dateFormat/placeholder}"
													displayFormat="{config>/dateFormat/displayFormat}"
													value="{projectModel>/enddate}"
													valueFormat="dd/MM/yyyy"
													required="true"
												editable="true"
												change="dayCalculation"
													/>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelCompleteDay}">
												<form:fields>
													<Input id="CompleteDay"  value="{projectModel>/completiondays}"
												change="dayCalculation" editable="true"/>
												</form:fields>
											</form:FormElement>
											<form:FormElement label="{i18n>feedMillBillOfMaterialLabelIsActive}">
												<form:fields>
													<Switch  state="{projectModel>/isactive}" id="chkwithrequest" customTextOn="Yes" customTextOff="No"  >
														<layoutData>
															<FlexItemData growFactor="1" />
														</layoutData>
													</Switch>
												</form:fields>
											</form:FormElement>

											<form:FormElement label="Project(%)"  visible="true" >
									<form:fields>
										<Slider width="100%" class="customInputHeight" enableTickmarks="false" id="inpWarningLevel"
                                        max="100" min="0" progress="true" enabled="false"
                                        showAdvancedTooltip="true" value="{projectModel>/completionper}">
											<ResponsiveScale id="rScaleWarningLevel"
                                            tickmarksBetweenLabels="20" />
										</Slider>
									</form:fields>
								</form:FormElement>

										</form:formElements>
									</form:FormContainer>
								</form:formContainers>
							</form:Form>
						</VBox>
					</f:DynamicPageHeader>
				</f:header>	
				<f:content>
					<VBox fitContainer="true">
						<IconTabBar selectedKey="{view>/selectedTabKey}"  id="projectDetail" expanded="{= !${device>/system/phone} }" expandable="{device>/system/phone}" class="sapUiResponsiveContentPadding" select="onTabSelect">
							<items>
								<IconTabFilter text="Project Stage">
									<VBox fitContainer="true">
										<Table id="tblProjectStages" width="100%"  mode="singleSelect" backgroundDesign="Solid" growingScrollToLoad="true" items="{
											path: 'tblModel>/',
												sorter: {
													path: 'id'
												}
											}">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Project Stage" level="H2"/>
														<ToolbarSpacer />
														<HBox>
															<Switch tooltip="Show All"  state="{projectModel>/isall}" id="showallstages" customTextOn="Yes" customTextOff="No"  change= "getAll">
																<layoutData>
																	<FlexItemData growFactor="1" />
																</layoutData>
															</Switch>
															<SearchField search="onSearchStages" width="17.5rem" id = "onStageSearchId"/>
															<Button icon="sap-icon://sort" type="Transparent" press="onStagesSort"/>
															<Button text="" icon="sap-icon://excel-attachment" press="onDataExport"/>
															<Button text="HOC PDF" press="onPdf"/>
															<Button icon="sap-icon://add" type="Transparent" press="onAddNewRowStage" id ="add" visible="true"/>
														</HBox>
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Id" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Parent Stage" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelQuantity}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Actual Start" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Actual End" />
												</Column>
                                                <Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage(%)" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="OverDueDays" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Activity" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text =" status" />
												</Column>
											</columns>
											<items>
												<ColumnListItem type="Navigation" press="onListItemPressStage">
													<cells>
														<Text text="{tblModel>count}" />
														<Text text="{tblModel>parentstage}" />
														<Text text="{tblModel>stagename}" />
														<Text text="{tblModel>actualstartdate}" />
														<Text text="{tblModel>actualenddate}"/>
														<Text text="{tblModel>stagecompletionpercentage}"/>
														<Text text="{tblModel>overduedays}"/>
                                                        <Button icon="sap-icon://begin" type="Transparent" 
                                                                press="onStagePress"
                                                                app:mySuperExtraData="{tblModel>stageid}_Activity"
                                                            />
														<tnt:InfoLabel 
                                                            text="{tblModel>status}"
                                                            displayOnly= "false"
                                                            class="sapMInfoLabelSmall" 
                                                            colorScheme= "{parts: [{path: 'tblModel>overduedaysstatus'}],
                                                            formatter: '.formatter.setItemStockColor'}"
                                                        />
													</cells>
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
												labelSpanXL="4"
												labelSpanL="4"
												labelSpanM="4"
												labelSpanS="12"
												adjustLabelSpan="false"
												emptySpanXL="0"
												emptySpanL="0"
												emptySpanM="0"
												emptySpanS="0"
												columnsXL="3"
												columnsL="2"
												columnsM="2"
												singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
															<Button text="All Stage" id="btnallstage" type="Emphasized" class="sapUiSmallMarginEnd" press="getAllStageArActivity"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
											alignItems="Start"
											justifyContent="End">
											<items>
												<Button text="{i18n>saveButtonText}" id="btnSave" type="Emphasized" class="sapUiSmallMarginEnd" press="onSave"/>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter>
							
								<IconTabFilter text="Activities"   key="Activity">
									<VBox fitContainer="true">
										<Table id="tblActiviteStatus" width="100%"  mode="singleSelect"  backgroundDesign="Solid" growingScrollToLoad="true" items="{
											path: 'activitymodel>/',
												sorter: {
													path: 'id'
												}
											}">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Project Activity" level="H2"/>
														<ToolbarSpacer />
														<HBox>
															<Switch tooltip="Show All"  state="{projectModel>/isallactivities}" id="showallactivities" customTextOn="Active" customTextOff="All"  change= "getAllActivitiesForToggle">
															<layoutData>
																<FlexItemData growFactor="1" />
															</layoutData>
															</Switch>
															<SearchField search="onSearchActivity" width="17.5rem" id = "onSearchId"/>
															<Button
																width="20%"
																align="right"
																tooltip="Group"
																icon="sap-icon://group-2"
																press="handleGroupButtonPressed"/>
															<Button icon="sap-icon://sort" type="Transparent" press="onAcivitySort"/>
															<Button text="" icon="sap-icon://excel-attachment" press="onDataActivityExport"/>
															<Button icon="sap-icon://add" type="Transparent" press="onAddNewRowactivity" id ="niadd" visible="true"/>
														</HBox>
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Id" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage Name" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Activity Name" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Actual Start" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Actual End" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage(%)" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="OverDueDay" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Attribute" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text =" status" />
												</Column>
												
											</columns>
											<items>
												<ColumnListItem  type="Navigation" press="onListItemPressActivity">
													<cells>
														<Text text="{activitymodel>count}" />
														<Text text="{activitymodel>parentstage}" />
														<Text text="{activitymodel>stagename}" />
														<Text text="{activitymodel>actualstartdate}" />
														<Text text="{activitymodel>actualenddate}"/>
														<Text text="{activitymodel>stagecompletionpercentage}"/>
														<Text text="{activitymodel>overduedays}"/>
														<Button icon="sap-icon://begin" type="Transparent" 
                                                            press="onActivityPress"
                                                            app:mySuperExtraData="{activitymodel>stageid}_Attribute"
                                                        />
														<tnt:InfoLabel 
                                                            text="{activitymodel>status}"
                                                            displayOnly= "false"
                                                            class="sapMInfoLabelSmall" 
                                                            colorScheme= "{parts: [{path: 'activitymodel>overduedaysstatus'}],
                                                            formatter: '.formatter.setItemStockColor'}"
                                                        />
														
													</cells>
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
															<Button text="All Activity" id="btnallactivity" type="Emphasized" class="sapUiSmallMarginEnd" press="getAllStageArActivity"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
                                    alignItems="Start"
                                    justifyContent="End">
											<items>
												<Button text="{i18n>saveButtonText}" id="btnActivitySave" type="Emphasized" class="sapUiSmallMarginEnd"/>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter>

								<IconTabFilter text="Payments">
									<VBox fitContainer="true">
										<Table id="tblpaymentStatus" width="100%"  mode="singleSelect" backgroundDesign="Solid" growingScrollToLoad="true" items="{
											path: 'paymenttblmodel>/',
												sorter: {
													path: 'id'
												}
											}">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Payments" level="H2"/>
														<ToolbarSpacer />
														<Button text="" icon="sap-icon://excel-attachment" press="onDataPaymentExport"/>
														<!-- <Button icon="sap-icon://add" type="Transparent" press="onAddNewRowpayments" id ="paymentadd" visible="true"/> -->
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
											<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Type" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Activity" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage Amount" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Activity Amount" />
												</Column>
											</columns>
											<items>
												<ColumnListItem type="Navigation" press="onListItemPressPayments">
													<cells>
														<Text text="{paymenttblmodel>type}" />
														<Text text="{paymenttblmodel>stagename}"  />
														<Text text="{paymenttblmodel>activityname}" />
														<Text text="{paymenttblmodel>stageamount}" />
														<Text text="{paymenttblmodel>activityamount}"/>
														<tnt:InfoLabel 
                                                text="1"
                                                displayOnly= "false"
                                                class="sapMInfoLabelSmall" 
                                                colorScheme= "{parts: [{path: 'nitblmodel>isactive'}],
                                                formatter: '.formatter.setItemStockColor'}"
                                                />
													</cells>
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
                                    alignItems="Start"
                                    justifyContent="End">
											<items>
												<Button text="{i18n>saveButtonText}" id="btnPaymentSave" type="Emphasized" class="sapUiSmallMarginEnd"/>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter>
								
								<IconTabFilter text="Attachments"  key="Attachment">
									<VBox fitContainer="true">
										<Table id="tblAttachmentStatus" width="100%"  mode="singleSelect" backgroundDesign="Solid" growingScrollToLoad="true" items="{
                                path: 'attachmenttblmodel>/',
                                    sorter: {
                                        path: 'id'
                                    }
                                }">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Attachment" level="H2"/>
														<ToolbarSpacer />
														<HBox>
															<SearchField search="onSearchAttachment" width="17.5rem" id = "onattachementSearchId"/>
															<Button
																width="20%"
																align="right"
																tooltip="Group"
																icon="sap-icon://group-2"
																press="handleAttachementGroupButtonPressed"/>
															<Button icon="sap-icon://sort" type="Transparent" press="onAttachementSort"/>
															<!-- <Button icon="sap-icon://add" type="Transparent" press="onAddNewRowNI" id ="Attachmentadd" visible="true"/> -->
														</HBox>
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
												<Column minScreenWidth="Tablet" demandPopin="true" >
													<Text text ="Stage Name"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true" >
													<Text text ="Activity Name"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true" >
													<Text text ="Attribute Name"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Document Name" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Download" />
												</Column>
											</columns>
											<items>
												<ColumnListItem type="Inactive" press="onListItemPressAttachment">
													<cells>
														<Text text="{attachmenttblmodel>stagename}"/>
														<Text text="{attachmenttblmodel>activityname}" />
														<Text text="{attachmenttblmodel>attributename}" />
														<Text text="{attachmenttblmodel>document_name}" />
														<Button icon="sap-icon://download" type="Transparent" press="onDownload" app:mySuperExtraData="{attachmenttblmodel>document_url}_{attachmenttblmodel>document_name}" visible="true"/>
													</cells>
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
											labelSpanXL="4"
											labelSpanL="4"
											labelSpanM="4"
											labelSpanS="12"
											adjustLabelSpan="false"
											emptySpanXL="0"
											emptySpanL="0"
											emptySpanM="0"
											emptySpanS="0"
											columnsXL="3"
											columnsL="2"
											columnsM="2"
											singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
											alignItems="Start"
											justifyContent="End">
											<items>
												<Button text="{i18n>saveButtonText}" id="btnAttachmentSave" type="Emphasized" class="sapUiSmallMarginEnd" press="onAttachmentSave"/>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter>
								<IconTabFilter text="Attributes" key="Attribute">
									<VBox fitContainer="true">
										<Table
										    id="tblAttributes"
											headerText="Products"
											growingScrollToLoad="true"
											items="{
                                                            path: 'attributeModel>/',
                                                                sorter: {
                                                                    path: 'stagename'
                                                                }
                               					 }">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Attribute" level="H2"/>
														<ToolbarSpacer />
														<HBox>
															<SearchField search="onSearchAttribute" width="17.5rem" id = "onAttachmentSearchId"/>
															<Button
																width="20%"
																align="right"
																tooltip="Group"
																icon="sap-icon://group-2"
																press="handleAttributeGroupButtonPressed"/>
															<Button icon="sap-icon://sort" type="Transparent" press="onAttributeSort"/>
															<Button text="" icon="sap-icon://excel-attachment" press="onDataAttributeExport"/>
															<Button icon="sap-icon://add" type="Transparent" press="onAddNewRowAttribute" id ="AddAttribute" visible="true"/>
														</HBox>
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Stage"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Activity"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Attribute"/>
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Remark"/>
												</Column>
											</columns>
											<items>
												<ColumnListItem type="Navigation" press="onListItemPressAttribute">
													<Text text="{attributeModel>parentstagename}" />
													<Text text="{attributeModel>stagename}" />
													<Text text="{attributeModel>attributename}" />
													<Input value="{attributeModel>remark}" />
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
															<Button text="All Attribute" id="btnallattribute" type="Emphasized" class="sapUiSmallMarginEnd" press="getAllStageArActivity"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
                                    alignItems="Start"
                                    justifyContent="End">
											<items>
												<Button text="{i18n>saveButtonText}" id="btnQCSave" type="Emphasized" class="sapUiSmallMarginEnd"/>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter>
								<!-- <IconTabFilter text="Gantt Chart">
									<VBox fitContainer="true">
										<Table id="tblGantteStatus" width="100%"  mode="singleSelect" backgroundDesign="Solid" growingScrollToLoad="true" items="{
                                path: 'activitymodel>/',
                                    sorter: {
                                        path: 'id'
                                    }
                                }">
											<headerToolbar>
												<Toolbar>
													<content>
														<Title text="Project Activity" level="H2"/>
														<ToolbarSpacer />
														<Button icon="sap-icon://add" type="Transparent" press="onAddNewRowNI" id ="Ganttadd" visible="true"/>
													</content>
												</Toolbar>
											</headerToolbar>
											<columns>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Id" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelQuantity}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelItemUnit}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelUnitCost}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelMaterialType}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelStage}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="{i18n>feedMillBillOfMaterialLabelProject}" />
												</Column>
												<Column minScreenWidth="Tablet" demandPopin="true">
													<Text text ="Active status" />
												</Column>
											</columns>
											<items>
												<ColumnListItem type="Navigation" press="onListItemPressActivity">
													<cells>
														<Text text="{activitymodel>count}" />
														<Text text="{activitymodel>stagename}" />
														<Text text="{activitymodel>startdate}" />
														<Text text="{activitymodel>enddate}"/>
														<Text text="{activitymodel>completiondays}"/>
														<Text text="{activitymodel>stagecompletionpercentage}"/>
														<Text text="{activitymodel>projectweightage}"/>
														<tnt:InfoLabel 
                                                text="1"
                                                displayOnly= "false"
                                                class="sapMInfoLabelSmall" 
                                                colorScheme= "{parts: [{path: 'nitblmodel>isactive'}],
                                                formatter: '.formatter.setItemStockColor'}"
                                                />
													</cells>
												</ColumnListItem>
											</items>
										</Table>
									</VBox>
									<form:Form editable="true">
										<form:title>
											<core:Title text="" />
										</form:title>
										<form:layout>
											<form:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false" />
										</form:layout>
										<form:formContainers>
											<form:FormContainer>
												<form:formElements>
													<form:FormElement label="Note">
														<form:fields>
															<TextArea placeholder="{i18n>feedMillBillOfMaterialLabelEnterNote}"  value="{projectModel>/note}" growing="true" rows="4" growingMaxLines="7" width="100%"/>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
											<form:FormContainer title="">
												<form:formElements>
													<form:FormElement label="">
														<form:fields>
														</form:fields>
													</form:FormElement>
												</form:formElements>
											</form:FormContainer>
										</form:formContainers>
									</form:Form>
									<Panel>
										<FlexBox		
                                    alignItems="Start"
                                    justifyContent="End">
											<items>
												<Button text="{i18n>cancelButtonText}" type="Emphasized" class="sapUiSmallMarginEnd" press="resetModel"/>
											</items>
										</FlexBox>
									</Panel>
								</IconTabFilter> -->
							</items>
							<layoutData>
								<FlexItemData growFactor="1" baseSize="0%"/>
							</layoutData>
						</IconTabBar>
					</VBox>
				</f:content>
			</f:DynamicPage>
		</f:beginColumnPages>
	</f:FlexibleColumnLayout>
</core:View>