/*!
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/comp/library","sap/m/ComboBox","sap/m/ComboBoxRenderer"],function(e,t,i){"use strict";var s="00000000-0000-0000-0000-000000000000";function r(e){return e===s}var a=t.extend("sap.ui.comp.smartfield.ComboBox",{metadata:{library:"sap.ui.comp",properties:{enteredValue:{type:"string",group:"Data",defaultValue:""},realValue:{type:"string",group:"Data",defaultValue:""}}},renderer:i});a.prototype.init=function(){t.prototype.init.apply(this,arguments);this.attachChange(function(){var e=this.getSelectedKey(),t=this.getKeys(),i=this.getSelectedItem(),s=e||e===""&&i&&t.indexOf(e)!==-1,r=s?e:this.getValue();this.setProperty("realValue",r)}.bind(this))};a.prototype.setRealValue=function(e){this.setValue(e);this.setSelectedKey(e);return this.setProperty("realValue",e)};a.prototype.setEnteredValue=function(e){if(typeof e!=="undefined"){this.setSelectedKey(e)}var t=this.getSelectedItem();if(e&&!t&&!r(e)){this.setValue(e)}var i=t?this.getSelectedKey():this.getValue();this.setProperty("enteredValue",i);return this};a.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return}var e=this.getSelectedKey(),t=this.getKeys(),i=this.getItemByKey(""+e);if(i&&(e!==""||t.indexOf(e)!==-1)&&e===this.getValue()){this.setAssociation("selectedItem",i,true);this._setPropertyProtected("selectedItemId",i.getId(),true);this.setProperty("enteredValue",e);this.setProperty("realValue",e);this.setValue(i.getText());this._sValue=this.getValue()}};return a});