// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(e,t,n){"use strict";var r=function(r,i,s){var a;function o(e){var n=[{id:"sap_belize",name:"SAP Belize"}];var r=t.get("config.themes",e);return r===undefined?n:r}this.updateUserPreferences=function(t){var r=new e.Deferred;function i(e){var t="Failed to update user preferences: "+(e&&e.message?e.message:e);n.error(t,e&&e.stack,"com.sap.ushell.adapters.local.UserInfo")}sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var n={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true};function s(e,t){var n=t.getChangedProperties()||[];n.forEach(function(t){e.setItemValue(t.propertyName,t.newValue)})}e.getContainer("sap.ushell.UserProfile",n,undefined).done(function(e){s(e,t);e.save().fail(function(e){i(e);r.reject(e)}).done(function(){r.resolve()})}).fail(function(e){i(e);r.reject(e)})});return r.promise()};this.getThemeList=function(){var t=new e.Deferred;if(a===undefined){a=o(s)}if(a.length===0){t.reject("no themes were configured")}else{t.resolve({options:a})}return t.promise()};this.getLanguageList=function(){var t=new e.Deferred;t.resolve([{text:"Browser Language",key:"default"},{text:"American English",key:"en-US"},{text:"British English",key:"en-GB"},{text:"English",key:"en"},{text:"German",key:"de"},{text:"Hebrew",key:"he"},{text:"Russian",key:"ru"}]);return t.promise()}};return r},false);