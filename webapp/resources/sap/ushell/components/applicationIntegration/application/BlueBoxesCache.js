// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/URI","sap/base/Log"],function(e,i){"use strict";var n={};function r(){n={}}function t(){return Object.keys(n).length}function a(e,i){var r=o(e);n[r]=i}function f(e){var i=o(e);if(n[i]){delete n[i]}}function u(e){if(e===undefined||t()===0){return undefined}var i=o(e);return i!==undefined?n[i]:undefined}function d(e){for(var i in n){if(n.hasOwnProperty(i)){var r=n[i];if(r.sId===e){return r}}}return undefined}function o(n){var r,t,a,f="",u="",d="",o="",s;if(n===undefined||n===""||n==="../"){return n}try{r=new e(n);if(n.charAt(0)==="/"){t=window.location.origin}else{t=r.origin()}if(t===undefined||t===""){t=r.path();if(t===undefined||t===""){t=n}}a=r.query(true);if(a["sap-iframe-hint"]){f="@"+a["sap-iframe-hint"]}if(a["sap-ui-version"]){u="@"+a["sap-ui-version"]}if((f==="@GUI"||f==="@WDA"||f==="@WCF")&&a["sap-keep-alive"]){d="@"+a["sap-keep-alive"]+"-"+n.split("#")[0]}if(a["sap-testcflp-iframeid"]){o="@"+a["sap-testcflp-iframeid"]}}catch(e){i.error("URL '"+n+"' can not be parsed: "+e,"sap.ushell.components.applicationIntegration.application.BlueBoxHandler");t=n}s=t+f+u+d+o;return s}return{init:r,getSize:t,add:a,remove:f,get:u,getById:d,getBlueBoxCacheKey:o}},false);