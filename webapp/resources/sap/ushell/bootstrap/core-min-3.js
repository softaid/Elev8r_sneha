//@ui5-bundle sap/ushell/bootstrap/core-min-3.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/security/encodeURLParameters",["./encodeURL"],function(e){"use strict";var n=function(n){if(!n){return""}var r=[];Object.keys(n).forEach(function(t){var i=n[t];if(i instanceof String||typeof i==="string"){i=e(i)}r.push(e(t)+"="+i)});return r.join("&")};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/strings/hyphenate",[],function(){"use strict";var e=/([A-Z])/g;var r=function(r){return r.replace(e,function(e,r){return"-"+r.toLowerCase()})};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/util/Deferred",[],function(){"use strict";var e=function(){var e=this;this.promise=new Promise(function(r,i){e.resolve=r;e.reject=i})};return e});
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash strict include="omit,uniq,uniqBy,uniqWith,intersection,intersectionBy,intersectionWith,pick,pickBy,debounce,throttle,max,min,castArray,curry,merge,mergeWith,toArray,xor,xorBy,xorWith,isNil,difference,differenceBy,differenceWith,flatMap,flatMapDeep,flatMapDepth,isEqual,isEqualWith,without,flatten,flattenDeep,flattenDepth,compact,zipObject,zipObjectDeep,union,unionBy,unionWith"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Modifications SAP SE or an SAP affiliate company and OpenUI5 contributors. All rights reserved.
 */
sap.ui.predefine("sap/base/util/restricted/_/lodash.custom",function(){"use strict";var r;var t="4.17.21";var n=200;var e="Expected a function";var u="__lodash_hash_undefined__";var i=500;var a="__lodash_placeholder__";var f=1,o=2,c=4;var l=1,s=2;var v=1,h=2,p=4,g=8,y=16,_=32,w=64,b=128,d=256,j=512;var m=800,O=16;var A=1/0,x=9007199254740991,z=17976931348623157e292,k=0/0;var S=4294967295;var E=[["ary",b],["bind",v],["bindKey",h],["curry",g],["curryRight",y],["flip",j],["partial",_],["partialRight",w],["rearg",d]];var T="[object Arguments]",$="[object Array]",I="[object AsyncFunction]",B="[object Boolean]",W="[object Date]",L="[object Error]",M="[object Function]",P="[object GeneratorFunction]",D="[object Map]",F="[object Number]",q="[object Null]",R="[object Object]",C="[object Promise]",U="[object Proxy]",N="[object RegExp]",V="[object Set]",G="[object String]",K="[object Symbol]",H="[object Undefined]",J="[object WeakMap]";var Q="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Z="[object Float64Array]",rr="[object Int8Array]",tr="[object Int16Array]",nr="[object Int32Array]",er="[object Uint8Array]",ur="[object Uint8ClampedArray]",ir="[object Uint16Array]",ar="[object Uint32Array]";var fr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,or=/^\w*$/,cr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var lr=/[\\^$.*+?()[\]{}|]/g;var sr=/^\s+/;var vr=/\s/;var hr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pr=/\{\n\/\* \[wrapped with (.+)\] \*/,gr=/,? & /;var yr=/\\(\\)?/g;var _r=/\w*$/;var wr=/^[-+]0x[0-9a-f]+$/i;var br=/^0b[01]+$/i;var dr=/^\[object .+?Constructor\]$/;var jr=/^0o[0-7]+$/i;var mr=/^(?:0|[1-9]\d*)$/;var Or="\\ud800-\\udfff",Ar="\\u0300-\\u036f",xr="\\ufe20-\\ufe2f",zr="\\u20d0-\\u20ff",kr=Ar+xr+zr,Sr="\\ufe0e\\ufe0f";var Er="["+Or+"]",Tr="["+kr+"]",$r="\\ud83c[\\udffb-\\udfff]",Ir="(?:"+Tr+"|"+$r+")",Br="[^"+Or+"]",Wr="(?:\\ud83c[\\udde6-\\uddff]){2}",Lr="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="\\u200d";var Pr=Ir+"?",Dr="["+Sr+"]?",Fr="(?:"+Mr+"(?:"+[Br,Wr,Lr].join("|")+")"+Dr+Pr+")*",qr=Dr+Pr+Fr,Rr="(?:"+[Br+Tr+"?",Tr,Wr,Lr,Er].join("|")+")";var Cr=RegExp($r+"(?="+$r+")|"+Rr+qr,"g");var Ur=RegExp("["+Mr+Or+kr+Sr+"]");var Nr={};Nr[Y]=Nr[Z]=Nr[rr]=Nr[tr]=Nr[nr]=Nr[er]=Nr[ur]=Nr[ir]=Nr[ar]=true;Nr[T]=Nr[$]=Nr[Q]=Nr[B]=Nr[X]=Nr[W]=Nr[L]=Nr[M]=Nr[D]=Nr[F]=Nr[R]=Nr[N]=Nr[V]=Nr[G]=Nr[J]=false;var Vr={};Vr[T]=Vr[$]=Vr[Q]=Vr[X]=Vr[B]=Vr[W]=Vr[Y]=Vr[Z]=Vr[rr]=Vr[tr]=Vr[nr]=Vr[D]=Vr[F]=Vr[R]=Vr[N]=Vr[V]=Vr[G]=Vr[K]=Vr[er]=Vr[ur]=Vr[ir]=Vr[ar]=true;Vr[L]=Vr[M]=Vr[J]=false;var Gr=parseInt;var Kr=typeof global=="object"&&global&&global.Object===Object&&global;var Hr=typeof self=="object"&&self&&self.Object===Object&&self;var Jr=Kr||Hr||Function("return this")();var Qr=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Xr=Qr&&typeof module=="object"&&module&&!module.nodeType&&module;var Yr=Xr&&Xr.exports===Qr;var Zr=Yr&&Kr.process;var rt=function(){try{var r=Xr&&Xr.require&&Xr.require("util").types;if(r){return r}return Zr&&Zr.binding&&Zr.binding("util")}catch(r){}}();var tt=rt&&rt.isMap,nt=rt&&rt.isSet,et=rt&&rt.isTypedArray;function ut(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}function it(r,t){var n=-1,e=r==null?0:r.length;while(++n<e){if(t(r[n],n,r)===false){break}}return r}function at(r,t){var n=-1,e=r==null?0:r.length,u=0,i=[];while(++n<e){var a=r[n];if(t(a,n,r)){i[u++]=a}}return i}function ft(r,t){var n=r==null?0:r.length;return!!n&&pt(r,t,0)>-1}function ot(r,t,n){var e=-1,u=r==null?0:r.length;while(++e<u){if(n(t,r[e])){return true}}return false}function ct(r,t){var n=-1,e=r==null?0:r.length,u=Array(e);while(++n<e){u[n]=t(r[n],n,r)}return u}function lt(r,t){var n=-1,e=t.length,u=r.length;while(++n<e){r[u+n]=t[n]}return r}function st(r,t){var n=-1,e=r==null?0:r.length;while(++n<e){if(t(r[n],n,r)){return true}}return false}function vt(r){return r.split("")}function ht(r,t,n,e){var u=r.length,i=n+(e?1:-1);while(e?i--:++i<u){if(t(r[i],i,r)){return i}}return-1}function pt(r,t,n){return t===t?Tt(r,t,n):ht(r,gt,n)}function gt(r){return r!==r}function yt(t){return function(n){return n==null?r:n[t]}}function _t(r,t){var n=-1,e=Array(r);while(++n<r){e[n]=t(n)}return e}function wt(r){return r?r.slice(0,It(r)+1).replace(sr,""):r}function bt(r){return function(t){return r(t)}}function dt(r,t){return ct(t,function(t){return r[t]})}function jt(r,t){return r.has(t)}function mt(r,t){var n=r.length,e=0;while(n--){if(r[n]===t){++e}}return e}function Ot(t,n){return t==null?r:t[n]}function At(r){return Ur.test(r)}function xt(r){var t,n=[];while(!(t=r.next()).done){n.push(t.value)}return n}function zt(r){var t=-1,n=Array(r.size);r.forEach(function(r,e){n[++t]=[e,r]});return n}function kt(r,t){return function(n){return r(t(n))}}function St(r,t){var n=-1,e=r.length,u=0,i=[];while(++n<e){var f=r[n];if(f===t||f===a){r[n]=a;i[u++]=n}}return i}function Et(r){var t=-1,n=Array(r.size);r.forEach(function(r){n[++t]=r});return n}function Tt(r,t,n){var e=n-1,u=r.length;while(++e<u){if(r[e]===t){return e}}return-1}function $t(r){return At(r)?Bt(r):vt(r)}function It(r){var t=r.length;while(t--&&vr.test(r.charAt(t))){}return t}function Bt(r){return r.match(Cr)||[]}var Wt=Array.prototype,Lt=Function.prototype,Mt=Object.prototype;var Pt=Jr["__core-js_shared__"];var Dt=Lt.toString;var Ft=Mt.hasOwnProperty;var qt=function(){var r=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();var Rt=Mt.toString;var Ct=Dt.call(Object);var Ut=RegExp("^"+Dt.call(Ft).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Nt=Yr?Jr.Buffer:r,Vt=Jr.Symbol,Gt=Jr.Uint8Array,Kt=Nt?Nt.allocUnsafe:r,Ht=kt(Object.getPrototypeOf,Object),Jt=Object.create,Qt=Mt.propertyIsEnumerable,Xt=Wt.splice,Yt=Vt?Vt.isConcatSpreadable:r,Zt=Vt?Vt.iterator:r,rn=Vt?Vt.toStringTag:r;var tn=function(){try{var r=Mu(Object,"defineProperty");r({},"",{});return r}catch(r){}}();var nn=Object.getOwnPropertySymbols,en=Nt?Nt.isBuffer:r,un=kt(Object.keys,Object),an=Math.max,fn=Math.min,on=Date.now;var cn=Mu(Jr,"DataView"),ln=Mu(Jr,"Map"),sn=Mu(Jr,"Promise"),vn=Mu(Jr,"Set"),hn=Mu(Jr,"WeakMap"),pn=Mu(Object,"create");var gn=hn&&new hn;var yn={};var _n=_i(cn),wn=_i(ln),bn=_i(sn),dn=_i(vn),jn=_i(hn);var mn=Vt?Vt.prototype:r,On=mn?mn.valueOf:r,An=mn?mn.toString:r;function xn(){}var zn=function(){function t(){}return function(n){if(!oa(n)){return{}}if(Jt){return Jt(n)}t.prototype=n;var e=new t;t.prototype=r;return e}}();function kn(){}function Sn(r){this.__wrapped__=r;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=S;this.__views__=[]}Sn.prototype=zn(kn.prototype);Sn.prototype.constructor=Sn;function En(r){var t=-1,n=r==null?0:r.length;this.clear();while(++t<n){var e=r[t];this.set(e[0],e[1])}}function Tn(){this.__data__=pn?pn(null):{};this.size=0}function $n(r){var t=this.has(r)&&delete this.__data__[r];this.size-=t?1:0;return t}function In(t){var n=this.__data__;if(pn){var e=n[t];return e===u?r:e}return Ft.call(n,t)?n[t]:r}function Bn(t){var n=this.__data__;return pn?n[t]!==r:Ft.call(n,t)}function Wn(t,n){var e=this.__data__;this.size+=this.has(t)?0:1;e[t]=pn&&n===r?u:n;return this}En.prototype.clear=Tn;En.prototype["delete"]=$n;En.prototype.get=In;En.prototype.has=Bn;En.prototype.set=Wn;function Ln(r){var t=-1,n=r==null?0:r.length;this.clear();while(++t<n){var e=r[t];this.set(e[0],e[1])}}function Mn(){this.__data__=[];this.size=0}function Pn(r){var t=this.__data__,n=ie(t,r);if(n<0){return false}var e=t.length-1;if(n==e){t.pop()}else{Xt.call(t,n,1)}--this.size;return true}function Dn(t){var n=this.__data__,e=ie(n,t);return e<0?r:n[e][1]}function Fn(r){return ie(this.__data__,r)>-1}function qn(r,t){var n=this.__data__,e=ie(n,r);if(e<0){++this.size;n.push([r,t])}else{n[e][1]=t}return this}Ln.prototype.clear=Mn;Ln.prototype["delete"]=Pn;Ln.prototype.get=Dn;Ln.prototype.has=Fn;Ln.prototype.set=qn;function Rn(r){var t=-1,n=r==null?0:r.length;this.clear();while(++t<n){var e=r[t];this.set(e[0],e[1])}}function Cn(){this.size=0;this.__data__={hash:new En,map:new(ln||Ln),string:new En}}function Un(r){var t=Wu(this,r)["delete"](r);this.size-=t?1:0;return t}function Nn(r){return Wu(this,r).get(r)}function Vn(r){return Wu(this,r).has(r)}function Gn(r,t){var n=Wu(this,r),e=n.size;n.set(r,t);this.size+=n.size==e?0:1;return this}Rn.prototype.clear=Cn;Rn.prototype["delete"]=Un;Rn.prototype.get=Nn;Rn.prototype.has=Vn;Rn.prototype.set=Gn;function Kn(r){var t=-1,n=r==null?0:r.length;this.__data__=new Rn;while(++t<n){this.add(r[t])}}function Hn(r){this.__data__.set(r,u);return this}function Jn(r){return this.__data__.has(r)}Kn.prototype.add=Kn.prototype.push=Hn;Kn.prototype.has=Jn;function Qn(r){var t=this.__data__=new Ln(r);this.size=t.size}function Xn(){this.__data__=new Ln;this.size=0}function Yn(r){var t=this.__data__,n=t["delete"](r);this.size=t.size;return n}function Zn(r){return this.__data__.get(r)}function re(r){return this.__data__.has(r)}function te(r,t){var e=this.__data__;if(e instanceof Ln){var u=e.__data__;if(!ln||u.length<n-1){u.push([r,t]);this.size=++e.size;return this}e=this.__data__=new Rn(u)}e.set(r,t);this.size=e.size;return this}Qn.prototype.clear=Xn;Qn.prototype["delete"]=Yn;Qn.prototype.get=Zn;Qn.prototype.has=re;Qn.prototype.set=te;function ne(r,t){var n=ra(r),e=!n&&Zi(r),u=!n&&!e&&ea(r),i=!n&&!e&&!u&&ya(r),a=n||e||u||i,f=a?_t(r.length,String):[],o=f.length;for(var c in r){if((t||Ft.call(r,c))&&!(a&&(c=="length"||u&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Hu(c,o)))){f.push(c)}}return f}function ee(t,n,e){if(e!==r&&!Yi(t[n],e)||e===r&&!(n in t)){oe(t,n,e)}}function ue(t,n,e){var u=t[n];if(!(Ft.call(t,n)&&Yi(u,e))||e===r&&!(n in t)){oe(t,n,e)}}function ie(r,t){var n=r.length;while(n--){if(Yi(r[n][0],t)){return n}}return-1}function ae(r,t){return r&&cu(t,xa(t),r)}function fe(r,t){return r&&cu(t,za(t),r)}function oe(r,t,n){if(t=="__proto__"&&tn){tn(r,t,{configurable:true,enumerable:true,value:n,writable:true})}else{r[t]=n}}function ce(t,n,e,u,i,a){var l,s=n&f,v=n&o,h=n&c;if(e){l=i?e(t,u,i,a):e(t)}if(l!==r){return l}if(!oa(t)){return t}var p=ra(t);if(p){l=Uu(t);if(!s){return ou(t,l)}}else{var g=qu(t),y=g==M||g==P;if(ea(t)){return ru(t,s)}if(g==R||g==T||y&&!i){l=v||y?{}:Nu(t);if(!s){return v?su(t,fe(l,t)):lu(t,ae(l,t))}}else{if(!Vr[g]){return i?t:{}}l=Vu(t,g,s)}}a||(a=new Qn);var _=a.get(t);if(_){return _}a.set(t,l);if(ha(t)){t.forEach(function(r){l.add(ce(r,n,e,r,t,a))})}else if(la(t)){t.forEach(function(r,u){l.set(u,ce(r,n,e,u,t,a))})}var w=h?v?Eu:Su:v?za:xa;var b=p?r:w(t);it(b||t,function(r,u){if(b){u=r;r=t[u]}ue(l,u,ce(r,n,e,u,t,a))});return l}function le(r,t,e,u){var i=-1,a=ft,f=true,o=r.length,c=[],l=t.length;if(!o){return c}if(e){t=ct(t,bt(e))}if(u){a=ot;f=false}else if(t.length>=n){a=jt;f=false;t=new Kn(t)}r:while(++i<o){var s=r[i],v=e==null?s:e(s);s=u||s!==0?s:0;if(f&&v===v){var h=l;while(h--){if(t[h]===v){continue r}}c.push(s)}else if(!a(t,v,u)){c.push(s)}}return c}var se=hu(ge);function ve(t,n,e){var u=-1,i=t.length;while(++u<i){var a=t[u],f=n(a);if(f!=null&&(o===r?f===f&&!ga(f):e(f,o))){var o=f,c=a}}return c}function he(r,t,n,e,u){var i=-1,a=r.length;n||(n=Ku);u||(u=[]);while(++i<a){var f=r[i];if(t>0&&n(f)){if(t>1){he(f,t-1,n,e,u)}else{lt(u,f)}}else if(!e){u[u.length]=f}}return u}var pe=pu();function ge(r,t){return r&&pe(r,t,xa)}function ye(t,n){n=Ze(n,t);var e=0,u=n.length;while(t!=null&&e<u){t=t[yi(n[e++])]}return e&&e==u?t:r}function _e(r,t,n){var e=t(r);return ra(r)?e:lt(e,n(r))}function we(t){if(t==null){return t===r?H:q}return rn&&rn in Object(t)?Pu(t):ai(t)}function be(r,t){return r>t}function de(r,t){return r!=null&&t in Object(r)}function je(t,n,e){var u=e?ot:ft,i=t[0].length,a=t.length,f=a,o=Array(a),c=Infinity,l=[];while(f--){var s=t[f];if(f&&n){s=ct(s,bt(n))}c=fn(s.length,c);o[f]=!e&&(n||i>=120&&s.length>=120)?new Kn(f&&s):r}s=t[0];var v=-1,h=o[0];r:while(++v<i&&l.length<c){var p=s[v],g=n?n(p):p;p=e||p!==0?p:0;if(!(h?jt(h,g):u(l,g,e))){f=a;while(--f){var y=o[f];if(!(y?jt(y,g):u(t[f],g,e))){continue r}}if(h){h.push(g)}l.push(p)}}return l}function me(r){return ca(r)&&we(r)==T}function Oe(r,t,n,e,u){if(r===t){return true}if(r==null||t==null||!ca(r)&&!ca(t)){return r!==r&&t!==t}return Ae(r,t,n,e,Oe,u)}function Ae(r,t,n,e,u,i){var a=ra(r),f=ra(t),o=a?$:qu(r),c=f?$:qu(t);o=o==T?R:o;c=c==T?R:c;var s=o==R,v=c==R,h=o==c;if(h&&ea(r)){if(!ea(t)){return false}a=true;s=false}if(h&&!s){i||(i=new Qn);return a||ya(r)?Au(r,t,n,e,u,i):xu(r,t,o,n,e,u,i)}if(!(n&l)){var p=s&&Ft.call(r,"__wrapped__"),g=v&&Ft.call(t,"__wrapped__");if(p||g){var y=p?r.value():r,_=g?t.value():t;i||(i=new Qn);return u(y,_,n,e,i)}}if(!h){return false}i||(i=new Qn);return zu(r,t,n,e,u,i)}function xe(r){return ca(r)&&qu(r)==D}function ze(t,n,e,u){var i=e.length,a=i,f=!u;if(t==null){return!a}t=Object(t);while(i--){var o=e[i];if(f&&o[2]?o[1]!==t[o[0]]:!(o[0]in t)){return false}}while(++i<a){o=e[i];var c=o[0],v=t[c],h=o[1];if(f&&o[2]){if(v===r&&!(c in t)){return false}}else{var p=new Qn;if(u){var g=u(v,h,c,t,n,p)}if(!(g===r?Oe(h,v,l|s,u,p):g)){return false}}}return true}function ke(r){if(!oa(r)||Zu(r)){return false}var t=aa(r)?Ut:dr;return t.test(_i(r))}function Se(r){return ca(r)&&qu(r)==V}function Ee(r){return ca(r)&&fa(r.length)&&!!Nr[we(r)]}function Te(r){if(typeof r=="function"){return r}if(r==null){return Wa}if(typeof r=="object"){return ra(r)?Me(r[0],r[1]):Le(r)}return Pa(r)}function $e(r){if(!ri(r)){return un(r)}var t=[];for(var n in Object(r)){if(Ft.call(r,n)&&n!="constructor"){t.push(n)}}return t}function Ie(r){if(!oa(r)){return ii(r)}var t=ri(r),n=[];for(var e in r){if(!(e=="constructor"&&(t||!Ft.call(r,e)))){n.push(e)}}return n}function Be(r,t){return r<t}function We(r,t){var n=-1,e=ta(r)?Array(r.length):[];se(r,function(r,u,i){e[++n]=t(r,u,i)});return e}function Le(r){var t=Lu(r);if(t.length==1&&t[0][2]){return ni(t[0][0],t[0][1])}return function(n){return n===r||ze(n,r,t)}}function Me(t,n){if(Qu(t)&&ti(n)){return ni(yi(t),n)}return function(e){var u=Oa(e,t);return u===r&&u===n?Aa(e,t):Oe(n,u,l|s)}}function Pe(t,n,e,u,i){if(t===n){return}pe(n,function(a,f){i||(i=new Qn);if(oa(a)){De(t,n,f,e,Pe,u,i)}else{var o=u?u(li(t,f),a,f+"",t,n,i):r;if(o===r){o=a}ee(t,f,o)}},za)}function De(t,n,e,u,i,a,f){var o=li(t,e),c=li(n,e),l=f.get(c);if(l){ee(t,e,l);return}var s=a?a(o,c,e+"",t,n,f):r;var v=s===r;if(v){var h=ra(c),p=!h&&ea(c),g=!h&&!p&&ya(c);s=c;if(h||p||g){if(ra(o)){s=o}else if(na(o)){s=ou(o)}else if(p){v=false;s=ru(c,true)}else if(g){v=false;s=iu(c,true)}else{s=[]}}else if(va(c)||Zi(c)){s=o;if(Zi(o)){s=ja(o)}else if(!oa(o)||aa(o)){s=Nu(c)}}else{v=false}}if(v){f.set(c,s);i(s,c,u,a,f);f["delete"](c)}ee(t,e,s)}function Fe(r,t){return qe(r,t,function(t,n){return Aa(r,n)})}function qe(r,t,n){var e=-1,u=t.length,i={};while(++e<u){var a=t[e],f=ye(r,a);if(n(f,a)){Ue(i,Ze(a,r),f)}}return i}function Re(r){return function(t){return ye(t,r)}}function Ce(r,t){return vi(fi(r,t,Wa),r+"")}function Ue(t,n,e,u){if(!oa(t)){return t}n=Ze(n,t);var i=-1,a=n.length,f=a-1,o=t;while(o!=null&&++i<a){var c=yi(n[i]),l=e;if(c==="__proto__"||c==="constructor"||c==="prototype"){return t}if(i!=f){var s=o[c];l=u?u(s,c,o):r;if(l===r){l=oa(s)?s:Hu(n[i+1])?[]:{}}}ue(o,c,l);o=o[c]}return t}var Ne=!gn?Wa:function(r,t){gn.set(r,t);return r};var Ve=!tn?Wa:function(r,t){return tn(r,"toString",{configurable:true,enumerable:false,value:Ba(t),writable:true})};function Ge(r,t,n){var e=-1,u=r.length;if(t<0){t=-t>u?0:u+t}n=n>u?u:n;if(n<0){n+=u}u=t>n?0:n-t>>>0;t>>>=0;var i=Array(u);while(++e<u){i[e]=r[e+t]}return i}function Ke(r){if(typeof r=="string"){return r}if(ra(r)){return ct(r,Ke)+""}if(ga(r)){return An?An.call(r):""}var t=r+"";return t=="0"&&1/r==-A?"-0":t}function He(r,t,e){var u=-1,i=ft,a=r.length,f=true,o=[],c=o;if(e){f=false;i=ot}else if(a>=n){var l=t?null:ju(r);if(l){return Et(l)}f=false;i=jt;c=new Kn}else{c=t?[]:o}r:while(++u<a){var s=r[u],v=t?t(s):s;s=e||s!==0?s:0;if(f&&v===v){var h=c.length;while(h--){if(c[h]===v){continue r}}if(t){c.push(v)}o.push(s)}else if(!i(c,v,e)){if(c!==o){c.push(v)}o.push(s)}}return o}function Je(r,t){t=Ze(t,r);r=oi(r,t);return r==null||delete r[yi(Ei(t))]}function Qe(r,t,n){var e=r.length;if(e<2){return e?He(r[0]):[]}var u=-1,i=Array(e);while(++u<e){var a=r[u],f=-1;while(++f<e){if(f!=u){i[u]=le(i[u]||a,r[f],t,n)}}}return He(he(i,1),t,n)}function Xe(t,n,e){var u=-1,i=t.length,a=n.length,f={};while(++u<i){var o=u<a?n[u]:r;e(f,t[u],o)}return f}function Ye(r){return na(r)?r:[]}function Ze(r,t){if(ra(r)){return r}return Qu(r,t)?[r]:gi(ma(r))}function ru(r,t){if(t){return r.slice()}var n=r.length,e=Kt?Kt(n):new r.constructor(n);r.copy(e);return e}function tu(r){var t=new r.constructor(r.byteLength);new Gt(t).set(new Gt(r));return t}function nu(r,t){var n=t?tu(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)}function eu(r){var t=new r.constructor(r.source,_r.exec(r));t.lastIndex=r.lastIndex;return t}function uu(r){return On?Object(On.call(r)):{}}function iu(r,t){var n=t?tu(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}function au(r,t,n,e){var u=-1,i=r.length,a=n.length,f=-1,o=t.length,c=an(i-a,0),l=Array(o+c),s=!e;while(++f<o){l[f]=t[f]}while(++u<a){if(s||u<i){l[n[u]]=r[u]}}while(c--){l[f++]=r[u++]}return l}function fu(r,t,n,e){var u=-1,i=r.length,a=-1,f=n.length,o=-1,c=t.length,l=an(i-f,0),s=Array(l+c),v=!e;while(++u<l){s[u]=r[u]}var h=u;while(++o<c){s[h+o]=t[o]}while(++a<f){if(v||u<i){s[h+n[a]]=r[u++]}}return s}function ou(r,t){var n=-1,e=r.length;t||(t=Array(e));while(++n<e){t[n]=r[n]}return t}function cu(t,n,e,u){var i=!e;e||(e={});var a=-1,f=n.length;while(++a<f){var o=n[a];var c=u?u(e[o],t[o],o,e,t):r;if(c===r){c=t[o]}if(i){oe(e,o,c)}else{ue(e,o,c)}}return e}function lu(r,t){return cu(r,Du(r),t)}function su(r,t){return cu(r,Fu(r),t)}function vu(t){return Ce(function(n,e){var u=-1,i=e.length,a=i>1?e[i-1]:r,f=i>2?e[2]:r;a=t.length>3&&typeof a=="function"?(i--,a):r;if(f&&Ju(e[0],e[1],f)){a=i<3?r:a;i=1}n=Object(n);while(++u<i){var o=e[u];if(o){t(n,o,u,a)}}return n})}function hu(r,t){return function(n,e){if(n==null){return n}if(!ta(n)){return r(n,e)}var u=n.length,i=t?u:-1,a=Object(n);while(t?i--:++i<u){if(e(a[i],i,a)===false){break}}return n}}function pu(r){return function(t,n,e){var u=-1,i=Object(t),a=e(t),f=a.length;while(f--){var o=a[r?f:++u];if(n(i[o],o,i)===false){break}}return t}}function gu(r,t,n){var e=t&v,u=yu(r);function i(){var t=this&&this!==Jr&&this instanceof i?u:r;return t.apply(e?n:this,arguments)}return i}function yu(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(r.prototype),e=r.apply(n,t);return oa(e)?e:n}}function _u(t,n,e){var u=yu(t);function i(){var a=arguments.length,f=Array(a),o=a,c=Iu(i);while(o--){f[o]=arguments[o]}var l=a<3&&f[0]!==c&&f[a-1]!==c?[]:St(f,c);a-=l.length;if(a<e){return du(t,n,wu,i.placeholder,r,f,l,r,r,e-a)}var s=this&&this!==Jr&&this instanceof i?u:t;return ut(s,this,f)}return i}function wu(t,n,e,u,i,a,f,o,c,l){var s=n&b,p=n&v,_=n&h,w=n&(g|y),d=n&j,m=_?r:yu(t);function O(){var r=arguments.length,v=Array(r),h=r;while(h--){v[h]=arguments[h]}if(w){var g=Iu(O),y=mt(v,g)}if(u){v=au(v,u,i,w)}if(a){v=fu(v,a,f,w)}r-=y;if(w&&r<l){var b=St(v,g);return du(t,n,wu,O.placeholder,e,v,b,o,c,l-r)}var j=p?e:this,A=_?j[t]:t;r=v.length;if(o){v=ci(v,o)}else if(d&&r>1){v.reverse()}if(s&&c<r){v.length=c}if(this&&this!==Jr&&this instanceof O){A=m||yu(A)}return A.apply(j,v)}return O}function bu(r,t,n,e){var u=t&v,i=yu(r);function a(){var t=-1,f=arguments.length,o=-1,c=e.length,l=Array(c+f),s=this&&this!==Jr&&this instanceof a?i:r;while(++o<c){l[o]=e[o]}while(f--){l[o++]=arguments[++t]}return ut(s,u?n:this,l)}return a}function du(t,n,e,u,i,a,f,o,c,l){var s=n&g,y=s?f:r,b=s?r:f,d=s?a:r,j=s?r:a;n|=s?_:w;n&=~(s?w:_);if(!(n&p)){n&=~(v|h)}var m=[t,n,i,d,y,j,b,o,c,l];var O=e.apply(r,m);if(Yu(t)){si(O,m)}O.placeholder=u;return hi(O,t,n)}var ju=!(vn&&1/Et(new vn([,-0]))[1]==A)?Ma:function(r){return new vn(r)};function mu(t,n,u,i,a,f,o,c){var l=n&h;if(!l&&typeof t!="function"){throw new TypeError(e)}var s=i?i.length:0;if(!s){n&=~(_|w);i=a=r}o=o===r?o:an(ba(o),0);c=c===r?c:ba(c);s-=a?a.length:0;if(n&w){var p=i,b=a;i=a=r}var d=l?r:Tu(t);var j=[t,n,u,i,a,p,b,f,o,c];if(d){ui(j,d)}t=j[0];n=j[1];u=j[2];i=j[3];a=j[4];c=j[9]=j[9]===r?l?0:t.length:an(j[9]-s,0);if(!c&&n&(g|y)){n&=~(g|y)}if(!n||n==v){var m=gu(t,n,u)}else if(n==g||n==y){m=_u(t,n,c)}else if((n==_||n==(v|_))&&!a.length){m=bu(t,n,u,i)}else{m=wu.apply(r,j)}var O=d?Ne:si;return hi(O(m,j),t,n)}function Ou(t){return va(t)?r:t}function Au(t,n,e,u,i,a){var f=e&l,o=t.length,c=n.length;if(o!=c&&!(f&&c>o)){return false}var v=a.get(t);var h=a.get(n);if(v&&h){return v==n&&h==t}var p=-1,g=true,y=e&s?new Kn:r;a.set(t,n);a.set(n,t);while(++p<o){var _=t[p],w=n[p];if(u){var b=f?u(w,_,p,n,t,a):u(_,w,p,t,n,a)}if(b!==r){if(b){continue}g=false;break}if(y){if(!st(n,function(r,t){if(!jt(y,t)&&(_===r||i(_,r,e,u,a))){return y.push(t)}})){g=false;break}}else if(!(_===w||i(_,w,e,u,a))){g=false;break}}a["delete"](t);a["delete"](n);return g}function xu(r,t,n,e,u,i,a){switch(n){case X:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset){return false}r=r.buffer;t=t.buffer;case Q:if(r.byteLength!=t.byteLength||!i(new Gt(r),new Gt(t))){return false}return true;case B:case W:case F:return Yi(+r,+t);case L:return r.name==t.name&&r.message==t.message;case N:case G:return r==t+"";case D:var f=zt;case V:var o=e&l;f||(f=Et);if(r.size!=t.size&&!o){return false}var c=a.get(r);if(c){return c==t}e|=s;a.set(r,t);var v=Au(f(r),f(t),e,u,i,a);a["delete"](r);return v;case K:if(On){return On.call(r)==On.call(t)}}return false}function zu(t,n,e,u,i,a){var f=e&l,o=Su(t),c=o.length,s=Su(n),v=s.length;if(c!=v&&!f){return false}var h=c;while(h--){var p=o[h];if(!(f?p in n:Ft.call(n,p))){return false}}var g=a.get(t);var y=a.get(n);if(g&&y){return g==n&&y==t}var _=true;a.set(t,n);a.set(n,t);var w=f;while(++h<c){p=o[h];var b=t[p],d=n[p];if(u){var j=f?u(d,b,p,n,t,a):u(b,d,p,t,n,a)}if(!(j===r?b===d||i(b,d,e,u,a):j)){_=false;break}w||(w=p=="constructor")}if(_&&!w){var m=t.constructor,O=n.constructor;if(m!=O&&("constructor"in t&&"constructor"in n)&&!(typeof m=="function"&&m instanceof m&&typeof O=="function"&&O instanceof O)){_=false}}a["delete"](t);a["delete"](n);return _}function ku(t){return vi(fi(t,r,Oi),t+"")}function Su(r){return _e(r,xa,Du)}function Eu(r){return _e(r,za,Fu)}var Tu=!gn?Ma:function(r){return gn.get(r)};function $u(r){var t=r.name+"",n=yn[t],e=Ft.call(yn,t)?n.length:0;while(e--){var u=n[e],i=u.func;if(i==null||i==r){return u.name}}return t}function Iu(r){var t=Ft.call(xn,"placeholder")?xn:r;return t.placeholder}function Bu(){var r=xn.iteratee||La;r=r===La?Te:r;return arguments.length?r(arguments[0],arguments[1]):r}function Wu(r,t){var n=r.__data__;return Xu(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Lu(r){var t=xa(r),n=t.length;while(n--){var e=t[n],u=r[e];t[n]=[e,u,ti(u)]}return t}function Mu(t,n){var e=Ot(t,n);return ke(e)?e:r}function Pu(t){var n=Ft.call(t,rn),e=t[rn];try{t[rn]=r;var u=true}catch(r){}var i=Rt.call(t);if(u){if(n){t[rn]=e}else{delete t[rn]}}return i}var Du=!nn?Da:function(r){if(r==null){return[]}r=Object(r);return at(nn(r),function(t){return Qt.call(r,t)})};var Fu=!nn?Da:function(r){var t=[];while(r){lt(t,Du(r));r=Ht(r)}return t};var qu=we;if(cn&&qu(new cn(new ArrayBuffer(1)))!=X||ln&&qu(new ln)!=D||sn&&qu(sn.resolve())!=C||vn&&qu(new vn)!=V||hn&&qu(new hn)!=J){qu=function(t){var n=we(t),e=n==R?t.constructor:r,u=e?_i(e):"";if(u){switch(u){case _n:return X;case wn:return D;case bn:return C;case dn:return V;case jn:return J}}return n}}function Ru(r){var t=r.match(pr);return t?t[1].split(gr):[]}function Cu(r,t,n){t=Ze(t,r);var e=-1,u=t.length,i=false;while(++e<u){var a=yi(t[e]);if(!(i=r!=null&&n(r,a))){break}r=r[a]}if(i||++e!=u){return i}u=r==null?0:r.length;return!!u&&fa(u)&&Hu(a,u)&&(ra(r)||Zi(r))}function Uu(r){var t=r.length,n=new r.constructor(t);if(t&&typeof r[0]=="string"&&Ft.call(r,"index")){n.index=r.index;n.input=r.input}return n}function Nu(r){return typeof r.constructor=="function"&&!ri(r)?zn(Ht(r)):{}}function Vu(r,t,n){var e=r.constructor;switch(t){case Q:return tu(r);case B:case W:return new e(+r);case X:return nu(r,n);case Y:case Z:case rr:case tr:case nr:case er:case ur:case ir:case ar:return iu(r,n);case D:return new e;case F:case G:return new e(r);case N:return eu(r);case V:return new e;case K:return uu(r)}}function Gu(r,t){var n=t.length;if(!n){return r}var e=n-1;t[e]=(n>1?"& ":"")+t[e];t=t.join(n>2?", ":" ");return r.replace(hr,"{\n/* [wrapped with "+t+"] */\n")}function Ku(r){return ra(r)||Zi(r)||!!(Yt&&r&&r[Yt])}function Hu(r,t){var n=typeof r;t=t==null?x:t;return!!t&&(n=="number"||n!="symbol"&&mr.test(r))&&(r>-1&&r%1==0&&r<t)}function Ju(r,t,n){if(!oa(n)){return false}var e=typeof t;if(e=="number"?ta(n)&&Hu(t,n.length):e=="string"&&t in n){return Yi(n[t],r)}return false}function Qu(r,t){if(ra(r)){return false}var n=typeof r;if(n=="number"||n=="symbol"||n=="boolean"||r==null||ga(r)){return true}return or.test(r)||!fr.test(r)||t!=null&&r in Object(t)}function Xu(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Yu(r){var t=$u(r),n=xn[t];if(typeof n!="function"||!(t in Sn.prototype)){return false}if(r===n){return true}var e=Tu(n);return!!e&&r===e[0]}function Zu(r){return!!qt&&qt in r}function ri(r){var t=r&&r.constructor,n=typeof t=="function"&&t.prototype||Mt;return r===n}function ti(r){return r===r&&!oa(r)}function ni(t,n){return function(e){if(e==null){return false}return e[t]===n&&(n!==r||t in Object(e))}}function ei(r){var t=Ji(r,function(r){if(n.size===i){n.clear()}return r});var n=t.cache;return t}function ui(r,t){var n=r[1],e=t[1],u=n|e,i=u<(v|h|b);var f=e==b&&n==g||e==b&&n==d&&r[7].length<=t[8]||e==(b|d)&&t[7].length<=t[8]&&n==g;if(!(i||f)){return r}if(e&v){r[2]=t[2];u|=n&v?0:p}var o=t[3];if(o){var c=r[3];r[3]=c?au(c,o,t[4]):o;r[4]=c?St(r[3],a):t[4]}o=t[5];if(o){c=r[5];r[5]=c?fu(c,o,t[6]):o;r[6]=c?St(r[5],a):t[6]}o=t[7];if(o){r[7]=o}if(e&b){r[8]=r[8]==null?t[8]:fn(r[8],t[8])}if(r[9]==null){r[9]=t[9]}r[0]=t[0];r[1]=u;return r}function ii(r){var t=[];if(r!=null){for(var n in Object(r)){t.push(n)}}return t}function ai(r){return Rt.call(r)}function fi(t,n,e){n=an(n===r?t.length-1:n,0);return function(){var r=arguments,u=-1,i=an(r.length-n,0),a=Array(i);while(++u<i){a[u]=r[n+u]}u=-1;var f=Array(n+1);while(++u<n){f[u]=r[u]}f[n]=e(a);return ut(t,this,f)}}function oi(r,t){return t.length<2?r:ye(r,Ge(t,0,-1))}function ci(t,n){var e=t.length,u=fn(n.length,e),i=ou(t);while(u--){var a=n[u];t[u]=Hu(a,e)?i[a]:r}return t}function li(r,t){if(t==="constructor"&&typeof r[t]==="function"){return}if(t=="__proto__"){return}return r[t]}var si=pi(Ne);var vi=pi(Ve);function hi(r,t,n){var e=t+"";return vi(r,Gu(e,wi(Ru(e),n)))}function pi(t){var n=0,e=0;return function(){var u=on(),i=O-(u-e);e=u;if(i>0){if(++n>=m){return arguments[0]}}else{n=0}return t.apply(r,arguments)}}var gi=ei(function(r){var t=[];if(r.charCodeAt(0)===46){t.push("")}r.replace(cr,function(r,n,e,u){t.push(e?u.replace(yr,"$1"):n||r)});return t});function yi(r){if(typeof r=="string"||ga(r)){return r}var t=r+"";return t=="0"&&1/r==-A?"-0":t}function _i(r){if(r!=null){try{return Dt.call(r)}catch(r){}try{return r+""}catch(r){}}return""}function wi(r,t){it(E,function(n){var e="_."+n[0];if(t&n[1]&&!ft(r,e)){r.push(e)}});return r.sort()}function bi(r){var t=-1,n=r==null?0:r.length,e=0,u=[];while(++t<n){var i=r[t];if(i){u[e++]=i}}return u}var di=Ce(function(r,t){return na(r)?le(r,he(t,1,na,true)):[]});var ji=Ce(function(t,n){var e=Ei(n);if(na(e)){e=r}return na(t)?le(t,he(n,1,na,true),Bu(e,2)):[]});var mi=Ce(function(t,n){var e=Ei(n);if(na(e)){e=r}return na(t)?le(t,he(n,1,na,true),r,e):[]});function Oi(r){var t=r==null?0:r.length;return t?he(r,1):[]}function Ai(r){var t=r==null?0:r.length;return t?he(r,A):[]}function xi(t,n){var e=t==null?0:t.length;if(!e){return[]}n=n===r?1:ba(n);return he(t,n)}var zi=Ce(function(r){var t=ct(r,Ye);return t.length&&t[0]===r[0]?je(t):[]});var ki=Ce(function(t){var n=Ei(t),e=ct(t,Ye);if(n===Ei(e)){n=r}else{e.pop()}return e.length&&e[0]===t[0]?je(e,Bu(n,2)):[]});var Si=Ce(function(t){var n=Ei(t),e=ct(t,Ye);n=typeof n=="function"?n:r;if(n){e.pop()}return e.length&&e[0]===t[0]?je(e,r,n):[]});function Ei(t){var n=t==null?0:t.length;return n?t[n-1]:r}var Ti=Ce(function(r){return He(he(r,1,na,true))});var $i=Ce(function(t){var n=Ei(t);if(na(n)){n=r}return He(he(t,1,na,true),Bu(n,2))});var Ii=Ce(function(t){var n=Ei(t);n=typeof n=="function"?n:r;return He(he(t,1,na,true),r,n)});function Bi(r){return r&&r.length?He(r):[]}function Wi(r,t){return r&&r.length?He(r,Bu(t,2)):[]}function Li(t,n){n=typeof n=="function"?n:r;return t&&t.length?He(t,r,n):[]}var Mi=Ce(function(r,t){return na(r)?le(r,t):[]});var Pi=Ce(function(r){return Qe(at(r,na))});var Di=Ce(function(t){var n=Ei(t);if(na(n)){n=r}return Qe(at(t,na),Bu(n,2))});var Fi=Ce(function(t){var n=Ei(t);n=typeof n=="function"?n:r;return Qe(at(t,na),r,n)});function qi(r,t){return Xe(r||[],t||[],ue)}function Ri(r,t){return Xe(r||[],t||[],Ue)}function Ci(r,t){return he(Vi(r,t),1)}function Ui(r,t){return he(Vi(r,t),A)}function Ni(t,n,e){e=e===r?1:ba(e);return he(Vi(t,n),e)}function Vi(r,t){var n=ra(r)?ct:We;return n(r,Bu(t,3))}var Gi=function(){return Jr.Date.now()};function Ki(t,n,e){n=e?r:n;var u=mu(t,g,r,r,r,r,r,n);u.placeholder=Ki.placeholder;return u}function Hi(t,n,u){var i,a,f,o,c,l,s=0,v=false,h=false,p=true;if(typeof t!="function"){throw new TypeError(e)}n=da(n)||0;if(oa(u)){v=!!u.leading;h="maxWait"in u;f=h?an(da(u.maxWait)||0,n):f;p="trailing"in u?!!u.trailing:p}function g(n){var e=i,u=a;i=a=r;s=n;o=t.apply(u,e);return o}function y(r){s=r;c=setTimeout(b,n);return v?g(r):o}function _(r){var t=r-l,e=r-s,u=n-t;return h?fn(u,f-e):u}function w(t){var e=t-l,u=t-s;return l===r||e>=n||e<0||h&&u>=f}function b(){var r=Gi();if(w(r)){return d(r)}c=setTimeout(b,_(r))}function d(t){c=r;if(p&&i){return g(t)}i=a=r;return o}function j(){if(c!==r){clearTimeout(c)}s=0;i=l=a=c=r}function m(){return c===r?o:d(Gi())}function O(){var t=Gi(),e=w(t);i=arguments;a=this;l=t;if(e){if(c===r){return y(l)}if(h){clearTimeout(c);c=setTimeout(b,n);return g(l)}}if(c===r){c=setTimeout(b,n)}return o}O.cancel=j;O.flush=m;return O}function Ji(r,t){if(typeof r!="function"||t!=null&&typeof t!="function"){throw new TypeError(e)}var n=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=n.cache;if(i.has(u)){return i.get(u)}var a=r.apply(this,e);n.cache=i.set(u,a)||i;return a};n.cache=new(Ji.Cache||Rn);return n}Ji.Cache=Rn;function Qi(r,t,n){var u=true,i=true;if(typeof r!="function"){throw new TypeError(e)}if(oa(n)){u="leading"in n?!!n.leading:u;i="trailing"in n?!!n.trailing:i}return Hi(r,t,{leading:u,maxWait:t,trailing:i})}function Xi(){if(!arguments.length){return[]}var r=arguments[0];return ra(r)?r:[r]}function Yi(r,t){return r===t||r!==r&&t!==t}var Zi=me(function(){return arguments}())?me:function(r){return ca(r)&&Ft.call(r,"callee")&&!Qt.call(r,"callee")};var ra=Array.isArray;function ta(r){return r!=null&&fa(r.length)&&!aa(r)}function na(r){return ca(r)&&ta(r)}var ea=en||Fa;function ua(r,t){return Oe(r,t)}function ia(t,n,e){e=typeof e=="function"?e:r;var u=e?e(t,n):r;return u===r?Oe(t,n,r,e):!!u}function aa(r){if(!oa(r)){return false}var t=we(r);return t==M||t==P||t==I||t==U}function fa(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=x}function oa(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function ca(r){return r!=null&&typeof r=="object"}var la=tt?bt(tt):xe;function sa(r){return r==null}function va(r){if(!ca(r)||we(r)!=R){return false}var t=Ht(r);if(t===null){return true}var n=Ft.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Dt.call(n)==Ct}var ha=nt?bt(nt):Se;function pa(r){return typeof r=="string"||!ra(r)&&ca(r)&&we(r)==G}function ga(r){return typeof r=="symbol"||ca(r)&&we(r)==K}var ya=et?bt(et):Ee;function _a(r){if(!r){return[]}if(ta(r)){return pa(r)?$t(r):ou(r)}if(Zt&&r[Zt]){return xt(r[Zt]())}var t=qu(r),n=t==D?zt:t==V?Et:Ia;return n(r)}function wa(r){if(!r){return r===0?r:0}r=da(r);if(r===A||r===-A){var t=r<0?-1:1;return t*z}return r===r?r:0}function ba(r){var t=wa(r),n=t%1;return t===t?n?t-n:t:0}function da(r){if(typeof r=="number"){return r}if(ga(r)){return k}if(oa(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=oa(t)?t+"":t}if(typeof r!="string"){return r===0?r:+r}r=wt(r);var n=br.test(r);return n||jr.test(r)?Gr(r.slice(2),n?2:8):wr.test(r)?k:+r}function ja(r){return cu(r,za(r))}function ma(r){return r==null?"":Ke(r)}function Oa(t,n,e){var u=t==null?r:ye(t,n);return u===r?e:u}function Aa(r,t){return r!=null&&Cu(r,t,de)}function xa(r){return ta(r)?ne(r):$e(r)}function za(r){return ta(r)?ne(r,true):Ie(r)}var ka=vu(function(r,t,n){Pe(r,t,n)});var Sa=vu(function(r,t,n,e){Pe(r,t,n,e)});var Ea=ku(function(r,t){var n={};if(r==null){return n}var e=false;t=ct(t,function(t){t=Ze(t,r);e||(e=t.length>1);return t});cu(r,Eu(r),n);if(e){n=ce(n,f|o|c,Ou)}var u=t.length;while(u--){Je(n,t[u])}return n});var Ta=ku(function(r,t){return r==null?{}:Fe(r,t)});function $a(r,t){if(r==null){return{}}var n=ct(Eu(r),function(r){return[r]});t=Bu(t);return qe(r,n,function(r,n){return t(r,n[0])})}function Ia(r){return r==null?[]:dt(r,xa(r))}function Ba(r){return function(){return r}}function Wa(r){return r}function La(r){return Te(typeof r=="function"?r:ce(r,f))}function Ma(){}function Pa(r){return Qu(r)?yt(yi(r)):Re(r)}function Da(){return[]}function Fa(){return false}function qa(t){return t&&t.length?ve(t,Wa,be):r}function Ra(t){return t&&t.length?ve(t,Wa,Be):r}xn.castArray=Xi;xn.compact=bi;xn.constant=Ba;xn.curry=Ki;xn.debounce=Hi;xn.difference=di;xn.differenceBy=ji;xn.differenceWith=mi;xn.flatMap=Ci;xn.flatMapDeep=Ui;xn.flatMapDepth=Ni;xn.flatten=Oi;xn.flattenDeep=Ai;xn.flattenDepth=xi;xn.intersection=zi;xn.intersectionBy=ki;xn.intersectionWith=Si;xn.iteratee=La;xn.keys=xa;xn.keysIn=za;xn.map=Vi;xn.memoize=Ji;xn.merge=ka;xn.mergeWith=Sa;xn.omit=Ea;xn.pick=Ta;xn.pickBy=$a;xn.property=Pa;xn.throttle=Qi;xn.toArray=_a;xn.toPlainObject=ja;xn.union=Ti;xn.unionBy=$i;xn.unionWith=Ii;xn.uniq=Bi;xn.uniqBy=Wi;xn.uniqWith=Li;xn.values=Ia;xn.without=Mi;xn.xor=Pi;xn.xorBy=Di;xn.xorWith=Fi;xn.zipObject=qi;xn.zipObjectDeep=Ri;xn.eq=Yi;xn.get=Oa;xn.hasIn=Aa;xn.identity=Wa;xn.isArguments=Zi;xn.isArray=ra;xn.isArrayLike=ta;xn.isArrayLikeObject=na;xn.isBuffer=ea;xn.isEqual=ua;xn.isEqualWith=ia;xn.isFunction=aa;xn.isLength=fa;xn.isMap=la;xn.isNil=sa;xn.isObject=oa;xn.isObjectLike=ca;xn.isPlainObject=va;xn.isSet=ha;xn.isString=pa;xn.isSymbol=ga;xn.isTypedArray=ya;xn.last=Ei;xn.max=qa;xn.min=Ra;xn.stubArray=Da;xn.stubFalse=Fa;xn.noop=Ma;xn.now=Gi;xn.toFinite=wa;xn.toInteger=ba;xn.toNumber=da;xn.toString=ma;xn.VERSION=t;Ki.placeholder=xn;return xn});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/util/restricted/_curry",["sap/base/util/restricted/_/lodash.custom"],function(r){"use strict";return r.curry});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/util/restricted/_isEqual",["sap/base/util/restricted/_/lodash.custom"],function(s){"use strict";return s.isEqual});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/util/restricted/_union",["sap/base/util/restricted/_/lodash.custom"],function(e){"use strict";return e.union});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/base/util/restricted/_zipObject",["sap/base/util/restricted/_/lodash.custom"],function(e){"use strict";return e.zipObject});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/navigation/NavError",["sap/ui/base/Object"],function(r){"use strict";var t=r.extend("sap.fe.navigation.NavError",{metadata:{publicMethods:["getErrorCode"],properties:{},library:"sap.fe.navigation"},constructor:function(t){r.apply(this);this._sErrorCode=t}});t.prototype.getErrorCode=function(){return this._sErrorCode};return t});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/navigation/SelectionVariant",["./NavError","sap/ui/base/Object","sap/base/util/each","sap/base/Log"],function(t,e,i,n){"use strict";return e.extend("sap.fe.navigation.SelectionVariant",{_rVALIDATE_SIGN:new RegExp("[E|I]"),_rVALIDATE_OPTION:new RegExp("EQ|NE|LE|GE|LT|GT|BT|CP"),constructor:function(e){this._mParameters={};this._mSelectOptions={};this._sId="";if(e!==undefined){if(typeof e==="string"){this._parseFromString(e)}else if(typeof e==="object"){this._parseFromObject(e)}else{throw new t("SelectionVariant.INVALID_INPUT_TYPE")}}},getID:function(){return this._sId},setID:function(t){this._sId=t},setText:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}this._sText=e},getText:function(){return this._sText},setParameterContextUrl:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}this._sParameterCtxUrl=e},getParameterContextUrl:function(){return this._sParameterCtxUrl},getFilterContextUrl:function(){return this._sFilterCtxUrl},setFilterContextUrl:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}this._sFilterCtxUrl=e},addParameter:function(e,i){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof i!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new t("SelectionVariant.PARAMETER_WITHOUT_NAME")}if(this._mSelectOptions[e]){throw new t("SelectionVariant.PARAMETER_SELOPT_COLLISION")}this._mParameters[e]=i;return this},removeParameter:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new t("SelectionVariant.PARAMETER_WITHOUT_NAME")}delete this._mParameters[e];return this},renameParameter:function(e,i){if(typeof e!=="string"||typeof i!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""||i===""){throw new t("SelectionVariant.PARAMETER_WITHOUT_NAME")}if(this._mParameters[e]!==undefined){if(this._mSelectOptions[i]){throw new t("SelectionVariant.PARAMETER_SELOPT_COLLISION")}if(this._mParameters[i]){throw new t("SelectionVariant.PARAMETER_COLLISION")}this._mParameters[i]=this._mParameters[e];delete this._mParameters[e]}return this},getParameter:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}return this._mParameters[e]},getParameterNames:function(){return Object.keys(this._mParameters)},addSelectOption:function(e,i,n,r,a,o,s){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new t("SelectionVariant.INVALID_PROPERTY_NAME")}if(typeof i!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof n!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(typeof r!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(n==="BT"&&typeof a!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(!this._rVALIDATE_SIGN.test(i.toUpperCase())){throw new t("SelectionVariant.INVALID_SIGN")}if(!this._rVALIDATE_OPTION.test(n.toUpperCase())){throw new t("SelectionVariant.INVALID_OPTION")}if(this._mParameters[e]){throw new t("SelectionVariant.PARAMETER_SELOPT_COLLISION")}if(n!=="BT"){if(a!==undefined&&a!==""&&a!==null){throw new t("SelectionVariant.HIGH_PROVIDED_THOUGH_NOT_ALLOWED")}}if(this._mSelectOptions[e]===undefined){this._mSelectOptions[e]=[]}var l={Sign:i.toUpperCase(),Option:n.toUpperCase(),Low:r};if(o){l.Text=o}if(n==="BT"){l.High=a}else{l.High=null}if(s){l.SemanticDates=s}for(var _=0;_<this._mSelectOptions[e].length;_++){var f=this._mSelectOptions[e][_];if(f.Sign===l.Sign&&f.Option===l.Option&&f.Low===l.Low&&f.High===l.High){return this}}this._mSelectOptions[e].push(l);return this},removeSelectOption:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.SELOPT_WRONG_TYPE")}if(e===""){throw new t("SelectionVariant.SELOPT_WITHOUT_NAME")}delete this._mSelectOptions[e];return this},renameSelectOption:function(e,i){if(typeof e!=="string"||typeof i!=="string"){throw new t("SelectionVariant.SELOPT_WRONG_TYPE")}if(e===""||i===""){throw new t("SelectionVariant.SELOPT_WITHOUT_NAME")}if(this._mSelectOptions[e]!==undefined){if(this._mSelectOptions[i]){throw new t("SelectionVariant.SELOPT_COLLISION")}if(this._mParameters[i]){throw new t("SelectionVariant.PARAMETER_SELOPT_COLLISION")}this._mSelectOptions[i]=this._mSelectOptions[e];delete this._mSelectOptions[e]}return this},getSelectOption:function(e){if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}if(e===""){throw new t("SelectionVariant.INVALID_PROPERTY_NAME")}var i=this._mSelectOptions[e];if(!i){return undefined}return JSON.parse(JSON.stringify(i))},getSelectOptionsPropertyNames:function(){return Object.keys(this._mSelectOptions)},getPropertyNames:function(){return this.getParameterNames().concat(this.getSelectOptionsPropertyNames())},massAddSelectOption:function(e,i){if(!Array.isArray(i)){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}for(var n=0;n<i.length;n++){var r=i[n];this.addSelectOption(e,r.Sign,r.Option,r.Low,r.High,r.Text,r.SemanticDates)}return this},getValue:function(t){var e=this.getSelectOption(t);if(e!==undefined){return e}var i=this.getParameter(t);if(i!==undefined){e=[{Sign:"I",Option:"EQ",Low:i,High:null}];return e}return undefined},isEmpty:function(){return this.getParameterNames().length===0&&this.getSelectOptionsPropertyNames().length===0},toJSONObject:function(){var t={Version:{Major:"1",Minor:"0",Patch:"0"},SelectionVariantID:this._sId};if(this._sParameterCtxUrl){t.ParameterContextUrl=this._sParameterCtxUrl}if(this._sFilterCtxUrl){t.FilterContextUrl=this._sFilterCtxUrl}if(this._sText){t.Text=this._sText}else{t.Text="Selection Variant with ID "+this._sId}this._determineODataFilterExpression(t);this._serializeParameters(t);this._serializeSelectOptions(t);return t},toJSONString:function(){return JSON.stringify(this.toJSONObject())},_determineODataFilterExpression:function(t){t.ODataFilterExpression=""},_serializeParameters:function(t){if(this._mParameters.length===0){return}t.Parameters=[];i(this._mParameters,function(e,i){var n={PropertyName:e,PropertyValue:i};t.Parameters.push(n)})},_serializeSelectOptions:function(t){if(this._mSelectOptions.length===0){return}t.SelectOptions=[];i(this._mSelectOptions,function(e,i){var n={PropertyName:e,Ranges:i};t.SelectOptions.push(n)})},_parseFromString:function(e){if(e===undefined){throw new t("SelectionVariant.UNABLE_TO_PARSE_INPUT")}if(typeof e!=="string"){throw new t("SelectionVariant.INVALID_INPUT_TYPE")}var i=JSON.parse(e);this._parseFromObject(i)},_parseFromObject:function(t){if(!t){t={}}if(t.SelectionVariantID===undefined){n.warning("SelectionVariantID is not defined");t.SelectionVariantID=""}this.setID(t.SelectionVariantID);if(t.ParameterContextUrl!==undefined&&t.ParameterContextUrl!==""){this.setParameterContextUrl(t.ParameterContextUrl)}if(t.FilterContextUrl!==undefined&&t.FilterContextUrl!==""){this.setFilterContextUrl(t.FilterContextUrl)}if(t.Text!==undefined){this.setText(t.Text)}if(t.Parameters){this._parseFromStringParameters(t.Parameters)}if(t.SelectOptions){this._parseFromStringSelectOptions(t.SelectOptions)}},_parseFromStringParameters:function(t){i(t,function(t,e){this.addParameter(e.PropertyName,e.PropertyValue)}.bind(this))},_parseFromStringSelectOptions:function(e){i(e,function(e,r){if(!r.Ranges){n.warning("Select Option object does not contain a Ranges entry; ignoring entry");return true}if(!Array.isArray(r.Ranges)){throw new t("SelectionVariant.SELECT_OPTION_RANGES_NOT_ARRAY")}i(r.Ranges,function(t,e){this.addSelectOption(r.PropertyName,e.Sign,e.Option,e.Low,e.High,e.Text,e.SemanticDates)}.bind(this))}.bind(this))}})},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ActionSheet",["./Dialog","./Popover","./library","sap/ui/core/Control","sap/ui/core/delegate/ItemNavigation","sap/ui/core/InvisibleText","sap/ui/Device","./ActionSheetRenderer","./Button","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(t,e,n,i,o,s,a,r,p,l,c){"use strict";var h=n.ButtonType;var u=n.DialogType;var f=n.PlacementType;var d=i.extend("sap.m.ActionSheet",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:f.Bottom},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:true},cancelButtonText:{type:"string",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null}},aggregations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_cancelButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_invisibleAriaTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"}},defaultAggregation:"buttons",events:{cancelButtonTap:{deprecated:true},beforeOpen:{},afterOpen:{},beforeClose:{parameters:{origin:{type:"sap.m.Button"}}},afterClose:{parameters:{origin:{type:"sap.m.Button"}}},cancelButtonPress:{}},designtime:"sap/m/designtime/ActionSheet.designtime"},renderer:r});d.prototype.init=function(){this._fnOrientationChange=this._orientationChange.bind(this);this._actionSelected=null};d.prototype.exit=function(){a.resize.detachHandler(this._fnOrientationChange);if(this._parent){this._parent.destroy();this._parent=null}if(this._oCancelButton){this._oCancelButton.destroy();this._oCancelButton=null}this._clearItemNavigation()};d.prototype._clearItemNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};d.prototype._setItemNavigation=function(){var t=this._getAllButtons(),e=[],n=this.getDomRef();if(n){this._oItemNavigation.setRootDomRef(n);for(var i=0;i<t.length;i++){if(t[i].getEnabled()&&t[i].getVisible()){e.push(t[i].getFocusDomRef())}}if(this._oCancelButton){e.push(this._oCancelButton.getFocusDomRef())}this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setSelectedIndex(0);this._oItemNavigation.setPageSize(5);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"]})}};d.prototype.onmousedown=function(t){if(t.srcControl.isA("sap.m.Button")&&this.getButtons().indexOf(t.srcControl)!==-1){this._actionSelected=t.srcControl}};d.prototype.onBeforeRendering=function(){var t,e;this._clearItemNavigation();t=this.getTitle();if(this._parent&&!this.isPropertyInitial("title")&&this._parent.getTitle()!==t){if(a.system.phone){this._parent.setTitle(t);this._parent.setShowHeader(!!t)}if(t){this._parent.addStyleClass("sapMActionSheetDialogWithTitle")}else{this._parent.removeStyleClass("sapMActionSheetDialogWithTitle")}}e=this.getPlacement();if(this._parent&&!a.system.phone&&!this.isPropertyInitial("placement")&&this._parent.setPlacement()!==e){this._parent.setPlacement(e)}};d.prototype.onAfterRendering=function(){this._oItemNavigation=new o;this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._setItemNavigation()};d.prototype.sapfocusleave=function(){this.close()};d.prototype.openBy=function(n){var i=this;if(!this._parent){var o=this.getParent();if(o){this.setParent(null)}if(!a.system.phone){this._parent=new e({placement:this.getPlacement(),showHeader:false,content:[this],beforeOpen:function(){i.fireBeforeOpen()},afterOpen:function(){i.focus();i.fireAfterOpen()},beforeClose:function(){i.fireBeforeClose()},afterClose:function(){if(i.getShowCancelButton()){i.fireCancelButtonTap();i.fireCancelButtonPress()}i._onAfterClose(i._actionSelected);i._actionSelected=null},ariaLabelledBy:this.getPopupHiddenLabelId()||undefined}).addStyleClass("sapMActionSheetPopover");this._parent._setAriaRoleApplication(true)}else{this._parent=new t({title:this.getTitle(),type:u.Standard,content:[this],beforeOpen:function(){i.fireBeforeOpen()},afterOpen:function(){i.focus();i.fireAfterOpen()},beforeClose:function(t){i.fireBeforeClose({origin:t.getParameter("origin")})},afterClose:function(t){i._actionSelected=t.getParameter("origin");i._onAfterClose(i._actionSelected);i._actionSelected=null;a.resize.detachHandler(i._fnOrientationChange)}}).addStyleClass("sapMActionSheetDialog");if(this.getTitle()){this._parent.addStyleClass("sapMActionSheetDialogWithTitle")}else{this._parent.addAriaLabelledBy(this.getPopupHiddenLabelId()||undefined)}if(!a.system.phone){this._parent.setBeginButton(this._getCancelButton())}if(a.system.phone){this._parent.oPopup.setModal(true);this._parent._setDimensions=function(){t.prototype._setDimensions.apply(this);this.$("cont").css("max-height","")};this._parent._adjustScrollingPane=function(){var t=this.$().height();this.$("cont").css("max-height",t);if(this._oScroller){this._oScroller.refresh()}}}}if(o){o.addDependent(this._parent)}}if(!a.system.phone){this._parent.openBy(n)}else{this._parent.open();a.resize.attachHandler(this._fnOrientationChange)}};d.prototype.close=function(){if(this._parent){this._parent.close()}};d.prototype.isOpen=function(){return!!this._parent&&this._parent.isOpen()};d.prototype._createCancelButton=function(){if(!this._oCancelButton){var t=this.getCancelButtonText()?this.getCancelButtonText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACTIONSHEET_CANCELBUTTON_TEXT"),e=this;this._oCancelButton=new p(this.getId()+"-cancelBtn",{text:t,type:h.Reject,press:function(){if(a.system.phone&&e._parent){e._parent._oCloseTrigger=this}e.close();e.fireCancelButtonTap();e.fireCancelButtonPress()}}).addStyleClass("sapMActionSheetButton sapMActionSheetCancelButton sapMBtnTransparent sapMBtnInverted");if(a.system.phone){this.setAggregation("_cancelButton",this._oCancelButton,true)}}return this};d.prototype._getCancelButton=function(){if(a.system.phone&&this.getShowCancelButton()){this._createCancelButton();return this._oCancelButton}return null};d.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,true);if(this._oCancelButton){this._oCancelButton.setText(t)}return this};d.prototype._preProcessActionButton=function(t){var e=t.getType();if(e!==h.Accept&&e!==h.Reject){t.setType(h.Transparent)}t.addStyleClass("sapMBtnInverted");if(!t.getIcon()){t.addStyleClass("sapMActionSheetButtonNoIcon")}t.addStyleClass("sapMActionSheetButton");this._parent&&this._parent.invalidate();return this};d.prototype._buttonSelected=function(){if(a.system.phone&&this._parent){this._parent._oCloseTrigger=this}this.close()};d.prototype._orientationChange=function(){this._parent._adjustScrollingPane()};d.prototype._addAriaHiddenTexts=function(t){var e=t.getId(),n;if(c.getAccessibility()){n=new s(e+"-actionSheetHiddenText");this.addAggregation("_invisibleAriaTexts",n,false);t.addAriaDescribedBy(n.getId())}};d.prototype._removeAriaHiddenTexts=function(t){t.getAriaDescribedBy().forEach(function(e){var n=sap.ui.getCore().byId(e);if(n instanceof s&&e.indexOf("actionSheetHiddenText")>-1){this.removeAggregation("_invisibleAriaTexts",n,false);t.removeAriaDescribedBy(n);n.destroy()}},this)};d.prototype.addButton=function(t){this.addAggregation("buttons",t,false);this._addAriaHiddenTexts(t);this._preProcessActionButton(t);t.attachPress(this._buttonSelected,this);return this};d.prototype.insertButton=function(t,e){this.insertAggregation("buttons",t,e,false);this._addAriaHiddenTexts(t);this._preProcessActionButton(t);t.attachPress(this._buttonSelected,this);return this};d.prototype.removeButton=function(t){var e=this.removeAggregation("buttons",t,false);if(e){e.detachPress(this._buttonSelected,this);this._removeAriaHiddenTexts(e)}return e};d.prototype.removeAllButtons=function(){var t=this.removeAllAggregation("buttons",false),e=this;l.each(t,function(t,n){n.detachPress(e._buttonSelected,e);e._removeAriaHiddenTexts(n)});return t};d.prototype.clone=function(){var t=this.getButtons();for(var e=0;e<t.length;e++){t[e].detachPress(this._buttonSelected,this)}var n=i.prototype.clone.apply(this,arguments);for(var o=0;o<t.length;o++){t[o].attachPress(this._buttonSelected,this)}return n};d.prototype._getAllButtons=function(){return this.getButtons()};d.prototype.getPopupHiddenLabelId=function(){return s.getStaticId("sap.m","ACTIONSHEET_AVAILABLE_ACTIONS")};d.prototype._applyContextualSettings=function(){i.prototype._applyContextualSettings.call(this)};d.prototype._onAfterClose=function(t){this.fireAfterClose({origin:t})};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ActionSheetRenderer",["sap/ui/Device","sap/ui/core/Configuration"],function(e,t){"use strict";var i={apiVersion:2};i.render=function(i,n){var r=n._getAllButtons(),o=n.getAggregation("_invisibleAriaTexts"),s=sap.ui.getCore().getLibraryResourceBundle("sap.m"),a=r.length,l=t.getAccessibility(),u=r.filter(function(e){return e.getVisible()}).length,g,c,f,p,d=1,A=function(e){return o.filter(function(t){return t.getId().indexOf(e.getId())>-1})[0]};for(c=0;c<a;c++){p=r[c];if(p.getIcon()&&p.getVisible()){f=true}}i.openStart("div",n);i.class("sapMActionSheet");if(f){i.class("sapMActionSheetMixedButtons")}var C=n.getTooltip_AsString();if(C){i.attr("title",C)}l&&i.attr("role","presentation");i.openEnd();for(c=0;c<a;c++){p=r[c];i.renderControl(r[c]);if(l&&p.getVisible()){g=A(p);if(g){g.setText(s.getText("ACTIONSHEET_BUTTON_INDEX",[d,u]));i.renderControl(g)}d++}}if(e.system.phone&&n.getShowCancelButton()){i.renderControl(n._getCancelButton())}i.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Avatar",["sap/ui/core/Control","sap/ui/core/IconPool","./AvatarRenderer","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Icon","./library","sap/ui/core/library"],function(e,t,a,i,o,s,r,n){"use strict";var l=r.AvatarType;var p=r.AvatarImageFitType;var c=r.AvatarColor;var u=r.AvatarSize;var h=r.AvatarShape;var d=n.aria.HasPopup;var g=Object.keys(c).filter(function(e){return e.indexOf("Accent")!==-1});var f=e.extend("sap.m.Avatar",{metadata:{library:"sap.m",properties:{src:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},initials:{type:"string",group:"Data",defaultValue:null},displayShape:{type:"sap.m.AvatarShape",group:"Appearance",defaultValue:h.Circle},displaySize:{type:"sap.m.AvatarSize",group:"Appearance",defaultValue:u.S},customDisplaySize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"3rem"},customFontSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"1.125rem"},imageFitType:{type:"sap.m.AvatarImageFitType",group:"Appearance",defaultValue:p.Cover},fallbackIcon:{type:"string",group:"Data",defaultValue:null},backgroundColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:c.Accent6},showBorder:{type:"boolean",group:"Appearance",defaultValue:false},badgeIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},badgeTooltip:{type:"string",group:"Data",defaultValue:null},decorative:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:d.None}},aggregations:{detailBox:{type:"sap.m.LightBox",multiple:false,bindable:"bindable"},_badge:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_icon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}},dnd:{draggable:true,droppable:false},designtime:"sap/m/designtime/Avatar.designtime"},renderer:a});f.DEFAULT_CIRCLE_PLACEHOLDER="sap-icon://person-placeholder";f.DEFAULT_SQUARE_PLACEHOLDER="sap-icon://product";f.AVATAR_BADGE_TOOLTIP={"sap-icon://zoom-in":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_ZOOMIN"),"sap-icon://camera":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_CAMERA"),"sap-icon://edit":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_EDIT")};f.prototype.init=function(){this._sActualType=null;this._bIsDefaultIcon=true;this._sImageFallbackType=null;this._sPickedRandomColor=null;this._badgeRef=null};f.prototype.onAfterRendering=function(){this._checkInitialsHolderWidth()};f.prototype.onThemeChanged=function(){this._checkInitialsHolderWidth()};f.prototype.exit=function(){if(this._fnLightBoxOpen){this._fnLightBoxOpen=null}if(this._badgeRef){this._badgeRef.destroy()}this._sPickedRandomColor=null};f.prototype.setDetailBox=function(e){var t=this.getDetailBox();if(e){if(e===t){return this}if(t){this.detachPress(this._fnLightBoxOpen,t)}this._fnLightBoxOpen=e.open;this.attachPress(this._fnLightBoxOpen,e)}else if(this._fnLightBoxOpen){this.detachPress(this._fnLightBoxOpen,t);this._fnLightBoxOpen=null}return this.setAggregation("detailBox",e)};f.prototype.clone=function(){var t=e.prototype.clone.apply(this,arguments),a=t.getDetailBox();if(a){t.detachPress(this._fnLightBoxOpen,this.getDetailBox());t._fnLightBoxOpen=a.open;t.attachPress(t._fnLightBoxOpen,a)}return t};f.prototype.attachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);e.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex","0");this.$().attr("role","button")}return this};f.prototype.detachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);e.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex");this.$().attr("role","img")}return this};f.prototype.ontap=function(){this.firePress({})};f.prototype.onkeydown=function(e){if(e.which===i.SHIFT||e.which===i.ESCAPE){this._bShouldInterupt=this._bSpacePressed}if(e.which===i.SPACE){this._bSpacePressed=true;e.preventDefault()}if(e.which===i.ENTER){this.firePress({})}};f.prototype.onkeyup=function(e){if(e.which===i.SPACE){if(!this._bShouldInterupt){this.firePress({})}this._bShouldInterupt=false;this._bSpacePressed=false;e.stopPropagation()}};f.prototype._areInitialsValid=function(e){var t=/^[a-zA-Z]{1,3}$/;if(!t.test(e)){o.warning("Initials should consist of only 1,2 or 3 latin letters",this);this._sActualType=l.Icon;this._bIsDefaultIcon=true;return false}return true};f.prototype._validateSrc=function(e){if(t.isIconURI(e)){this._sActualType=l.Icon;this._bIsDefaultIcon=t.getIconInfo(e)?false:true}else{this._bIsDefaultIcon=true;this._sActualType=l.Image;this.preloadedImage=new window.Image;this.preloadedImage.src=e;this.preloadedImage.onload=this._onImageLoad.bind(this);this.preloadedImage.onerror=this._onImageError.bind(this)}return this};f.prototype._getDisplayIcon=function(e){return t.isIconURI(e)&&t.getIconInfo(e)?t.createControlByURI({src:e}):null};f.prototype._getActualDisplayType=function(){var e=this.getSrc(),t=this.getInitials();if(e){this._validateSrc(e)}else if(t&&this._areInitialsValid(t)){this._sActualType=l.Initials}else{o.warning("No src and initials were provided",this);this._sActualType=l.Icon;this._bIsDefaultIcon=true}return this._sActualType};f.prototype._getImageFallbackType=function(){var e=this.getInitials();this._sImageFallbackType=e&&this._areInitialsValid(e)?l.Initials:l.Icon;return this._sImageFallbackType};f.prototype._getDefaultIconPath=function(e){var a=null,i=this.getFallbackIcon();if(i&&t.isIconURI(i)){a=i}else if(e===h.Circle){a=f.DEFAULT_CIRCLE_PLACEHOLDER}else if(e===h.Square){a=f.DEFAULT_SQUARE_PLACEHOLDER}return a};f.prototype._getIcon=function(){var e=this.getSrc(),a=this.getAggregation("_icon"),i=this.getDisplayShape();if(this._bIsDefaultIcon){e=this._getDefaultIconPath(i)}if(!a){a=t.createControlByURI({alt:"Image placeholder",src:e});this.setAggregation("_icon",a)}else if(a.getSrc()!==e){a.setSrc(e)}return a};f.prototype._getDefaultTooltip=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP")};f.prototype._getBadgeIconSource=function(){var e;if(this.getDetailBox()){e="sap-icon://zoom-in"}else if(this.getBadgeIcon()!==""){if(this._getDisplayIcon(this.getBadgeIcon())){e=this.getBadgeIcon()}else{o.warning("No valid Icon URI source for badge affordance was provided")}}return e};f.prototype._getBadgeTooltip=function(){var e=this._getDefaultTooltip(),t=this.getBadgeIcon();if(this.getBadgeTooltip()){e=this.getBadgeTooltip()}else if(t&&f.AVATAR_BADGE_TOOLTIP[this.getBadgeIcon()]){e=f.AVATAR_BADGE_TOOLTIP[t]}return e};f.prototype._getBadge=function(){var e=this._getBadgeIconSource(),t=this._getBadgeTooltip();if(!e){return}if(!this._badgeRef){this.setAggregation("_badge",new s({src:e,tooltip:t}))}this._badgeRef=this.getAggregation("_badge");return this._badgeRef};f.prototype._onImageLoad=function(){delete this.preloadedImage};f.prototype._onImageError=function(){var e=this._getImageFallbackType();this.$().removeClass("sapFAvatarImage").addClass("sapFAvatar"+e);delete this.preloadedImage};f.prototype._getActualBackgroundColor=function(){var e=this.getBackgroundColor();if(e===c.Random){if(this._sPickedRandomColor){return this._sPickedRandomColor}e=this._sPickedRandomColor=c[g[g.length*Math.random()<<0]]}else{this._sPickedRandomColor=null}return e};f.prototype._checkInitialsHolderWidth=function(){var e=this.$(),t=this.getInitials().length;this.$oInitialsHolder=e.children(".sapFAvatarInitialsHolder");if(this.$oInitialsHolder.length!==0&&t===3){var a=e[0].offsetWidth,i=this.$oInitialsHolder[0].offsetWidth;if(i>a){this._wideInitialsIcon()}}};f.prototype._wideInitialsIcon=function(){var e=this.$(),t=e.children(".sapFAvatarHiddenIcon");t.removeClass("sapFAvatarHiddenIcon");this.$oInitialsHolder.css("display","none");e.removeClass("sapFAvatarInitials");e.addClass("sapFAvatarIcon")};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/AvatarRenderer",["sap/m/library","sap/base/security/encodeCSS"],function(e,a){"use strict";var t=e.AvatarSize;var s=e.AvatarType;var r={apiVersion:2};r.render=function(e,r){var l=r.getInitials(),i=r._getActualDisplayType(),n=r._getImageFallbackType(),o=r.getDisplaySize(),p=r.getDisplayShape(),c=r.getImageFitType(),d=r.getCustomDisplaySize(),g=r.getCustomFontSize(),y=r.getSrc(),u="sapFAvatar",f=r.getTooltip_AsString(),S=r.getAriaLabelledBy(),I=r.getAriaDescribedBy(),b=r.getAriaHasPopup(),v=r.hasListeners("press")?r._getBadge():null,A=r._getDefaultTooltip(),C=l.length;e.openStart("span",r);e.class(u);e.class("sapFAvatarColor"+r._getActualBackgroundColor());e.class(u+o);e.class(u+i);e.class(u+p);if(r.hasListeners("press")){e.class("sapMPointer");e.class(u+"Focusable");e.attr("role","button");e.attr("tabindex",0)}else if(r.getDecorative()){e.attr("role","presentation");e.attr("aria-hidden","true")}else{e.attr("role","img")}if(r.getShowBorder()){e.class("sapFAvatarBorder")}if(o===t.Custom){e.style("width",d);e.style("height",d);e.style("font-size",g)}if(f){e.attr("title",f);e.attr("aria-label",f)}else if(l){e.attr("aria-label",A+" "+l)}else{e.attr("aria-label",A)}if(S&&S.length>0){e.attr("aria-labelledby",S.join(" "))}if(I&&I.length>0){e.attr("aria-describedby",I.join(" "))}if(b&&b!=="None"){e.attr("aria-haspopup",b.toLowerCase())}e.openEnd();if(i===s.Icon||n===s.Icon){e.renderControl(r._getIcon().addStyleClass(u+"TypeIcon"))}else if(i===s.Initials||n===s.Initials){if(C===3){e.renderControl(r._getIcon().addStyleClass(u+"TypeIcon").addStyleClass(u+"HiddenIcon"))}e.openStart("span");e.class(u+"InitialsHolder");e.openEnd();e.text(l);e.close("span")}if(i===s.Image){e.openStart("span");e.class(u+"ImageHolder");e.class(u+i+c);e.style("background-image","url('"+a(y)+"')");e.openEnd();e.close("span")}if(v){e.openStart("div");e.class(u+"BadgeIconActiveArea");if(d){e.style("font-size",d)}e.openEnd();e.openStart("span");e.class(u+"BadgeIcon");e.openEnd();e.renderControl(v);e.close("span");e.close("div")}e.close("span")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Column",["./library","sap/ui/core/Element","sap/ui/core/Renderer","sap/ui/core/library","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleText"],function(e,t,i,r,n,a,s){"use strict";var o=e.PopinDisplay;var p=r.VerticalAlign;var h=r.TextAlign;var u=r.SortOrder;var d=t.extend("sap.m.Column",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},hAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:h.Begin},vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:p.Inherit},styleClass:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},minScreenWidth:{type:"string",group:"Behavior",defaultValue:null},demandPopin:{type:"boolean",group:"Behavior",defaultValue:false},popinHAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:h.Begin,deprecated:true},popinDisplay:{type:"sap.m.PopinDisplay",group:"Appearance",defaultValue:o.Block},mergeDuplicates:{type:"boolean",group:"Behavior",defaultValue:false},mergeFunctionName:{type:"string",group:"Misc",defaultValue:"getText"},sortIndicator:{type:"sap.ui.core.SortOrder",group:"Appearance",defaultValue:u.None},importance:{type:"sap.ui.core.Priority",group:"Behavior",defaultValue:"None"},autoPopinWidth:{type:"float",group:"Behavior",defaultValue:8}},defaultAggregation:"header",aggregations:{header:{type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},associations:{headerMenu:{type:"sap.ui.core.IColumnHeaderMenu",multiple:false,visibility:"hidden"}},designtime:"sap/m/designtime/Column.designtime"}});d.prototype._index=-1;d.prototype._screen="";d.prototype._media=null;d.prototype._bForcedColumn=false;d.prototype.exit=function(){this._clearMedia()};d.prototype.setParent=function(e){t.prototype.setParent.apply(this,arguments);if(!e){delete this._initialOrder}return this};d.prototype.getTable=function(){var e=this.getParent();if(e&&e.isA("sap.m.Table")){return e}};d.prototype.informTable=function(e,t,i){var r=this.getTable();if(r){var n="onColumn"+e;if(r[n]){r[n](this,t,i)}}};d.prototype.ontouchstart=function(e){this._bTouchStartMarked=e.isMarked()};d.prototype.ontap=function(e){if(!this._bTouchStartMarked&&!e.isMarked()){this.informTable("Press")}};d.prototype.onsapspace=function(e){if(e.srcControl===this){this.informTable("Press");e.preventDefault()}};d.prototype.onsapenter=d.prototype.onsapspace;d.prototype.invalidate=function(){var e=this.getParent();if(!e||!e.bOutput){return}t.prototype.invalidate.apply(this,arguments)};d.prototype._clearMedia=function(){if(this._media&&this._minWidth){this._detachMediaContainerWidthChange(this._notifyResize,this,this.getId());n.media.removeRangeSet(this.getId());this._media=null}};d.prototype._addMedia=function(){delete this._bShouldAddMedia;if(this._minWidth){n.media.initRangeSet(this.getId(),[parseFloat(this._minWidth)]);this._attachMediaContainerWidthChange(this._notifyResize,this,this.getId());this._media=this._getCurrentMediaContainerRange(this.getId());if(this._media){this._media.matches=!!this._media.from}}};d.prototype._notifyResize=function(e){if(this._media.from===e.from){return}this._media=e;this._media.matches=!!e.from;setTimeout(function(){if(!this.getVisible()){return}this.fireEvent("media",this);this.informTable("Resize")}.bind(this),0)};d.prototype._validateMinWidth=function(t){if(!t){return}if(Object.prototype.toString.call(t)!="[object String]"){throw new Error('expected string for property "minScreenWidth" of '+this)}if(Object.keys(e.ScreenSizes).indexOf(t.toLowerCase())!=-1){return}if(!/^\d+(\.\d+)?(px|em|rem)$/i.test(t)){throw new Error('invalid CSS size("px", "em", "rem" required) or sap.m.ScreenSize enumeration for property "minScreenWidth" of '+this)}};d.prototype._isWidthPredefined=function(t){var i=this,r=t.replace(/[^a-z]/gi,""),n=parseFloat(e.BaseFontSize)||16;a.each(e.ScreenSizes,function(e,a){if(r!="px"){a/=n}if(a+r==t){i._minWidth=this+"px";i._screen=e;return false}});if(this._minWidth){return true}if(r=="px"){this._minWidth=t}else{this._minWidth=parseFloat(t)*n+"px"}};d.prototype.getCssAlign=function(e){e=e||this.getHAlign();if(e===h.Begin||e===h.End||e===h.Initial){e=i.getTextAlign(e)}return e.toLowerCase()};d.prototype.getStyleClass=function(e){var t=this.getProperty("styleClass");if(!e){return t}if(this._screen&&(!this.getDemandPopin()||!window.matchMedia)){t+=" sapMSize-"+this._screen}else if(this._media&&!this._media.matches){t+=" sapMListTblNone"}return t.trim()};d.prototype.setIndex=function(e){this._index=+e};d.prototype.getIndex=function(){return this._index};d.prototype.setOrder=function(e){this._order=+e};d.prototype.getOrder=function(){return this.hasOwnProperty("_order")?this._order:this.getInitialOrder()};d.prototype.setInitialOrder=function(e){this._initialOrder=+e};d.prototype.getInitialOrder=function(){if(this.hasOwnProperty("_initialOrder")){return this._initialOrder}var e=this.getTable();if(!e){return-1}return e.indexOfColumn(this)};d.prototype.setDisplay=function(e,t){if(!e||this._index<0){return}var i=this._index+1,r=this.getParent(),n=t&&!this.isHidden()?"table-cell":"none",a=e.querySelector("tr > th:nth-child("+i+")"),s=e.querySelectorAll("tr > td:nth-child("+i+")"),o=s.length;a.style.display=n;a.setAttribute("aria-hidden",!t);for(i=0;i<o;i++){s[i].style.display=n;s[i].setAttribute("aria-hidden",!t)}if(r&&r.setTableHeaderVisibility){setTimeout(function(){r.setTableHeaderVisibility(t)},0)}};d.prototype.setVisible=function(e){if(e==this.getVisible()){return this}var t=this.getParent(),i=t&&t.getTableDomRef&&t.getTableDomRef(),r=i&&this._index>=0&&!t.getAutoPopinMode()&&!this._bForcedColumn;if(r){this.setProperty("visible",e,r);this.setDisplay(i,e)}else{this.setProperty("visible",e)}return this};d.prototype._setMinScreenWidth=function(t){this._clearMedia();this._minWidth=0;this._screen="";if(t){t=t.toLowerCase();var i=e.ScreenSizes[t];if(i){this._screen=t;this._minWidth=i+"px"}else{this._isWidthPredefined(t)}var r=this.getTable();if(r&&r.isActive()){this._addMedia()}else{this._bShouldAddMedia=true}}};d.prototype.setMinScreenWidth=function(e){e=e||"";if(e==this.getMinScreenWidth()){return this}this._validateMinWidth(e);this._setMinScreenWidth(e);return this.setProperty("minScreenWidth",e)};d.prototype.setDemandPopin=function(e){if(e==this.getDemandPopin()){return this}if(!this.getMinScreenWidth()){return this.setProperty("demandPopin",e,true)}return this.setProperty("demandPopin",e)};d.prototype.setSortIndicator=function(e){this.setProperty("sortIndicator",e,true);this.$().attr("aria-sort",this.getSortIndicator().toLowerCase());return this};d.prototype.isPopin=function(){if(!this.getDemandPopin()){return false}var e=this.getTable();if(e){var t=e.getHiddenInPopin()||[];var i=t.some(function(e){return this.getImportance()===e},this);if(i){return false}}if(this._media){return!this._media.matches}return false};d.prototype.isHidden=function(){if(this._media){return!this._media.matches}if(this._screen&&this._minWidth){return parseFloat(this._minWidth)>window.innerWidth}return false};d.prototype.setLastValue=function(e){if(this.getMergeDuplicates()){this._lastValue=e}return this};d.prototype.clearLastValue=function(){return this.setLastValue(NaN)};d.prototype.getLastValue=function(){return this._lastValue};d.prototype.onItemsRemoved=function(){this.clearLastValue()};d.prototype.getFocusDomRef=function(){var e=this.getParent();if(e&&(e.bActiveHeaders||e.bFocusableHeaders||this.getAssociation("headerMenu"))){var i=this.getDomRef();if(i){return i.firstChild}}return t.prototype.getFocusDomRef.apply(this,arguments)};d.prototype.getCalculatedMinScreenWidth=function(){return parseInt(this._minWidth)||0};d.prototype.setForcedColumn=function(e){if(this._bForcedColumn==e){return}this._bForcedColumn=e;this._setMinScreenWidth(e?"":this.getMinScreenWidth())};d.prototype._getHeaderMenuInstance=function(){return sap.ui.getCore().byId(this.getAssociation("headerMenu"))};d.prototype.setHeader=function(e){var t=this.getHeader();if(t&&t.isA("sap.m.Label")){t.detachEvent("_change",this._onLabelPropertyChange,this);t.setIsInColumnHeaderContext(false)}this.setAggregation("header",e);var i=this.getHeader();if(i&&i.isA("sap.m.Label")){i.attachEvent("_change",this._onLabelPropertyChange,this);i.setIsInColumnHeaderContext(true)}return this};d.prototype._onLabelPropertyChange=function(e){if(e.getParameter("name")!="required"){return}if(this.getTable().bActiveHeaders||this._getHeaderMenuInstance()){this.$("ah")[e.getSource().getRequired()?"addAriaDescribedBy":"removeAriaDescribedBy"](s.getStaticId("sap.m","CONTROL_IN_COLUMN_REQUIRED"))}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuButton",["./library","sap/ui/core/Control","./Button","./SplitButton","sap/ui/Device","sap/ui/core/EnabledPropagator","sap/ui/core/library","sap/ui/core/Popup","sap/ui/core/LabelEnablement","./MenuButtonRenderer","sap/ui/events/KeyCodes"],function(t,e,o,i,n,s,r,a,u,p,l){"use strict";var h=t.MenuButtonMode;var c=r.TextDirection;var d=t.ButtonType;var g=a.Dock;var f=["buttonMode","useDefaultActionOnly","width","menuPosition"];var y=e.extend("sap.m.MenuButton",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:d.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:c.Inherit},buttonMode:{type:"sap.m.MenuButtonMode",group:"Misc",defaultValue:h.Regular},menuPosition:{type:"sap.ui.core.Popup.Dock",group:"Misc",defaultValue:g.BeginBottom},useDefaultActionOnly:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{menu:{type:"sap.m.Menu",multiple:false,singularName:"menu"},_button:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{defaultAction:{},beforeMenuOpen:{}},defaultAggregation:"menu",designtime:"sap/m/designtime/MenuButton.designtime",dnd:{draggable:true,droppable:false}},renderer:p});s.call(y.prototype);y.prototype.init=function(){this._initButtonControl()};y.prototype.exit=function(){if(this._sDefaultText){this._sDefaultText=null}if(this._sDefaultIcon){this._sDefaultIcon=null}if(this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=null}if(this._lastActionItemId){this._lastActionItemId=null}if(this.getMenu()){this.getMenu().detachClosed(this._menuClosed,this)}};y.prototype.onBeforeRendering=function(){if(!this._sDefaultText){this._sDefaultText=this.getText()}if(!this._sDefaultIcon){this._sDefaultIcon=this.getIcon()}this._updateButtonControl();this._attachMenuEvents()};y.prototype._needsWidth=function(){return this._isSplitButton()&&this.getWidth()===""};y.prototype._getTextBtnContentDomRef=function(){return this._getButtonControl()._getTextButton().getDomRef("content")};y.prototype.onAfterRendering=function(){if(this._needsWidth()&&sap.ui.getCore().isThemeApplied()&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+"px"}if(this._activeButton){this._activeButton.$().attr("aria-expanded","false");this._activeButton=null}};y.prototype.onThemeChanged=function(t){if(this._needsWidth()&&this.getDomRef()&&!this._iInitialTextBtnContentWidth&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+"px"}};y.prototype._getInitialTextBtnWidth=function(){if(!this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=Math.ceil(this._getTextBtnContentDomRef().getBoundingClientRect().width)}return this._iInitialTextBtnContentWidth};y.prototype.setButtonMode=function(t){var o=this.getTooltip(),i,n;e.prototype.setProperty.call(this,"buttonMode",t,true);this._getButtonControl().destroy();this._initButtonControl();i=this._getButtonControl();n=i.getMetadata().getAllProperties();for(var s in this.mProperties){if(this.mProperties.hasOwnProperty(s)&&f.indexOf(s)<0&&n.hasOwnProperty(s)){i.setProperty(s,this.mProperties[s],true)}}if(o){i.setTooltip(o)}if(!this._isSplitButton()&&this._sDefaultText){this.setText(this._sDefaultText)}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setText(sap.ui.getCore().byId(this._getLastSelectedItem()).getText())}if(!this._isSplitButton()&&this._sDefaultIcon){this.setIcon(this._sDefaultIcon)}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setIcon(sap.ui.getCore().byId(this._getLastSelectedItem()).getIcon())}this.invalidate();return this};y.prototype._initButton=function(){var t=new o(this.getId()+"-internalBtn",{width:"100%",ariaHasPopup:r.aria.HasPopup.Menu});t.attachPress(this._handleButtonPress,this);t.onkeydown=this.handleKeydown;return t};y.prototype._initSplitButton=function(){var t=new i(this.getId()+"-internalSplitBtn",{width:"100%"});t.attachPress(this._handleActionPress,this);t.attachArrowPress(this._handleButtonPress,this);t._getArrowButton().onkeydown=this.handleKeydown;return t};y.prototype._initButtonControl=function(){var t;if(this._isSplitButton()){t=this._initSplitButton()}else{t=this._initButton()}this.setAggregation("_button",t,true)};y.prototype._updateButtonControl=function(){this._getButtonControl().setText(this.getText())};y.prototype._getButtonControl=function(){return this.getAggregation("_button")};y.prototype._handleButtonPress=function(t){var e=this.getMenu(),o={zero:"0 0",plus2_right:"0 +2",minus2_right:"0 -2",plus2_left:"+2 0",minus2_left:"-2 0"};this._isSplitButton()&&this.fireBeforeMenuOpen();if(!e){return}if(this._bPopupOpen&&!t.getParameter("keyboard")){this.getMenu().close();this._bPopupOpen=false;return}if(!e.getTitle()){e.setTitle(this.getText())}var i=[this,t.getParameter("keyboard")];switch(this.getMenuPosition()){case g.BeginTop:i.push(g.BeginBottom,g.BeginTop,o.plus2_right);break;case g.BeginCenter:i.push(g.BeginCenter,g.BeginCenter,o.zero);break;case g.LeftTop:i.push(g.RightBottom,g.LeftBottom,o.plus2_left);break;case g.LeftCenter:i.push(g.RightCenter,g.LeftCenter,o.plus2_left);break;case g.LeftBottom:i.push(g.RightTop,g.LeftTop,o.plus2_left);break;case g.CenterTop:i.push(g.CenterBottom,g.CenterTop,o.plus2_left);break;case g.CenterCenter:i.push(g.CenterCenter,g.CenterCenter,o.zero);break;case g.CenterBottom:i.push(g.CenterTop,g.CenterBottom,o.minus2_right);break;case g.RightTop:i.push(g.LeftBottom,g.RightBottom,o.minus2_left);break;case g.RightCenter:i.push(g.LeftCenter,g.RightCenter,o.minus2_left);break;case g.RightBottom:i.push(g.LeftTop,g.RightTop,o.minus2_left);break;case g.EndTop:i.push(g.EndBottom,g.EndTop,o.plus2_right);break;case g.EndCenter:i.push(g.EndCenter,g.EndCenter,o.zero);break;case g.EndBottom:i.push(g.EndTop,g.EndBottom,o.minus2_right);break;case g.BeginBottom:default:i.push(g.BeginTop,g.BeginBottom,o.minus2_right);break}e.openBy.apply(e,i);if(this.getMenu()){this._bPopupOpen=true}this._writeAriaAttributes();if(this._isSplitButton()&&!n.system.phone){this._getButtonControl().setArrowState(true)}};y.prototype._handleActionPress=function(){var t=this._getLastSelectedItem(),e;if(!this.getUseDefaultActionOnly()&&t){e=sap.ui.getCore().byId(t);this.getMenu().fireItemSelected({item:e})}else{this.fireDefaultAction()}};y.prototype._menuClosed=function(){var t=this._getButtonControl(),e=t;if(this._isSplitButton()){t.setArrowState(false);e=t._getArrowButton()}e.$().removeAttr("aria-controls");e.$().attr("aria-expanded","false")};y.prototype._menuItemSelected=function(t){var e=t.getParameter("item");this.fireEvent("_menuItemSelected",{item:e});this._bPopupOpen=false;if(!this._isSplitButton()||this.getUseDefaultActionOnly()||!e){return}this._lastActionItemId=e.getId();!!this._sDefaultText&&this.setText(e.getText());!!this._sDefaultIcon&&this.setIcon(e.getIcon())};y.prototype._getLastSelectedItem=function(){return this._lastActionItemId};y.prototype._attachMenuEvents=function(){if(this.getMenu()){this.getMenu().attachClosed(this._menuClosed,this);this.getMenu().attachItemSelected(this._menuItemSelected,this)}};y.prototype._isSplitButton=function(){return this.getButtonMode()===h.Split};y.prototype.setProperty=function(t,o,i){function n(t){var e=[d.Up,d.Back,d.Unstyled];return e.indexOf(t)!==-1}if(t==="type"&&n(o)){return this}if(t==="text"){this._sDefaultText=o}switch(t){case"activeIcon":case"iconDensityAware":case"textDirection":case"visible":case"enabled":this._getButtonControl().setProperty(t,o);break}return e.prototype.setProperty.apply(this,arguments)};y.prototype.setTooltip=function(t){this._getButtonControl().setTooltip(t);return e.prototype.setTooltip.apply(this,arguments)};y.prototype.setText=function(t){e.prototype.setProperty.call(this,"text",t);this._getButtonControl().setText(t);return this};y.prototype.setType=function(t){e.prototype.setProperty.call(this,"type",t);this._getButtonControl().setType(t);return this};y.prototype.setIcon=function(t){e.prototype.setProperty.call(this,"icon",t);this._getButtonControl().setIcon(t);return this};y.prototype.addAriaLabelledBy=function(t){this.getAggregation("_button").addAssociation("ariaLabelledBy",t);return e.prototype.addAssociation.call(this,"ariaLabelledBy",t)};y.prototype.addAriaDescribedBy=function(t){this.getAggregation("_button").addAssociation("ariaDescribedBy",t);return e.prototype.addAssociation.call(this,"ariaDescribedBy",t)};y.prototype.removeAriaLabelledBy=function(t){this.getAggregation("_button").removeAssociation("ariaLabelledBy",t);return e.prototype.removeAssociation.call(this,"ariaLabelledBy",t)};y.prototype.removeAriaDescribedBy=function(t){this.getAggregation("_button").removeAssociation("ariaDescribedBy",t);return e.prototype.removeAssociation.call(this,"ariaDescribedBy",t)};y.prototype.removeAllAriaLabelledBy=function(t){this.getAggregation("_button").removeAllAssociation("ariaLabelledBy");return e.prototype.removeAllAssociation.call(this,"ariaLabelledBy")};y.prototype.removeAllAriaDescribedBy=function(){this.getAggregation("_button").removeAllAssociation("ariaDescribedBy");return e.prototype.removeAllAssociation.call(this,"ariaDescribedBy")};y.prototype.getFocusDomRef=function(){return this._getButtonControl().getDomRef()};y.prototype.onsapup=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapdown=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapupmodifiers=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapdownmodifiers=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapshow=function(t){this.openMenuByKeyboard();!!t&&t.preventDefault()};y.prototype.ontouchstart=function(){this._bPopupOpen=this.getMenu()&&this.getMenu()._getMenu()&&this.getMenu()._getMenu().getPopup().isOpen()};y.prototype.handleKeydown=function(t){if((t.keyCode===l.ENTER||t.keyCode===l.TAB)&&this._bPopupOpen){this.getMenu().close();this._bPopupOpen=false}o.prototype.onkeydown.call(this,t)};y.prototype.openMenuByKeyboard=function(){if(!this._isSplitButton()){this._handleButtonPress(Object.create(null,{getParameter:{value:function(){return true}}}))}};y.prototype._writeAriaAttributes=function(){var t=this._getButtonControl(),e=this._isSplitButton()?t._getArrowButton():t,o=this.getMenu();if(o){e.$().attr("aria-controls",o.getDomRefId());e.$().attr("aria-expanded","true")}};y.prototype.getIdForLabel=function(){return this.getId()+"-internalBtn"};y.prototype._ensureBackwardsReference=function(){var t=this._getButtonControl(),e=t.getAriaLabelledBy(),o=u.getReferencingLabels(this);o.forEach(function(o){if(e&&e.indexOf(o)===-1){t.addAriaLabelledBy(o)}});return this};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuButtonRenderer",[],function(){"use strict";var t={apiVersion:2};t.CSS_CLASS="sapMMenuBtn";t.render=function(e,n){var o=n.getWidth();e.openStart("div",n);e.class(t.CSS_CLASS).class(t.CSS_CLASS+n.getButtonMode());if(o!=""){e.style("width",o)}e.openEnd();n._ensureBackwardsReference();e.renderControl(n._getButtonControl());n._activeButton=n._isSplitButton()?n._getButtonControl()._getArrowButton():n._getButtonControl();e.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/NotificationListBase",["./library","sap/ui/core/Core","sap/ui/core/Element","sap/ui/Device","sap/ui/core/ResizeHandler","./ListItemBase","./Button","./ToolbarSeparator","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/ui/core/IconPool","sap/ui/core/Icon","sap/ui/core/library"],function(t,e,o,r,i,s,n,a,l,u,p,f,h){"use strict";var g="NLIRangeSet";r.media.initRangeSet(g,[600],"px",["S","M"],true);var y=h.Priority;var c=t.ButtonType;var v=t.ToolbarStyle;var d=t.OverflowToolbarPriority;var _=e.getLibraryResourceBundle("sap.m"),B=_.getText("NOTIFICATION_LIST_ITEM_CLOSE"),w=_.getText("NOTIFICATION_LIST_GROUP_CLOSE");var C=s.extend("sap.m.NotificationListBase",{metadata:{library:"sap.m",abstract:true,properties:{priority:{type:"sap.ui.core.Priority",group:"Appearance",defaultValue:y.None},title:{type:"string",group:"Appearance",defaultValue:""},datetime:{type:"string",group:"Appearance",defaultValue:""},showButtons:{type:"boolean",group:"Behavior",defaultValue:true},showCloseButton:{type:"boolean",group:"Behavior",defaultValue:true},authorName:{type:"string",group:"Appearance",defaultValue:""},authorPicture:{type:"sap.ui.core.URI"}},aggregations:{buttons:{type:"sap.m.Button",multiple:true},_closeButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_overflowToolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"},_priorityIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{close:{}}},renderer:null});C.prototype._activeHandling=function(){};C.prototype.updateSelectedDOM=function(){};C.prototype.getAccessibilityText=function(){return""};C.prototype.setProperty=function(){this._resetButtonsOverflow();return s.prototype.setProperty.apply(this,arguments)};C.prototype.getButtons=function(){var t=this._getCloseButton(),e=this._getToolbarSeparator();return this._getOverflowToolbar().getContent().filter(function(o){return o!==t&&o!==e},this)};C.prototype.addButton=function(t){var e=this._getOverflowToolbar(),o=e.getContent().length;if(this._getToolbarSeparator()){o-=2}e.insertContent(t,o);this._resetButtonsOverflow();this.invalidate();return this};C.prototype.insertButton=function(t,e){this._getOverflowToolbar().insertContent(t,e);this._resetButtonsOverflow();this.invalidate();return this};C.prototype.removeButton=function(t){var e=this._getOverflowToolbar().removeContent(t.getId());this._resetButtonsOverflow();this.invalidate();return e};C.prototype.removeAllButtons=function(){var t=this._getOverflowToolbar(),e=this.getButtons();e.forEach(function(e){t.removeContent(e)});this._resetButtonsOverflow();this.invalidate();return this};C.prototype.destroyButtons=function(){var t=this.getButtons();t.forEach(function(t){t.destroy()});this._resetButtonsOverflow();this.invalidate();return this};C.prototype.clone=function(){var t=s.prototype.clone.apply(this,arguments);t.destroyAggregation("_overflowToolbar");var e=this.getAggregation("_overflowToolbar");if(e){t.setAggregation("_overflowToolbar",e.clone(),true)}return t};C.prototype._getOverflowToolbar=function(){var t=this.getAggregation("_overflowToolbar");if(!t){t=new l(this.getId()+"-overflowToolbar",{style:v.Clear});this.setAggregation("_overflowToolbar",t,true)}return t};C.prototype._getCloseButton=function(){var t,e,o,r;e=this._getOverflowToolbar();o=e.getContent();if(o.length){r=o.length-1;t=o[r];if(t.getId()!==this.getId()+"-closeButtonX"){t=null}}if(!t){t=this.getAggregation("_closeButton")}return t};C.prototype._createCloseButton=function(){var t,e=this.isA("sap.m.NotificationListGroup"),o=e&&this.getCollapsed();if(this._isSmallSize()&&!o){t=new n(this.getId()+"-closeButtonX",{text:this.isA("sap.m.NotificationListItem")?B:w,type:c.Default,press:function(){this.close()}.bind(this)})}else{t=new n(this.getId()+"-closeButtonX",{icon:p.getIconURI("decline"),type:c.Transparent,tooltip:this.isA("sap.m.NotificationListItem")?B:w,press:function(){this.close()}.bind(this)})}this.setAggregation("_closeButton",t);return t};C.prototype._getToolbarSeparator=function(){var t,e=this._getOverflowToolbar(),o=e.getContent(),r;if(o.length){r=o.length-2;t=o[r]}if(t&&t.isA("sap.m.ToolbarSeparator")){return t}return null};C.prototype._hasActionButtons=function(){return this.getShowButtons()&&this.getButtons().length};C.prototype._shouldRenderCloseButton=function(){return!this._isSmallSize()&&this.getShowCloseButton()};C.prototype._shouldRenderOverflowToolbar=function(){var t=this._hasActionButtons();if(this._isSmallSize()){return t||this.getShowCloseButton()}return t};C.prototype.onBeforeRendering=function(){if(this._resizeListenerId){i.deregister(this._resizeListenerId);this._resizeListenerId=null}if(!this._sCurrentLayoutClassName){this._destroyCloseBtnAndSeparator()}};C.prototype.onAfterRendering=function(){if(this.getDomRef()){this._resizeListenerId=i.register(this.getDomRef(),this._onResize.bind(this))}this._onResize()};C.prototype.exit=function(){if(this._resizeListenerId){i.deregister(this._resizeListenerId);this._resizeListenerId=null}this._sCurrentLayoutClassName=null};C.prototype._onResize=function(){var t=this.getDomRef(),e,o;if(!t){return}e=r.media.getCurrentRange(g,t.offsetWidth);o="sapMNLIB-Layout"+e.name;if(this._sCurrentLayoutClassName===o){return}if(this._sCurrentLayoutClassName){this.removeStyleClass(this._sCurrentLayoutClassName)}this.addStyleClass(o);this._sCurrentLayoutClassName=o;this._arrangeButtons()};C.prototype._destroyCloseBtnAndSeparator=function(){var t=this._getCloseButton(),e=this._getToolbarSeparator();if(t){t.destroy()}if(e){e.destroy()}};C.prototype._arrangeButtons=function(){this._destroyCloseBtnAndSeparator();this._createCloseButton();if(this._isSmallSize()){this._arrangeSSizeButtons()}else{this._arrangeMSizeButtons()}};C.prototype._arrangeMSizeButtons=function(){var t,e=this.getButtons(),o=e.length>1?d.AlwaysOverflow:d.NeverOverflow;for(var r=0;r<e.length;r++){t=e[r];t.setLayoutData(new u({priority:o}))}};C.prototype._arrangeSSizeButtons=function(){var t=this._getOverflowToolbar(),e=this._getCloseButton(),o=this.isA("sap.m.NotificationListGroup"),r=o?w:B,i=o&&this.getCollapsed(),s=!i&&this._hasActionButtons(),n=this.getShowCloseButton(),l=new a,f;this.getButtons().forEach(function(t){if(s){f=d.AlwaysOverflow;t.removeStyleClass("sapMNLIBHiddenButton")}else{f=d.NeverOverflow;t.addStyleClass("sapMNLIBHiddenButton")}t.setLayoutData(new u({priority:f}))});e.setLayoutData(new u({priority:d.AlwaysOverflow}));l.setLayoutData(new u({priority:d.AlwaysOverflow}));t.addContent(l);t.addContent(e);if(!n){e.setVisible(false);l.setVisible(false);return}e.setVisible(true);if(s){e.setText(r);e.setTooltip("");e.setType(c.Default);e.setIcon("");e.setLayoutData(new u({priority:d.AlwaysOverflow}));l.setVisible(true)}else{e.setText("");e.setTooltip(r);e.setType(c.Transparent);e.setIcon(p.getIconURI("decline"));e.setLayoutData(new u({priority:d.NeverOverflow}));l.setVisible(false)}};C.prototype.close=function(){var t=this.getParent();this.fireClose();var e=!!this.getParent();if(!e&&t&&t instanceof o){var r={onAfterRendering:function(){t.focus();t.removeEventDelegate(r)}};t.addEventDelegate(r)}};C.prototype._getPriorityIcon=function(){var t=this.getAggregation("_priorityIcon");if(!t){t=new f({src:"sap-icon://message-error",useIconTooltip:false});this.setAggregation("_priorityIcon",t,true)}return t};C.prototype._isSmallSize=function(){return this._sCurrentLayoutClassName==="sapMNLIB-LayoutS"};C.prototype._resetButtonsOverflow=function(){this._sCurrentLayoutClassName=null};return C});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/NotificationListItem",["./library","sap/ui/core/Core","./NotificationListBase","sap/ui/core/InvisibleText","sap/ui/core/library","sap/m/Link","sap/m/Avatar","sap/ui/events/KeyCodes","./NotificationListItemRenderer"],function(t,e,i,r,o,a,s,n,p){"use strict";var u=e.getLibraryResourceBundle("sap.m"),h=u.getText("NOTIFICATION_LIST_ITEM_SHOW_MORE"),l=u.getText("NOTIFICATION_LIST_ITEM_SHOW_LESS"),g=u.getText("NOTIFICATION_LIST_ITEM_READ"),I=u.getText("NOTIFICATION_LIST_ITEM_UNREAD");var T=44;var f=t.AvatarSize;var _=t.AvatarColor;var c=o.Priority;var v=i.extend("sap.m.NotificationListItem",{metadata:{library:"sap.m",properties:{description:{type:"string",group:"Appearance",defaultValue:""},authorInitials:{type:"string",group:"Data",defaultValue:null},truncate:{type:"boolean",group:"Appearance",defaultValue:true},hideShowMoreButton:{type:"boolean",group:"Appearance",defaultValue:false},authorAvatarColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:_.Accent6}},aggregations:{processingMessage:{type:"sap.m.MessageStrip",multiple:false},_showMoreButton:{type:"sap.m.Link",multiple:false,visibility:"hidden"}}},renderer:p});v.prototype.init=function(){this.setType("Active");this._footerIvisibleText=new r({id:this.getId()+"-invisibleFooterText"})};v.prototype._getAuthorAvatar=function(){if(this.getAuthorInitials()||this.getAuthorPicture()){if(!this._avatar){this._avatar=new s({displaySize:f.XS})}this._avatar.setInitials(this.getAuthorInitials());this._avatar.setSrc(this.getAuthorPicture());this._avatar.setBackgroundColor(this.getAuthorAvatarColor());return this._avatar}};v.prototype.onAfterRendering=function(){i.prototype.onAfterRendering.call(this);if(this.getHideShowMoreButton()){return}this._updateShowMoreButtonVisibility()};v.prototype.onkeydown=function(t){if(t.target!==this.getDomRef()){return}var e=this.getParent(),i,r;if(!e||!e.isA("sap.m.NotificationListGroup")){return}i=e.getVisibleItems();r=i.indexOf(this);switch(t.which){case n.ARROW_UP:if(r===0){return}var o=r-1;i[o].focus();break;case n.ARROW_DOWN:var a=r+1;if(a===i.length){return}i[a].focus();break}};v.prototype.exit=function(){i.prototype.exit.apply(this,arguments);if(this._footerIvisibleText){this._footerIvisibleText.destroy();this._footerIvisibleText=null}if(this._avatar){this._avatar.destroy();this._avatar=null}};v.prototype._onResize=function(){i.prototype._onResize.apply(this,arguments);this._updateShowMoreButtonVisibility()};v.prototype._updateShowMoreButtonVisibility=function(){var t=this.$(),e=t.find(".sapMNLITitleText")[0],i=t.find(".sapMNLIDescription")[0],r;if(t.length>0){r=e.scrollHeight>T||i.scrollHeight>T}this._getShowMoreButton().setVisible(r)};v.prototype._getShowMoreButton=function(){var t=this.getAggregation("_showMoreButton");if(!t){t=new a(this.getId()+"-showMoreButton",{text:this.getTruncate()?h:l,press:function(){var t=!this.getTruncate();this._getShowMoreButton().setText(t?h:l);this.setProperty("truncate",t,true);this.$().find(".sapMNLITitleText, .sapMNLIDescription").toggleClass("sapMNLIItemTextLineClamp",t)}.bind(this)});this.setAggregation("_showMoreButton",t,true)}return t};v.prototype._getFooterInvisibleText=function(){var t=this.getUnread()?I:g,e=this.getAuthorName(),i=this.getDatetime(),r=this.getPriority(),o=[t];if(e){e=u.getText("NOTIFICATION_LIST_ITEM_CREATED_BY");o.push(e);o.push(this.getAuthorName())}if(i){o.push(u.getText("NOTIFICATION_LIST_ITEM_DATETIME",[i]))}if(r!==c.None){o.push(u.getText("NOTIFICATION_LIST_ITEM_PRIORITY",[r]))}return this._footerIvisibleText.setText(o.join(" "))};return v});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/NotificationListItemRenderer",["sap/ui/core/library","sap/ui/core/InvisibleRenderer"],function(e,t){"use strict";var s=e.Priority;var o={apiVersion:2};o.render=function(e,o){if(!o.getVisible()){t.render(e,o,o.TagName);return false}var a=o.getTruncate(),i=o.getAuthorName(),r=o.getDatetime(),n=o._getAuthorAvatar(),l=o.getPriority(),d=o.getUnread(),p=o.getId(),c=p+"-invisibleFooterText",I="";if(o.getTitle()){I+=" "+p+"-title"}if(o.getDescription()){I+=" "+p+"-descr"}I+=" "+c;e.openStart("li",o).class("sapMLIB").class("sapMNLIB").class("sapMNLI");if(d){e.class("sapMNLIUnread")}if(!n){e.class("sapMNLINoAvatar")}e.attr("tabindex","0");e.accessibilityState(o,{role:"listitem",labelledby:{value:I}});e.openEnd();e.renderControl(o.getProcessingMessage());e.openStart("div").class("sapMNLIMain").openEnd();e.openStart("div").attr("aria-hidden","true").class("sapMNLIItem").class("sapMNLIItemAC").openEnd();if(o._shouldRenderOverflowToolbar()){e.openStart("div").class("sapMNLIItem").class("sapMNLIActions").openEnd();e.renderControl(o._getOverflowToolbar());e.close("div")}if(o._shouldRenderCloseButton()){e.openStart("div").class("sapMNLIItem").class("sapMNLICloseBtn").openEnd();e.renderControl(o._getCloseButton());e.close("div")}e.close("div");e.openStart("div").class("sapMNLIContent").openEnd();e.openStart("div").class("sapMNLITitle").openEnd();if(l!==s.None){e.openStart("div").class("sapMNLIBPriority").class("sapMNLIBPriority"+l).openEnd();e.renderControl(o._getPriorityIcon());e.close("div")}e.openStart("div",p+"-title").class("sapMNLITitleText");if(a){e.class("sapMNLIItemTextLineClamp")}e.openEnd();e.text(o.getTitle());e.close("div");e.close("div");e.openStart("div",p+"-descr").class("sapMNLIDescription");if(!o.getDescription()){e.class("sapMNLIDescriptionNoText")}if(a){e.class("sapMNLIItemTextLineClamp")}e.openEnd();e.text(o.getDescription());e.close("div");e.openStart("div").class("sapMNLIFooter").openEnd();e.openStart("div").class("sapMNLIFooterItem").openEnd();e.text(i);e.close("div");if(i&&r){e.openStart("div").class("sapMNLIFooterItem").class("sapMNLIFooterBullet").openEnd();e.text("·");e.close("div")}e.openStart("div").class("sapMNLIFooterItem").openEnd();e.text(r);e.close("div");if(!o.getHideShowMoreButton()){e.openStart("div").class("sapMNLIShowMore").attr("aria-hidden","true").openEnd();e.renderControl(o._getShowMoreButton());e.close("div")}e.renderControl(o._getFooterInvisibleText());e.close("div");e.close("div");e.openStart("div").class("sapMNLIImage").openEnd();if(n){e.renderControl(n)}e.close("div");e.close("div");e.close("li")};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectIdentifier",["./library","./Link","./Text","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","sap/ui/base/ManagedObject","./ObjectIdentifierRenderer","sap/ui/events/KeyCodes","sap/ui/core/Configuration"],function(t,e,i,o,r,n,s,a,p,l,c,g){"use strict";var u=s.TextDirection;var d=t.EmptyIndicatorMode;var h=o.extend("sap.m.ObjectIdentifier",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectIdentifier.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},badgeNotes:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgePeople:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgeAttachments:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},titleActive:{type:"boolean",group:"Misc",defaultValue:false},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:u.Inherit},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:d.Off}},aggregations:{_titleControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{titlePress:{parameters:{domRef:{type:"object"}}}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},dnd:{draggable:true,droppable:false}},renderer:l});h.prototype.init=function(){var t=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(g.getAccessibility()){h.OI_ARIA_ROLE=t.getText("OI_ARIA_ROLE")}};h.prototype.exit=function(){if(this._attachmentsIcon){this._attachmentsIcon.destroy();this._attachmentsIcon=null}if(this._peopleIcon){this._peopleIcon.destroy();this._peopleIcon=null}if(this._notesIcon){this._notesIcon.destroy();this._notesIcon=null}};h.prototype._getAttachmentsIcon=function(){if(!this._attachmentsIcon){this._attachmentsIcon=this._getIcon(r.getIconURI("attachment"),this.getId()+"-attachments")}return this._attachmentsIcon};h.prototype._getPeopleIcon=function(){if(!this._peopleIcon){this._peopleIcon=this._getIcon(r.getIconURI("group"),this.getId()+"-people")}return this._peopleIcon};h.prototype._getNotesIcon=function(){if(!this._notesIcon){this._notesIcon=this._getIcon(r.getIconURI("notes"),this.getId()+"-notes")}return this._notesIcon};h.prototype._getIcon=function(t,e){var i=a.system.phone?"1em":"1em";var o;o=this._icon||r.createControlByURI({src:t,id:e+"-icon",size:i,useIconTooltip:false},sap.m.Image);o.setSrc(t);return o};h.prototype._getTitleControl=function(){var t=this.getAggregation("_titleControl"),o=this.getId(),r=p.escapeSettingsValue(this.getProperty("title")),s;if(!t){if(this.getProperty("titleActive")){s=this.getAriaLabelledBy().slice();s.push(n.getStaticId("sap.m","OI_ARIA_ROLE"));t=new e({id:o+"-link",text:r,ariaLabelledBy:s});t.addAriaLabelledBy(o+"-text")}else{t=new i({id:o+"-txt",text:r})}this.setAggregation("_titleControl",t,true)}return t};h.prototype._getTextControl=function(){var t=this.getAggregation("_textControl");if(!t){t=new i({text:p.escapeSettingsValue(this.getProperty("text"))});this.setAggregation("_textControl",t,true)}t.setTextDirection(this.getTextDirection());return t};h.prototype.setTitle=function(t){if(t){this._getTitleControl().setProperty("text",t)}return this.setProperty("title",t)};h.prototype.setText=function(t){if(t){this._getTextControl().setProperty("text",t)}return this.setProperty("text",t)};h.prototype.setTitleActive=function(t){var e=this.getTitleActive();this.setProperty("titleActive",t);if(e!=t){this.destroyAggregation("_titleControl");this._getTitleControl()}return this};h.prototype._handlePress=function(t){var e=t.target;if(this.getTitleActive()&&this.$("title")[0].firstChild==e){this.fireTitlePress({domRef:e});t.setMarked()}};h.prototype.onsapenter=function(t){h.prototype._handlePress.apply(this,arguments)};h.prototype.onkeyup=function(t){if(t&&t.which===c.SPACE){h.prototype._handlePress.apply(this,arguments)}};h.prototype.ontap=function(t){h.prototype._handlePress.apply(this,arguments)};h.prototype.addAssociation=function(t,i,r){var n=this.getAggregation("_titleControl");if(t==="ariaLabelledBy"){if(this.getTitleActive()&&n instanceof e){n.addAriaLabelledBy(i)}}return o.prototype.addAssociation.apply(this,arguments)};h.prototype.removeAssociation=function(t,i,r){var n=this.getAggregation("_titleControl");if(t==="ariaLabelledBy"){if(this.getTitleActive()&&n instanceof e){n.removeAssociation("ariaLabelledBy",i,true)}}return o.prototype.removeAssociation.apply(this,arguments)};h.prototype.getAccessibilityInfo=function(){var t=this.getAggregation("_titleControl")?this.getAggregation("_titleControl").getAccessibilityInfo():{type:"",description:""},e=(h.OI_ARIA_ROLE+" "+(t.type||"")).trim();if(this.getTitle()||this.getText()){t.type=e}t.description=t.description+" "+this.getText();return t};h.prototype._hasTopRow=function(){return this.getTitle()||this.getBadgeNotes()||this.getBadgePeople()||this.getBadgeAttachments()};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectIdentifierRenderer",["./library","sap/ui/core/Core"],function(e,t){"use strict";var n={apiVersion:2};var o=e.EmptyIndicatorMode;var r=t.getLibraryResourceBundle("sap.m");n.render=function(e,t){var n;if(!t.getVisible()){return}e.openStart("div",t);e.class("sapMObjectIdentifier");n=t.getTooltip_AsString();if(n){e.attr("title",n)}e.openEnd();e.openStart("div");e.class("sapMObjectIdentifierTopRow");if(!t._hasTopRow()){e.style("display","none")}e.openEnd();e.openStart("div",t.getId()+"-title");e.class("sapMObjectIdentifierTitle");e.openEnd();if(t.getTitle()){e.renderControl(t._getTitleControl())}e.close("div");e.openStart("div");e.class("sapMObjectIdentifierIcons");e.openEnd();if(t.getBadgeAttachments()){e.openStart("span");e.class("sapMObjectIdentifierIconSpan");e.openEnd();e.renderControl(t._getAttachmentsIcon());e.close("span")}if(t.getBadgeNotes()){e.openStart("span");e.class("sapMObjectIdentifierIconSpan");e.openEnd();e.renderControl(t._getNotesIcon());e.close("span")}if(t.getBadgePeople()){e.openStart("span");e.class("sapMObjectIdentifierIconSpan");e.openEnd();e.renderControl(t._getPeopleIcon());e.close("span")}e.close("div");e.close("div");if(t.getEmptyIndicatorMode()!==o.Off&&!t.getText()){this.renderEmptyIndicator(e,t)}else{e.openStart("div",t.getId()+"-text");e.class("sapMObjectIdentifierText");if(t.getProperty("text")&&t.getProperty("title")){e.class("sapMObjectIdentifierTextBellow")}e.openEnd();if(t.getText()){e.renderControl(t._getTextControl())}e.close("div")}e.close("div")};n.renderEmptyIndicator=function(e,t){e.openStart("span");e.class("sapMEmptyIndicator");if(t.getEmptyIndicatorMode()===o.Auto){e.class("sapMEmptyIndicatorAuto")}e.openEnd();e.openStart("span");e.attr("aria-hidden",true);e.openEnd();e.text(r.getText("EMPTY_INDICATOR"));e.close("span");e.openStart("span");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(r.getText("EMPTY_INDICATOR_TEXT"));e.close("span");e.close("span")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/OverflowToolbarAssociativePopoverRenderer",["./PopoverRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var o=r.extend(e);o.apiVersion=2;return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/OverflowToolbarButton",["sap/m/Button","sap/m/ButtonRenderer"],function(e,t){"use strict";var o=e.extend("sap.m.OverflowToolbarButton",{metadata:{interfaces:["sap.f.IShellBar","sap.m.IOverflowToolbarContent"]},renderer:t});o.prototype._getText=function(){if(this._bInOverflow){return e.prototype._getText.call(this)}return""};o.prototype._getTooltip=function(){var t=e.prototype._getTooltip.call(this);if(this._bInOverflow){return this._getText()===t?"":t}return t};o.prototype._onBeforeEnterOverflow=function(){this._bInOverflow=true};o.prototype._onAfterExitOverflow=function(){this._bInOverflow=false};o.prototype.getOverflowToolbarConfig=function(){var e={canOverflow:true,propsUnrelatedToSize:["enabled","type","accesskey"],autoCloseEvents:["press"]};e.onBeforeEnterOverflow=this._onBeforeEnterOverflow.bind(this);e.onAfterExitOverflow=this._onAfterExitOverflow.bind(this);return e};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/OverflowToolbarMenuButton",["sap/m/MenuButton","sap/m/MenuButtonRenderer","sap/ui/core/IconPool"],function(t,e,o){"use strict";var n=t.extend("sap.m.OverflowToolbarMenuButton",{renderer:e});n.prototype.getText=function(){if(this._bInOverflow){return t.prototype.getText.call(this)}return""};n.prototype.getTooltip=function(){var e=t.prototype.getTooltip.call(this);if(this._bInOverflow){return this.getText()===e?"":e}if(e){return e}var n=o.getIconInfo(this.getIcon());if(n){e=n.text?n.text:n.name}return e};n.prototype._updateButtonControl=function(){this._getButtonControl().setTooltip(this.getTooltip());this._getButtonControl().setText(this.getText())};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/OverflowToolbarToggleButton",["sap/m/ToggleButton","sap/m/ToggleButtonRenderer"],function(e,t){"use strict";var o=e.extend("sap.m.OverflowToolbarToggleButton",{renderer:t});o.prototype._getText=function(){return this._bInOverflow?e.prototype._getText.call(this):""};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SearchField",["./library","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","./Suggest","sap/ui/Device","./SearchFieldRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos"],function(e,t,s,i,o,n,r,a,u,h){"use strict";var l=t.extend("sap.m.SearchField",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.f.IShellBar"],library:"sap.m",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},maxLength:{type:"int",group:"Behavior",defaultValue:0},placeholder:{type:"string",group:"Misc",defaultValue:null},showMagnifier:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},showRefreshButton:{type:"boolean",group:"Behavior",defaultValue:false},refreshButtonTooltip:{type:"string",group:"Misc",defaultValue:null},showSearchButton:{type:"boolean",group:"Behavior",defaultValue:true},enableSuggestions:{type:"boolean",group:"Behavior",defaultValue:false},selectOnFocus:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"suggestionItems",designtime:"sap/m/designtime/SearchField.designtime",aggregations:{suggestionItems:{type:"sap.m.SuggestionItem",multiple:true,singularName:"suggestionItem"}},events:{search:{parameters:{query:{type:"string"},suggestionItem:{type:"sap.m.SuggestionItem"},refreshButtonPressed:{type:"boolean"},clearButtonPressed:{type:"boolean"}}},change:{parameters:{value:{type:"string"}}},liveChange:{parameters:{newValue:{type:"string"}}},suggest:{parameters:{suggestValue:{type:"string"}}}}},renderer:a});i.call(l.prototype);o.insertFontFaceStyle();l.prototype.init=function(){this._lastValue=""};l.prototype.getFocusDomRef=function(){return this.getInputElement()};l.prototype.getFocusInfo=function(){var e=t.prototype.getFocusInfo.call(this),s=this.getDomRef("I");if(s){h.extend(e,{cursorPos:h(s).cursorPos()})}return e};l.prototype.applyFocusInfo=function(e){t.prototype.applyFocusInfo.call(this,e);if("cursorPos"in e){this.$("I").cursorPos(e.cursorPos)}return this};l.prototype.getWidth=function(){return this.getProperty("width")||"100%"};l.prototype.getInputElement=function(){return this.getDomRef("I")};l.prototype.onBeforeRendering=function(){this._unregisterEventListeners();this._updateTranslations();d(this)};l.prototype.onAfterRendering=function(){this._lastValue=this.getValue();this._setToolTips();var e=this.getInputElement();this._resetElement=this.getDomRef("reset");h(e).on("input",this.onInput.bind(this)).on("search",this.onSearch.bind(this)).on("change",this.onChange.bind(this)).on("focus",this.onFocus.bind(this)).on("blur",this.onBlur.bind(this));h(this.getDomRef("F")).on("click",this.onFormClick.bind(this)).on("submit",function(e){e.preventDefault()});if(r.system.desktop||r.system.combi){this.$().on("touchstart mousedown",this.onButtonPress.bind(this));if(r.browser.firefox){this.$().find(".sapMSFB").on("mouseup mouseout",function(e){h(e.target).removeClass("sapMSFBA")})}}if(!s.isThemeApplied()){s.attachThemeChanged(this._handleThemeLoad,this)}};l.prototype._handleThemeLoad=function(){if(this._oSuggest){this._oSuggest.setPopoverMinWidth()}s.detachThemeChanged(this._handleThemeLoad,this)};l.prototype._updateTranslations=function(){var e=s.getLibraryResourceBundle("sap.m");a.oSearchFieldToolTips={SEARCH_BUTTON_TOOLTIP:e.getText("SEARCHFIELD_SEARCH_BUTTON_TOOLTIP"),RESET_BUTTON_TOOLTIP:e.getText("SEARCHFIELD_RESET_BUTTON_TOOLTIP"),REFRESH_BUTTON_TOOLTIP:e.getText("SEARCHFIELD_REFRESH_BUTTON_TOOLTIP")}};l.prototype.clear=function(e){var t=e&&e.value||"";if(!this.getInputElement()||this.getValue()===t){return}this._updateValue(t);d(this);this.fireLiveChange({newValue:t});this._fireChangeEvent();this.fireSearch({query:t,refreshButtonPressed:false,clearButtonPressed:!!(e&&e.clearButton)})};l.prototype.exit=function(){this._unregisterEventListeners();if(this._oSuggest){this._oSuggest.destroy(true);this._oSuggest=null}};l.prototype.onButtonPress=function(e){if(e.originalEvent.button===2){return}var t=this.getInputElement();if(document.activeElement===t&&e.target!==t){e.preventDefault()}if(r.browser.firefox){var s=h(e.target);if(s.hasClass("sapMSFB")){s.addClass("sapMSFBA")}}};l.prototype.ontouchstart=function(e){this._oTouchStartTarget=e.target};l.prototype.ontouchend=function(e){if(e.originalEvent.button===2){return}var t=e.target,s=true,i=this.getInputElement();if(this._oTouchStartTarget){s=this._oTouchStartTarget===t;this._oTouchStartTarget=null}if(t.id==this.getId()+"-reset"&&s){p(this);this._bSuggestionSuppressed=true;var o=!this.getValue();var n=document.activeElement;if((r.system.desktop||o||/(INPUT|TEXTAREA)/i.test(n.tagName)||n===this._resetElement)&&n!==i){i.focus()}this.clear({clearButton:true})}else if(t.id==this.getId()+"-search"&&s){p(this);if(r.system.desktop&&!this.getShowRefreshButton()&&document.activeElement!==i){i.focus()}this._fireChangeEvent();this.fireSearch({query:this.getValue(),refreshButtonPressed:!!(this.getShowRefreshButton()&&!this.hasStyleClass("sapMFocus")),clearButtonPressed:false})}else{this.onmouseup(e)}};l.prototype.onmouseup=function(e){if(r.system.phone&&this.getEnabled()&&e.target.tagName=="INPUT"&&document.activeElement===e.target&&!c(this)){this.onFocus(e)}};l.prototype.onFormClick=function(e){if(this.getEnabled()&&e.target.tagName=="FORM"){this.getInputElement().focus()}};l.prototype.onSearch=function(e){var t=this.getInputElement().value;this._updateValue(t);this._fireChangeEvent();this.fireSearch({query:t,refreshButtonPressed:false,clearButtonPressed:false});if(!r.system.desktop){this._blur()}};l.prototype._blur=function(){var e=this;window.setTimeout(function(){var t=e.getInputElement();if(t){t.blur()}},13)};l.prototype.onChange=function(e){this._fireChangeEvent()};l.prototype.onsapfocusleave=function(e){this._fireChangeEvent()};l.prototype._fireChangeEvent=function(){var e=this.getInputElement().value;if(this._lastValue===e){return}this._lastValue=e;this.fireChange({value:e})};l.prototype.onInput=function(){var e=this.getInputElement().value;this._updateValue(e);this.fireLiveChange({newValue:e});if(this.getEnableSuggestions()){if(this._iSuggestDelay){clearTimeout(this._iSuggestDelay)}this._iSuggestDelay=setTimeout(function(){this.fireSuggest({suggestValue:e});d(this);this._iSuggestDelay=null}.bind(this),400)}};l.prototype.onkeydown=function(e){var t;var s;var i;switch(e.which){case u.F5:case u.ENTER:this.$("search").toggleClass("sapMSFBA",true);e.stopPropagation();e.preventDefault();if(c(this)){p(this);if((t=this._oSuggest.getSelected())>=0){s=this.getSuggestionItems()[t];this._updateValue(s.getSuggestionText())}}this._fireChangeEvent();this.fireSearch({query:this.getValue(),suggestionItem:s,refreshButtonPressed:this.getShowRefreshButton()&&e.which===u.F5,clearButtonPressed:false});break;case u.ESCAPE:if(c(this)){p(this);e.setMarked()}else{i=this.getValue();if(i===this._sOriginalValue){this._sOriginalValue=""}this.clear({value:this._sOriginalValue});if(i!==this.getValue()){e.setMarked()}}e.preventDefault();break}};l.prototype.onkeyup=function(e){if(e.which===u.F5||e.which===u.ENTER){this.$("search").toggleClass("sapMSFBA",false)}};l.prototype.onFocus=function(e){this.addStyleClass("sapMFocus");this._sOriginalValue=this.getValue();if(this.getEnableSuggestions()){if(!this._bSuggestionSuppressed){this.fireSuggest({suggestValue:this.getValue()})}else{this._bSuggestionSuppressed=false}}this._setToolTips(e.type)};l.prototype.onBlur=function(e){this.removeStyleClass("sapMFocus");if(this._bSuggestionSuppressed){this._bSuggestionSuppressed=false}this._setToolTips(e.type)};l.prototype._setToolTips=function(e){var t=this.$("search"),s=this.$("reset");if(this.getShowRefreshButton()){if(e==="focus"){t.attr("title",a.oSearchFieldToolTips.SEARCH_BUTTON_TOOLTIP)}else if(e==="blur"){var i=this.getRefreshButtonTooltip(),o=i===""?a.oSearchFieldToolTips.REFRESH_BUTTON_TOOLTIP:i;if(o){t.attr("title",o)}}}if(this.getValue()===""){s.attr("title",a.oSearchFieldToolTips.SEARCH_BUTTON_TOOLTIP)}else{s.attr("title",a.oSearchFieldToolTips.RESET_BUTTON_TOOLTIP)}};l.prototype._updateValue=function(e){e=e||"";var t=this.getInputElement();if(t){if(t.value!==e){t.value=e}var s=this.$();if(s.hasClass("sapMSFVal")==!e){s.toggleClass("sapMSFVal",!!e)}}this.setProperty("value",e,true);this._setToolTips();return this};l.prototype._unregisterEventListeners=function(){var e=this.getInputElement();if(e){this.$().find(".sapMSFB").off();this.$().off();h(this.getDomRef("F")).off();h(e).off()}};l.prototype.onsapshow=function(e){if(this.getEnableSuggestions()){if(c(this)){p(this)}else{this.fireSuggest({suggestValue:this.getValue()})}}};l.prototype.onsaphide=function(e){this.suggest(false)};function g(e,t,s,i){var o;if(c(e)){o=e._oSuggest.setSelected(s,i);if(o>=0){e._updateValue(e.getSuggestionItems()[o].getSuggestionText())}t.preventDefault()}}l.prototype.onsapdown=function(e){g(this,e,1,true)};l.prototype.onsapup=function(e){g(this,e,-1,true)};l.prototype.onsaphome=function(e){g(this,e,0,false)};l.prototype.onsapend=function(e){var t=this.getSuggestionItems().length-1;g(this,e,t,false)};l.prototype.onsappagedown=function(e){g(this,e,10,true)};l.prototype.onsappageup=function(e){g(this,e,-10,true)};l.prototype._applySuggestionAcc=function(){var e="",t=this.getSuggestionItems().length,i=s.getLibraryResourceBundle("sap.m");if(t===1){e=i.getText("INPUT_SUGGESTIONS_ONE_HIT")}else if(t>1){e=i.getText("INPUT_SUGGESTIONS_MORE_HITS",t)}else{e=i.getText("INPUT_SUGGESTIONS_NO_HIT")}this.$("SuggDescr").text(e)};l.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("F")};function p(e){e._oSuggest&&e._oSuggest.close()}function f(e){if(e.getEnableSuggestions()){if(!e._oSuggest){e._oSuggest=new n(e)}e._oSuggest.open()}}function c(e){return e._oSuggest&&e._oSuggest.isOpen()}l.prototype.suggest=function(e){if(this.getEnableSuggestions()){e=e===undefined||!!e;if(e&&(this.getSuggestionItems().length||r.system.phone)){f(this)}else{p(this)}}return this};function d(e){e._oSuggest&&e._oSuggest.update()}return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SearchFieldRenderer",["sap/ui/Device","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/ui/core/library"],function(e,t,a,s){"use strict";var i=s.aria.HasPopup;var r={apiVersion:2};r.render=function(a,s){if(!s.getVisible()){return}var o=s.getPlaceholder()||t.getLibraryResourceBundle("sap.m").getText("FACETFILTER_SEARCH",true),l=s.getValue(),n=s.getProperty("width"),p=s.getId(),d=s.getShowRefreshButton(),c=s.getShowSearchButton(),S={describedby:{value:r._getDescribedBy(s),append:true}},f,u=s.getRefreshButtonTooltip(),g;a.openStart("div",s).class("sapMSF");if(n){a.style("width",n)}if(l){a.class("sapMSFVal")}if(!s.getEnabled()){a.class("sapMSFDisabled")}a.openEnd();a.openStart("form",p+"-F").class("sapMSFF");if(!c){a.class("sapMSFNS")}else if(d){a.class("sapMSFReload")}a.openEnd();a.voidStart("input",p+"-I").class("sapMSFI").attr("type","search").attr("aria-label",o).attr("autocomplete","off");if(s.getEnableSuggestions()){a.attr("aria-haspopup",i.ListBox.toLowerCase())}if(e.browser.safari){a.attr("autocorrect","off")}var T=s.getTooltip_AsString();if(T){a.attr("title",T)}if(s.getEnableSuggestions()&&e.system.phone){a.attr("inputmode","none")}if(!s.getEnabled()){a.attr("disabled","disabled")}if(o){a.attr("placeholder",o)}if(s.getMaxLength()){a.attr("maxLength",s.getMaxLength())}a.attr("value",l);S.disabled=null;a.accessibilityState(s,S);a.voidEnd();if(s.getEnabled()){a.openStart("div",p+"-reset").class("sapMSFR").class("sapMSFB").attr("aria-hidden",true);g=l===""?this.oSearchFieldToolTips.SEARCH_BUTTON_TOOLTIP:this.oSearchFieldToolTips.RESET_BUTTON_TOOLTIP;a.attr("title",g);if(e.browser.firefox){a.class("sapMSFBF")}if(!c){a.class("sapMSFNS")}a.openEnd().close("div");if(c){a.openStart("div",p+"-search").class("sapMSFS").class("sapMSFB").attr("aria-hidden",true);if(e.browser.firefox){a.class("sapMSFBF")}if(d){f=u===""?this.oSearchFieldToolTips.REFRESH_BUTTON_TOOLTIP:u}else{f=this.oSearchFieldToolTips.SEARCH_BUTTON_TOOLTIP}a.attr("title",f).openEnd().close("div")}}a.close("form");if(s.getEnableSuggestions()){a.openStart("span",p+"-SuggDescr").class("sapUiPseudoInvisibleText").attr("role","status").attr("aria-live","polite").openEnd().close("span")}a.close("div")};r._getDescribedBy=function(e){var t=a.getStaticId("sap.m","SEARCHFIELD_ARIA_DESCRIBEDBY");if(e.getEnabled()&&e.getShowRefreshButton()){t+=" "+a.getStaticId("sap.m","SEARCHFIELD_ARIA_F5")}return t};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SelectDialog",["sap/ui/thirdparty/jquery","./Button","./Dialog","./List","./SearchField","./library","sap/ui/core/library","./SelectDialogBase","sap/ui/core/InvisibleText","sap/ui/core/InvisibleMessage","sap/ui/core/UIArea","sap/ui/Device","sap/m/Toolbar","sap/m/Text","sap/m/BusyIndicator","sap/m/Bar","sap/m/Title","sap/base/Log"],function(t,e,i,s,o,n,a,r,l,h,u,d,g,c,p,_,f,y){"use strict";var S=n.ListMode;var m=n.ButtonType;var C=n.TitleAlignment;var I=a.InvisibleMessageMode;var B=r.extend("sap.m.SelectDialog",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},noDataText:{type:"string",group:"Appearance",defaultValue:null},multiSelect:{type:"boolean",group:"Dimension",defaultValue:false},growingThreshold:{type:"int",group:"Misc",defaultValue:null},growing:{type:"boolean",group:"Behavior",defaultValue:true},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},rememberSelections:{type:"boolean",group:"Behavior",defaultValue:false},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showClearButton:{type:"boolean",group:"Behavior",defaultValue:false},confirmButtonText:{type:"string",group:"Appearance"},draggable:{type:"boolean",group:"Behavior",defaultValue:false},resizable:{type:"boolean",group:"Behavior",defaultValue:false},titleAlignment:{type:"sap.m.TitleAlignment",group:"Misc",defaultValue:C.Auto}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.ListItemBase",multiple:true,singularName:"item",forwarding:{idSuffix:"-list",aggregation:"items",forwardBinding:true}},_dialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{confirm:{parameters:{selectedItem:{type:"sap.m.StandardListItem"},selectedItems:{type:"sap.m.StandardListItem[]"},selectedContexts:{type:"object[]"}}},search:{parameters:{value:{type:"string"},itemsBinding:{type:"any"},clearButtonPressed:{type:"boolean"}}},liveChange:{parameters:{value:{type:"string"},itemsBinding:{type:"any"}}},cancel:{}}},renderer:{apiVersion:2,render:function(){}}});B.prototype.init=function(){var t=this,e=0;this._bAppendedToUIArea=false;this._bInitBusy=false;this._bFirstRender=true;this._bAfterCloseAttached=false;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oList=new s(this.getId()+"-list",{growing:t.getGrowing(),growingScrollToLoad:t.getGrowing(),mode:S.SingleSelectMaster,sticky:[n.Sticky.InfoToolbar],infoToolbar:new g({visible:false,active:false,content:[new c({text:this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[0])})]}),selectionChange:this._selectionChange.bind(this),updateStarted:this._updateStarted.bind(this),updateFinished:this._updateFinished.bind(this)});this._list=this._oList;this._oBusyIndicator=new p(this.getId()+"-busyIndicator").addStyleClass("sapMSelectDialogBusyIndicator",true);this._oSearchField=new o(this.getId()+"-searchField",{width:"100%",ariaLabelledBy:l.getStaticId("sap.m","SELECTDIALOG_SEARCH"),liveChange:function(i){var s=i.getSource().getValue(),o=s?300:0;clearTimeout(e);if(o){e=setTimeout(function(){t._executeSearch(s,false,"liveChange")},o)}else{t._executeSearch(s,false,"liveChange")}},search:function(e){var i=e.getSource().getValue(),s=e.getParameters().clearButtonPressed;t._executeSearch(i,s,"search")}});this._searchField=this._oSearchField;this._oSubHeader=new _(this.getId()+"-subHeader",{contentMiddle:[this._oSearchField]});var a=new _(this.getId()+"-dialog-header",{titleAlignment:this.getTitleAlignment(),contentMiddle:[new f(this.getId()+"-dialog-title",{level:"H2"})]});this._oDialog=new i(this.getId()+"-dialog",{customHeader:a,titleAlignment:this.getTitleAlignment(),stretch:d.system.phone,contentHeight:"2000px",subHeader:this._oSubHeader,content:[this._oBusyIndicator,this._oList],leftButton:this._getCancelButton(),draggable:this.getDraggable()&&d.system.desktop,resizable:this.getResizable()&&d.system.desktop,escapeHandler:function(e){t._onCancel();e.resolve()}}).addStyleClass("sapMSelectDialog");this._dialog=this._oDialog;this.setAggregation("_dialog",this._oDialog);this._sSearchFieldValue="";this._iListUpdateRequested=0};B.prototype.setGrowing=function(t){this._oList.setGrowing(t);this._oList.setGrowingScrollToLoad(t);this.setProperty("growing",t,true);return this};B.prototype.setDraggable=function(t){this._setInteractionProperty(t,"draggable",this._oDialog.setDraggable);return this};B.prototype.setResizable=function(t){this._setInteractionProperty(t,"resizable",this._oDialog.setResizable);return this};B.prototype._setInteractionProperty=function(t,e,i){this.setProperty(e,t,true);if(!d.system.desktop&&t){y.warning(e+" property works only on desktop devices!");return}if(d.system.desktop&&this._oDialog){i.call(this._oDialog,t)}};B.prototype.setBusy=function(){this._oDialog.setBusy.apply(this._oDialog,arguments);return this};B.prototype.getBusy=function(){return this._oDialog.getBusy.apply(this._oDialog,arguments)};B.prototype.setBusyIndicatorDelay=function(t){this._oList.setBusyIndicatorDelay(t);this._oDialog.setBusyIndicatorDelay(t);this.setProperty("busyIndicatorDelay",t,true);return this};B.prototype.exit=function(){this._oList=null;this._oSearchField=null;this._oSubHeader=null;this._oClearButton=null;this._oBusyIndicator=null;this._sSearchFieldValue=null;this._iListUpdateRequested=0;this._bInitBusy=false;this._bFirstRender=false;if(this._bAppendedToUIArea){var t=sap.ui.getCore().getStaticAreaRef();t=u.registry.get(t.id);t.removeContent(this,true)}if(this._oDialog){this._oDialog.destroy();this._oDialog=null}if(this._oOkButton){this._oOkButton.destroy();this._oOkButton=null}this._oSelectedItem=null;this._aSelectedItems=null;this._list=null;this._searchField=null;this._dialog=null};B.prototype.onAfterRendering=function(){if(this._bInitBusy&&this._bFirstRender){this._setBusy(true);this._bInitBusy=false}return this};B.prototype.invalidate=function(){if(this._oDialog&&(!arguments[0]||arguments[0]&&arguments[0].getId()!==this.getId()+"-dialog")){this._oDialog.invalidate(arguments)}else{r.prototype.invalidate.apply(this,arguments)}return this};B.prototype.open=function(t){if((!this.getParent()||!this.getUIArea())&&!this._bAppendedToUIArea){var e=sap.ui.getCore().getStaticAreaRef();e=u.registry.get(e.id);e.addContent(this,true);this._bAppendedToUIArea=true}this._oSearchField.setValue(t);this._sSearchFieldValue=t||"";this._setInitialFocus();this._oDialog.open();if(this._bInitBusy){this._setBusy(true)}this._updateSelectionIndicator();this._aInitiallySelectedContextPaths=this._oList.getSelectedContextPaths();return this};B.prototype.setGrowingThreshold=function(t){this._oList.setGrowingThreshold(t);this.setProperty("growingThreshold",t,true);return this};B.prototype.setMultiSelect=function(t){this.setProperty("multiSelect",t,true);if(t){this._oList.setMode(S.MultiSelect);this._oList.setIncludeItemInSelection(true);this._oDialog.setEndButton(this._getCancelButton());this._oDialog.setBeginButton(this._getOkButton())}else{this._oList.setMode(S.SingleSelectMaster);this._oDialog.setEndButton(this._getCancelButton());this._oDialog.destroyBeginButton();delete this._oOkButton}return this};B.prototype.setTitle=function(t){this.setProperty("title",t,true);this._oDialog.getCustomHeader().getAggregation("contentMiddle")[0].setText(t);return this};B.prototype.setTitleAlignment=function(t){this.setProperty("titleAlignment",t,true);if(this._oDialog){this._oDialog.setTitleAlignment(t)}return this};B.prototype.setConfirmButtonText=function(t){this.setProperty("confirmButtonText",t,true);this._oOkButton&&this._oOkButton.setText(t||this._oRb.getText("SELECT_CONFIRM_BUTTON"));return this};B.prototype.setNoDataText=function(t){this._oList.setNoDataText(t);return this};B.prototype.getNoDataText=function(){return this._oList.getNoDataText()};B.prototype.getContentWidth=function(){return this._oDialog.getContentWidth()};B.prototype.setContentWidth=function(t){this._oDialog.setContentWidth(t);return this};B.prototype.getContentHeight=function(){return this._oDialog.getContentHeight()};B.prototype.setShowClearButton=function(t){this.setProperty("showClearButton",t,true);if(t){var e=this._oDialog.getCustomHeader();e.addContentRight(this._getClearButton())}if(this._oClearButton){this._oClearButton.setVisible(t)}return this};B.prototype.setContentHeight=function(t){this._oDialog.setContentHeight(t);return this};B.prototype.addStyleClass=function(){this._oDialog.addStyleClass.apply(this._oDialog,arguments);return this};B.prototype.removeStyleClass=function(){this._oDialog.removeStyleClass.apply(this._oDialog,arguments);return this};B.prototype.toggleStyleClass=function(){this._oDialog.toggleStyleClass.apply(this._oDialog,arguments);return this};B.prototype.hasStyleClass=function(){return this._oDialog.hasStyleClass.apply(this._oDialog,arguments)};B.prototype.getDomRef=function(){if(this._oDialog){return this._oDialog.getDomRef.apply(this._oDialog,arguments)}else{return null}};B.prototype.clearSelection=function(){this._removeSelection();this._updateSelectionIndicator();this._oDialog.focus();return this};B.prototype.setModel=function(t,e){this._setBusy(false);this._bInitBusy=false;this._iListUpdateRequested+=1;this._oList.setModel(t,e);r.prototype.setModel.apply(this,arguments);this._updateSelectionIndicator();return this};B.prototype.setBindingContext=function(t,e){this._oList.setBindingContext(t,e);r.prototype.setBindingContext.apply(this,arguments);return this};B.prototype._executeSearch=function(t,e,i){var s=this._oList,o=s?s.getBinding("items"):undefined,n=this._sSearchFieldValue!==t;if(this._oDialog.isOpen()&&(n&&i==="liveChange"||i==="search")){this._sSearchFieldValue=t;if(o){this._iListUpdateRequested+=1;if(i==="search"){this.fireSearch({value:t,itemsBinding:o,clearButtonPressed:e})}else if(i==="liveChange"){this.fireLiveChange({value:t,itemsBinding:o})}}else{if(i==="search"){this.fireSearch({value:t,clearButtonPressed:e})}else if(i==="liveChange"){this.fireLiveChange({value:t})}}}return this};B.prototype._setBusy=function(t){if(this._iListUpdateRequested){if(t){this._oList.addStyleClass("sapMSelectDialogListHide");this._oBusyIndicator.$().css("display","inline-block")}else{this._oList.removeStyleClass("sapMSelectDialogListHide");this._oBusyIndicator.$().css("display","none")}}};B.prototype._updateStarted=function(t){this.fireUpdateStarted(t.getParameters());if(this.getModel()&&this.getModel().isA("sap.ui.model.odata.ODataModel")){if(this._oDialog.isOpen()&&this._iListUpdateRequested){this._setBusy(true)}else{this._bInitBusy=true}}};B.prototype._updateFinished=function(t){this.fireUpdateFinished(t.getParameters());this._updateSelectionIndicator();if(this.getModel()&&this.getModel().isA("sap.ui.model.odata.ODataModel")){this._setBusy(false);this._bInitBusy=false}this._iListUpdateRequested=0;this._oList.getItems().forEach(function(t){t.addEventDelegate(this._getListItemsEventDelegates())},this)};B.prototype._getOkButton=function(){var t=this,i=null;i=function(){var e=t._oList.getBinding("items");if(e&&(e.getAllCurrentContexts().length>t._oList.getItems().length||t._sSearchFieldValue)){t._oList.destroyItems();t._oList.setGrowing(false);e.filter([]);t._oList.setGrowing(t.getGrowing());t._oList.attachEventOnce("updateFinished",function(){t._oSelectedItem=t._oList.getSelectedItem();t._aSelectedItems=t._oList.getSelectedItems();t._fireConfirmAndUpdateSelection()})}else{t._oSelectedItem=t._oList.getSelectedItem();t._aSelectedItems=t._oList.getSelectedItems();t._fireConfirmAndUpdateSelection()}t._sSearchFieldValue=null};if(!this._oOkButton){this._oOkButton=new e(this.getId()+"-ok",{type:m.Emphasized,text:this.getConfirmButtonText()||this._oRb.getText("SELECT_CONFIRM_BUTTON"),press:function(){t._oDialog.attachEventOnce("afterClose",i);t._oDialog.close()}})}return this._oOkButton};B.prototype._getCancelButton=function(){var t=this;if(!this._oCancelButton){this._oCancelButton=new e(this.getId()+"-cancel",{text:this._oRb.getText("MSGBOX_CANCEL"),press:function(e){t._onCancel()}})}return this._oCancelButton};B.prototype._getClearButton=function(){if(!this._oClearButton){this._oClearButton=new e(this.getId()+"-clear",{text:this._oRb.getText("SELECTDIALOG_CLEARBUTTON"),press:this.clearSelection.bind(this)})}return this._oClearButton};B.prototype._onCancel=function(t){var e=this,i=null;i=function(){e._oSelectedItem=null;e._aSelectedItems=[];e._sSearchFieldValue=null;e._oDialog.detachAfterClose(i);e._resetSelection();e.fireCancel()};this._oDialog.attachAfterClose(i);this._oDialog.close()};B.prototype._updateSelectionIndicator=function(){var t=this._oList.getSelectedContextPaths(true).length,e=this._oList.getInfoToolbar(),i=!!t&&this.getMultiSelect();if(this.getShowClearButton()&&this._oClearButton){this._oClearButton.setEnabled(t>0)}if(e.getVisible()!==i){e.setVisible(i)}e.getContent()[0].setText(this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[t]));if(this._oDialog.isOpen()){h.getInstance().announce(t>0?this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS_SR",[t]):"",I.Polite)}};B.prototype._fireConfirmAndUpdateSelection=function(){var t={selectedItem:this._oSelectedItem,selectedItems:this._aSelectedItems};Object.defineProperty(t,"selectedContexts",{get:this._oList.getSelectedContexts.bind(this._oList,true)});this.fireConfirm(t);this._updateSelection()};B.prototype._selectionChange=function(t){if(t.getParameters){this.fireSelectionChange(t.getParameters())}if(!this._oDialog){return}if(this.getMultiSelect()){this._updateSelectionIndicator();return}if(!this._bAfterCloseAttached){this._oDialog.attachEventOnce("afterClose",this._resetAfterClose,this);this._bAfterCloseAttached=true}this._oDialog.close()};B.prototype._resetAfterClose=function(){this._oSelectedItem=this._oList.getSelectedItem();this._aSelectedItems=this._oList.getSelectedItems();this._bAfterCloseAttached=false;this._fireConfirmAndUpdateSelection()};B.prototype._updateSelection=function(){if(!this.getRememberSelections()&&!this.bIsDestroyed){this._removeSelection()}};B.prototype._removeSelection=function(){this._oList.removeSelections(true);delete this._oSelectedItem;delete this._aSelectedItems};B.prototype._resetSelection=function(){if(!this.bIsDestroyed){this._oList.removeSelections(true);this._oList.setSelectedContextPaths(this._aInitiallySelectedContextPaths);this._oList.getItems().forEach(function(t){var e=t.getBindingContextPath();if(e&&this._aInitiallySelectedContextPaths.indexOf(e)>-1){t.setSelected(true)}},this)}};B.prototype._getListItemsEventDelegates=function(){var e=function(e){var i=t(e.target).closest(".sapMLIB").control()[0];if(i._eventHandledByControl){return}if(e&&e.isDefaultPrevented&&e.isMarked&&(e.isDefaultPrevented()||e.isMarked("preventSelectionChange"))){return}if(e&&e.srcControl.isA("sap.m.GroupHeaderListItem")){return}this._selectionChange(e)}.bind(this);return{ontap:e,onsapselect:e}};return B});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SelectDialogBase",["sap/ui/Device","sap/ui/core/Control"],function(e,t){"use strict";var a=t.extend("sap.m.SelectDialogBase",{metadata:{library:"sap.m",abstract:true,properties:{},aggregations:{},events:{updateStarted:{parameters:{reason:{type:"string"},actual:{type:"int"},total:{type:"int"}}},updateFinished:{parameters:{reason:{type:"string"},actual:{type:"int"},total:{type:"int"}}},selectionChange:{parameters:{listItem:{type:"sap.m.ListItemBase"},listItems:{type:"sap.m.ListItemBase[]"},selected:{type:"boolean"},selectAll:{type:"boolean"}}}}},renderer:{apiVersion:2,render:function(){}}});a.prototype._setInitialFocus=function(){if(!e.system.desktop){return}var t=this._oSearchField;if(this.getItems().length){t=this.getItems()[0]}this._oDialog.setInitialFocus(t)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SelectList",["./library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/delegate/ItemNavigation","sap/ui/core/Item","./SelectListRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/control"],function(e,t,i,s,o,n,r,a,l){"use strict";var u=e.touch;var c=e.SelectListKeyboardNavigationMode;var d=i.extend("sap.m.SelectList",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},_columnRatio:{type:"sap.m.SelectColumnRatio",group:"Appearance",visibility:"hidden"},_tabIndex:{type:"string",group:"Misc",visibility:"hidden",defaultValue:""},keyboardNavigationMode:{type:"sap.m.SelectListKeyboardNavigationMode",group:"Behavior",defaultValue:c.Delimited},hideDisabledItems:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}},itemPress:{parameters:{item:{type:"sap.ui.core.Item"}}}}},renderer:r});d.prototype._setSelectedIndex=function(e,t){var i;t=t||this.getItems();e=e>t.length-1?t.length-1:Math.max(0,e);i=t[e];if(i){this.setSelection(i)}};d.prototype.updateItems=function(e,t){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(t&&(t.detailedReason==="AddVirtualContext"||t.detailedReason==="RemoveVirtualContext")){this._bHasVirtualContext=true;return}this._bHasVirtualContext=false;this.synchronizeSelection({forceSelection:false});setTimeout(this.synchronizeSelection.bind(this),0)};d.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items")};d.prototype._activateItem=function(e){if(e instanceof n&&e&&e.getEnabled()){this.fireItemPress({item:e});if(this.getSelectedItem()!==e){this.setSelection(e);this.fireSelectionChange({selectedItem:e})}}};d.prototype._queryEnabledItemsDomRefs=function(){return this.getItems().reduce(function(e,t){if(t.getEnabled()&&!t.isA("sap.ui.core.SeparatorItem")){e.push(t.getDomRef())}return e},[])};d.prototype._handleARIAActivedescendant=function(){var e=s.closestTo(document.activeElement),t=this.getDomRef();if(e&&t){t.setAttribute("aria-activedescendant",e.getId())}};d.prototype.init=function(){this._iStartTimeout=0;this._iActiveTouchId=0;this._fStartX=0;this._fStartY=0;this._oItemNavigation=null;this._$ItemPressed=null};d.prototype.onBeforeRendering=function(){this.synchronizeSelection({forceSelection:false})};d.prototype.onAfterRendering=function(){if(this.getKeyboardNavigationMode()===c.None){this.destroyItemNavigation()}else{this.createItemNavigation()}};d.prototype.exit=function(){this.destroyItemNavigation();this._$ItemPressed=null};d.prototype.ontouchstart=function(e){if(u.countContained(e.touches,this.getId())>1||!this.getEnabled()){return}e.setMarked();var t=e.targetTouches[0];this._iActiveTouchId=t.identifier;this._fStartX=t.pageX;this._fStartY=t.pageY;this._iStartTimeout=setTimeout(function(){var t=e.srcControl.$();if(t){t.addClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=t}}.bind(this),100)};d.prototype.ontouchmove=function(e){var t=null;if(!this.getEnabled()){return}t=u.find(e.changedTouches,this._iActiveTouchId);if(t&&(Math.abs(t.pageX-this._fStartX)>10||Math.abs(t.pageY-this._fStartY)>10)){clearTimeout(this._iStartTimeout);if(this._$ItemPressed){this._$ItemPressed.removeClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=null}}};d.prototype.ontouchend=function(e){var t=null;if(!this.getEnabled()){return}e.setMarked();t=u.find(e.changedTouches,this._iActiveTouchId);if(t){setTimeout(function(){if(this._$ItemPressed){this._$ItemPressed.removeClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=null}this._iStartTimeout=null}.bind(this),100)}};d.prototype.ontouchcancel=d.prototype.ontouchend;d.prototype.ontap=function(e){if(this.getEnabled()){e.setMarked();this._activateItem(e.srcControl)}};d.prototype.onsapselect=function(e){if(this.getEnabled()){e.setMarked();e.preventDefault();this._activateItem(e.srcControl)}};d.prototype.onAfterFocus=function(e){this._handleARIAActivedescendant()};d.prototype.findFirstEnabledItem=function(e){e=e||this.getItems();for(var t=0;t<e.length;t++){if(e[t].getEnabled()){return e[t]}}return null};d.prototype.setSelection=function(e){this.setAssociation("selectedItem",e,true);this.setProperty("selectedItemId",e instanceof n?e.getId():e);if(typeof e==="string"){e=t.byId(e)}this.setProperty("selectedKey",e?e.getKey():"",true);return this};d.prototype.synchronizeSelection=function(e){var t=this.getSelectedKey(),i=this.getItemByKey(""+t),s=true;if(e){s=!!e.forceSelection}if(this.isSelectionSynchronized({selectedKey:t,firstItemWithKey:i,forceSelection:s})){return}if(i&&t!==""){this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",i.getId(),true)}else if(s&&!this._bHasVirtualContext&&this.getDefaultSelectedItem()&&(!this.isBound("items")||this.bItemsUpdated)){try{this.setSelection(this.getDefaultSelectedItem())}catch(e){a.warning("Update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e}})}}};d.prototype.isSelectionSynchronized=function(e){var t=this.getSelectedItem(),i,s,o;if(e){i=e.selectedKey;s=e.firstItemWithKey;o=e.forceSelection}else{i=this.getSelectedKey();s=this.getItemByKey(i);o=this.getForceSelection()}if(o){if(!t){return false}if(i===""&&t.getKey()===""){return true}return i===t.getKey()&&t===s}else{if(t===null&&i===""){return true}if(i===""){return false}return i===(t&&t.getKey())&&t===s}};d.prototype.getForceSelection=function(){return false};d.prototype.findLastEnabledItem=function(e){e=e||this.getItems();return this.findFirstEnabledItem(e.reverse())};d.prototype.getVisibleItems=function(){for(var e=0,t,i=this.getItems(),s=[];e<i.length;e++){t=i[e];if(t.bVisible||t.bVisible===undefined){s.push(t)}}return s};d.prototype._getColumnsPercentages=function(){var e=this.getProperty("_columnRatio"),t,i,s;if(!e){return null}t=e.split(":").map(function(e){return parseInt(e)});i=t[0]+t[1];s=Math.round(t[0]/i*100);return{firstColumn:s+"%",secondColumn:100-s+"%"}};d.prototype.getSelectableItems=function(){return this.getEnabledItems(this.getVisibleItems()).filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")})};d.prototype.findItem=function(e,t){var i="get"+e.charAt(0).toUpperCase()+e.slice(1);for(var s=0,o=this.getItems();s<o.length;s++){if(o[s][i]()===t){return o[s]}}return null};d.prototype.getItemByText=function(e){return this.findItem("text",e)};d.prototype.isItemSelected=function(e){return e&&e.getId()===this.getAssociation("selectedItem")};d.prototype._getNonSeparatorItemsCount=function(){return this.getEnabledItems().filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")}).length};d.prototype.getDefaultSelectedItem=function(e){return null};d.prototype.clearSelection=function(){this.setSelection(null)};d.prototype.createItemNavigation=function(){var e;if(!this._oItemNavigation){this._oItemNavigation=new o(null,null,!this.getEnabled());this._oItemNavigation.attachEvent(o.Events.AfterFocus,this.onAfterFocus,this);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"]});this.addEventDelegate(this._oItemNavigation)}e=this.getDomRef();this._oItemNavigation.setRootDomRef(e);this._oItemNavigation.setItemDomRefs(this._queryEnabledItemsDomRefs(e));this._oItemNavigation.setCycling(false);this._oItemNavigation.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));this._oItemNavigation.setPageSize(10)};d.prototype.destroyItemNavigation=function(){if(this._oItemNavigation){this.removeEventDelegate(this._oItemNavigation);this._oItemNavigation.destroy();this._oItemNavigation=null}};d.prototype.getItemNavigation=function(){return this._oItemNavigation};d.prototype.setSelectedItem=function(e){if(typeof e==="string"){this.setAssociation("selectedItem",e,true);e=t.byId(e)}if(!(e instanceof n)&&e!==null){return this}if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);return this};d.prototype.setSelectedItemId=function(e){e=this.validateProperty("selectedItemId",e);this.setSelection(e);return this};d.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var t=this.getItemByKey(e);if(t||e===""){if(!t&&e===""){t=this.getDefaultSelectedItem()}this.setSelection(t);return this}return this.setProperty("selectedKey",e)};d.prototype.getSelectedItem=function(){var e=this.getAssociation("selectedItem");return e===null?null:t.byId(e)||null};d.prototype.getItemAt=function(e){return this.getItems()[+e]||null};d.prototype.getFirstItem=function(){return this.getItems()[0]||null};d.prototype.getLastItem=function(){var e=this.getItems();return e[e.length-1]||null};d.prototype.getEnabledItems=function(e){e=e||this.getItems();return e.filter(function(e){return e.getEnabled()})};d.prototype.getItemByKey=function(e){return this.findItem("key",e)};d.prototype.removeItem=function(e){e=this.removeAggregation("items",e);if(this.getItems().length===0){this.clearSelection()}else if(this.isItemSelected(e)){this.setSelection(this.getDefaultSelectedItem())}return e};d.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",true);this.$().children("li").remove();return e};d.prototype.destroyItems=function(){this.destroyAggregation("items",true);return this};d.prototype.setNoDataText=function(){};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SelectListRenderer",["sap/ui/core/Element","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/Device"],function(e,t,s,i){"use strict";var a=t.TextDirection;var n={apiVersion:2};n.CSS_CLASS="sapMSelectList";n.render=function(e,t){this.writeOpenListTag(e,t,{elementData:true});this.renderItems(e,t);this.writeCloseListTag(e,t)};n.writeOpenListTag=function(e,t,s){var i=n.CSS_CLASS,a=t.getProperty("_tabIndex");if(s.elementData){e.openStart("ul",t)}else{e.openStart("ul")}e.class(i);if(t.getShowSecondaryValues()){e.class(i+"TableLayout")}if(!t.getEnabled()){e.class(i+"Disabled")}if(a){e.attr("tabindex",a)}e.style("width",t.getWidth());this.writeAccessibilityState(e,t);e.openEnd()};n.writeCloseListTag=function(e,t){e.close("ul")};n.renderItems=function(e,t){var s=t._getNonSeparatorItemsCount(),i=t.getHideDisabledItems()?t.getEnabledItems():t.getItems(),a=t.getSelectedItem(),n=1,r,l;for(var o=0;o<i.length;o++){l=o===0&&!a;r={selected:a===i[o],setsize:s,elementData:true};if(!(i[o]&&i[o].isA("sap.ui.core.SeparatorItem"))&&i[o].getEnabled()){r.posinset=n++}this.renderItem(e,t,i[o],r,l)}};n.renderDirAttr=function(e,t){if(t!==a.Inherit){e.attr("dir",t.toLowerCase())}};n.renderItem=function(t,s,a,r,l){if(!(a instanceof e)){return}var o=a.getEnabled(),c=s.getSelectedItem(),d=n.CSS_CLASS,p=a.getTooltip_AsString(),I=a.getTextDirection(),f=s.getShowSecondaryValues(),S;t.openStart("li",r.elementData?a:null);if(!f){this.renderDirAttr(t,I)}if(a.getIcon&&a.getIcon()){t.class("sapMSelectListItemWithIcon")}if(a.isA("sap.ui.core.SeparatorItem")){t.class(d+"SeparatorItem");if(f){t.class(d+"Row")}}else{t.class(d+"ItemBase");if(f){t.class(d+"Row")}else{t.class(d+"Item")}if(a.bVisible===false){t.class(d+"ItemBaseInvisible")}if(!o){t.class(d+"ItemBaseDisabled")}if(o&&i.system.desktop){t.class(d+"ItemBaseHoverable")}if(a===c||l){t.class(d+"ItemBaseSelected")}if(o){t.attr("tabindex","0")}}if(p){t.attr("title",p)}this.writeItemAccessibilityState.apply(this,arguments);t.openEnd();if(f){S=s._getColumnsPercentages();t.openStart("span");t.class(d+"Cell");t.class(d+"FirstCell");if(S){t.style("width",S.firstColumn)}t.attr("disabled","disabled");this.renderDirAttr(t,I);t.openEnd();this._renderIcon(t,a);t.text(a.getText());t.close("span");t.openStart("span");t.class(d+"Cell");t.class(d+"LastCell");if(S){t.style("width",S.secondColumn)}t.attr("disabled","disabled");t.openEnd();if(typeof a.getAdditionalText==="function"){t.text(a.getAdditionalText())}t.close("span")}else{this._renderIcon(t,a);t.text(a.getText())}t.close("li")};n.writeAccessibilityState=function(e,t){e.accessibilityState(t,{role:"listbox"})};n.writeItemAccessibilityState=function(e,t,i,a){var n=i.isA("sap.ui.core.SeparatorItem")?"separator":"option";var r;if(!i.getText()&&i.getIcon&&i.getIcon()){var l=s.getIconInfo(i.getIcon());if(l){r=l.text||l.name}}e.accessibilityState(i,{role:n,selected:a.selected,setsize:a.setsize,posinset:a.posinset,label:r})};n._renderIcon=function(e,t){if(t.getIcon&&t.getIcon()){e.icon(t.getIcon(),n.CSS_CLASS+"ItemIcon",{id:t.getId()+"-icon"})}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SelectRenderer",["sap/ui/core/Renderer","sap/ui/core/IconPool","sap/m/library","sap/ui/Device","sap/ui/core/library"],function(e,t,a,n,i){"use strict";var s=i.TextDirection;var r=i.ValueState;var l=a.SelectType;var d={apiVersion:2};d.CSS_CLASS="sapMSlt";d.render=function(e,t){var a=t.getType(),i=t.getAutoAdjustWidth(),s=t.getEditable(),o=t.getEnabled(),c=t.getWidth(),g=c.indexOf("%")>-1,u=i||c==="auto"||g,S=d.CSS_CLASS,p=o&&s;e.openStart("div",t);this.addClass(e,t);e.class(S);e.class(S+t.getType());if(!o){e.class(S+"Disabled")}else if(!s){e.class(S+"Readonly")}if(u&&a===l.Default){e.class(S+"MinWidth")}if(i){e.class(S+"AutoAdjustedWidth")}else{e.style("width",c)}if(t.getIcon()){e.class(S+"WithIcon")}if(p&&n.system.desktop){e.class(S+"Hoverable")}e.class(S+"WithArrow");if(t.getValueState()!==r.None&&p){this.addValueStateClasses(e,t)}e.style("max-width",t.getMaxWidth());if(o){e.attr("tabindex","-1")}e.openEnd();this.renderFocusElement(e,t);this.renderHiddenInput(e,t);this.renderLabel(e,t);switch(a){case l.Default:this.renderArrow(e,t);break;case l.IconOnly:this.renderIcon(e,t);break}var f=t.getList();if(t._isShadowListRequired()&&f){this.renderShadowList(e,f)}this.renderAccessibilityDomNodes(e,t);e.close("div")};d.renderFocusElement=function(e,t){var a=t.getSelectedItem(),n=t.getType()===l.IconOnly;e.openStart("div",t.getId()+"-hiddenSelect");this.writeAccessibilityState(e,t);e.class("sapUiPseudoInvisibleText");e.class(d.CSS_CLASS+"HiddenSelect");if(t.getEnabled()){e.attr("tabindex","0")}this.renderTooltip(e,t);e.openEnd();if(a&&!n){e.text(a.getText())}e.close("div")};d.renderTooltip=function(e,a){var n,i=a.getTooltip_AsString(),s=a.getType()===l.IconOnly;if(!i&&s){n=t.getIconInfo(a.getIcon());if(n){i=n.text}}if(!i){return}e.attr("title",i);if(s){e.attr("aria-label",i)}};d.renderHiddenInput=function(e,t){e.voidStart("input",t.getId()+"-hiddenInput");e.attr("name",t.getName());e.attr("value",t.getSelectedKey());e.attr("aria-readonly","true");e.attr("tabindex","-1");e.attr("aria-hidden","true");e.attr("type","hidden");e.class("sapUiPseudoInvisibleText");e.voidEnd()};d.renderLabel=function(t,a){var n=a.getSelectedItem(),i=a.getTextDirection(),o=e.getTextAlign(a.getTextAlign(),i),c=d.CSS_CLASS,g=a.getEnabled()&&a.getEditable(),u=a.getTooltip_AsString();t.openStart("span",a.getId()+"-label");t.attr("aria-hidden",true);t.class(c+"Label");if(u){t.attr("title",u)}if(a.getValueState()!==r.None&&g){t.class(c+"LabelState");t.class(c+"Label"+a.getValueState())}if(a.getType()===l.IconOnly){t.class("sapUiPseudoInvisibleText")}if(i!==s.Inherit){t.attr("dir",i.toLowerCase())}t.style("text-align",o);t.openEnd();if(a.getType()!==l.IconOnly){t.renderControl(a._getValueIcon());t.openStart("span",a.getId()+"-labelText");t.class("sapMSelectListItemText");t.openEnd();t.text(n&&n.getParent()?n.getText():null);t.close("span")}t.close("span")};d.renderArrow=function(e,t){var a=d.CSS_CLASS,n=t.getTooltip_AsString();e.openStart("span",t.getId()+"-arrow");e.attr("aria-hidden",true);e.class(a+"Arrow");if(t.getValueState()!==r.None){e.class(a+"ArrowState")}if(n){e.attr("title",n)}e.openEnd().close("span")};d.renderIcon=function(e,a){var n=a.getTooltip_AsString(),i=t.getIconInfo(a.getIcon()),s=i&&i.text;e.icon(a.getIcon(),d.CSS_CLASS+"Icon",{id:a.getId()+"-icon",title:n||s||null})};d.renderShadowList=function(e,t){var a=t.getRenderer();a.writeOpenListTag(e,t,{elementData:false});this.renderShadowItems(e,t);a.writeCloseListTag(e,t)};d.renderShadowItems=function(e,t){var a=t.getRenderer(),n=t.getSelectableItems(),i=n.length,s=t.getSelectedItem();for(var r=0;r<i;r++){a.renderItem(e,t,n[r],{selected:s===n[r],setsize:i,posinset:r+1,elementData:false})}};d.addClass=function(e,t){};d.addValueStateClasses=function(e,t){e.class(d.CSS_CLASS+"State");e.class(d.CSS_CLASS+t.getValueState())};d.getAriaRole=function(e){switch(e.getType()){case l.Default:return"combobox";case l.IconOnly:return"button"}};d.writeAccessibilityState=function(e,a){var n=a.getValueState(),i=a.getSelectedItem(),s=a.getType()===l.IconOnly,d=a._getValueIcon(),o=a.getEnabled()&&a.getEditable(),c=[],g=[],u,S,p,f;a.getLabels().forEach(function(e){if(e&&e.getId){c.push(e.getId())}});if(a.isOpen()&&i&&i.getDomRef()){p=i.getId()}if(i&&!i.getText()&&i.getIcon&&i.getIcon()){var I=t.getIconInfo(i.getIcon());if(I){f=I.text||I.name}}if(n!==r.None&&o){S=a.getValueStateMessageId()+"-sr"}if(f&&d){g.push(d.getId())}if(c.length){g=g.concat(c)}u={value:g.join(" "),append:true};e.accessibilityState(null,{role:this.getAriaRole(a),roledescription:s?undefined:a._sAriaRoleDescription,readonly:s?undefined:a.getEnabled()&&!a.getEditable(),required:a._isRequired()||undefined,disabled:!a.getEnabled()||undefined,expanded:a.isOpen(),invalid:a.getValueState()===r.Error&&o?true:undefined,labelledby:s||u.value===""?undefined:u,describedby:S,activedescendant:p,haspopup:a.getEditable()?"listbox":undefined})};d.renderAccessibilityDomNodes=function(e,t){var a=t.getValueState(),n,i=t.getEnabled()&&t.getEditable();if(a===r.None||!i){return}n=t._getValueStateText();e.openStart("div",t.getValueStateMessageId()+"-sr").class("sapUiPseudoInvisibleText").attr("aria-hidden",true).openEnd().text(n).close("div")};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SimpleFixFlex",["sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/base/Log","./SimpleFixFlexRenderer"],function(e,t,i,n){"use strict";var s=e.extend("sap.m.SimpleFixFlex",{metadata:{library:"sap.m",aggregations:{fixContent:{type:"sap.ui.core.Control",multiple:false},flexContent:{type:"sap.ui.core.Control",multiple:true}},properties:{fitParent:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:n});s.FIX_AREA_CHARACTER_COUNT_RECOMMENDATION=200;s.FIX_AREA_CHARACTERS_ABOVE_RECOMMENDED_WARNING="It is recommended to use less than "+s.FIX_AREA_CHARACTER_COUNT_RECOMMENDATION+" characters as a value state text.";s.prototype.onBeforeRendering=function(){this._deregisterFixContentResizeHandler();var e=this.getFixContent();if(e&&e.isA("sap.m.Text")&&e.getText().length>s.FIX_AREA_CHARACTER_COUNT_RECOMMENDATION){i.warning(s.FIX_AREA_CHARACTERS_ABOVE_RECOMMENDED_WARNING,"",this.getId())}};s.prototype.onAfterRendering=function(){if(this.getFitParent()){this._registerFixContentResizeHandler()}};s.prototype._registerFixContentResizeHandler=function(){var e=this.getFixContent();if(!this._sResizeListenerId&&e&&e.getDomRef()){this._sResizeListenerId=t.register(e.getDomRef(),this._onFixContentResize.bind(this));this._onFixContentResize()}};s.prototype._deregisterFixContentResizeHandler=function(){if(this._sResizeListenerId){t.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};s.prototype._onFixContentResize=function(){var e=this.$(),t=this.getFixContent().$(),i=t.get(0);if(!i||!i.clientHeight){return null}e.css("padding-top",i.clientHeight)};s.prototype.exit=function(){this._deregisterFixContentResizeHandler()};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SimpleFixFlexRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,n){var t=n.getFixContent();e.openStart("div",n);e.class("sapUiSimpleFixFlex");e.openEnd();if(t){t.toggleStyleClass("sapUiSimpleFixFlexFixedWrap",n.getFitParent());e.renderControl(t.addStyleClass("sapUiSimpleFixFlexFixed"))}this.renderFlexContentContainer(e,n);e.close("div")};e.renderFlexContentContainer=function(e,n){var t=n.getFlexContent();e.openStart("div",n.getId()+"-flexContentContainer");e.class("sapUiSimpleFixFlexFlexContentContainer");e.openEnd();if(t){e.openStart("div");e.class("sapUiSimpleFixFlexFlexContent");e.openEnd();t.forEach(function(n){e.renderControl(n)});e.close("div")}e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitButton",["./library","sap/ui/core/Control","./Button","./ButtonRenderer","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","sap/ui/core/library","./SplitButtonRenderer","sap/ui/events/KeyCodes"],function(t,e,r,o,i,n,a,s,p){"use strict";var u=a.TextDirection;var l=t.ButtonType;var c=e.extend("sap.m.SplitButton",{metadata:{interfaces:["sap.m.IOverflowToolbarContent"],library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:l.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:u.Inherit}},aggregations:{_textButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_arrowButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{},arrowPress:{}}},renderer:s});i.call(c.prototype);c.prototype.onAfterRendering=function(){var t=this._getTextButton().$(),e=this._getArrowButton().$();t.attr("tabindex","-1");e.attr("tabindex","-1");t.removeAttr("title");e.removeAttr("title");t.removeAttr("aria-describedby");e.removeAttr("aria-describedby")};c.prototype._handleAction=function(t){if(t.getSource().hasStyleClass("sapMSBArrow")){this.fireArrowPress({keyboard:t.getParameter("keyboard")})}else{this.firePress({keyboard:t.getParameter("keyboard")})}};c.prototype.setArrowState=function(t){var e=this.getAggregation("_arrowButton");if(!e){return}if(t){e.$().addClass("sapMSBActive")}else{e.$().removeClass("sapMSBActive")}};c.prototype._getTextButton=function(){var t=this.getAggregation("_textButton");if(!t){t=new r({id:this.getId()+"-textButton",width:"100%",icon:this.getIcon(),text:this.getText(),press:this._handleAction.bind(this)}).addStyleClass("sapMSBText");this.setAggregation("_textButton",t)}return t};c.prototype._getArrowButton=function(){var t=this.getAggregation("_arrowButton");if(!t){t=new r({id:this.getId()+"-arrowButton",icon:"sap-icon://slim-arrow-down",press:this._handleAction.bind(this),tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SPLIT_BUTTON_ARROW_TOOLTIP"),ariaHasPopup:a.aria.HasPopup.Menu}).addStyleClass("sapMSBArrow");this.setAggregation("_arrowButton",t)}return t};c.prototype.setProperty=function(t,o,i){if(t==="type"&&(o===l.Up||o===l.Back||o===l.Unstyled)){return this}var n=e.prototype.setProperty.apply(this,arguments);if(t==="activeIcon"||t==="iconDensityAware"||t==="textDirection"){r.prototype.setProperty.apply(this._getTextButton(),arguments)}else if(t==="text"||t==="type"||t==="icon"){var a="set"+y(t);r.prototype[a].call(this._getTextButton(),o);if(t==="type"){r.prototype[a].call(this._getArrowButton(),o)}}return n};function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}c.prototype.onkeydown=function(t){if(t.which===p.SPACE){t.preventDefault()}this._getTextButton().onkeydown(t)};c.prototype.onkeyup=function(t){this._getTextButton().onkeyup(t)};c.prototype.onsapup=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapdown=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapupmodifiers=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapdownmodifiers=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapshow=function(t){this._getArrowButton().firePress();t.preventDefault()};c.prototype.getButtonTypeAriaLabelId=function(){var t=this._getTextButton().getType();return o.getButtonTypeAriaLabelId(t)};c.prototype.getTitleAttributeValue=function(){var t=this.getTooltip_AsString(),e=n.getIconInfo(this.getIcon()),r;if(t||e&&e.text&&!this.getText()){r=t||e.text}return r};c.prototype.getOverflowToolbarConfig=function(){var t={canOverflow:true,propsUnrelatedToSize:["enabled","type","icon","activeIcon"],autoCloseEvents:["press"]};return t};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitButtonRenderer",["sap/m/library","sap/ui/core/InvisibleText","sap/ui/core/ShortcutHintsMixin"],function(t,e,i){"use strict";var a=t.ButtonType;var r={apiVersion:2};r.CSS_CLASS="sapMSB";r.render=function(t,e){var n=e.getWidth(),s=e.getType(),o=e.getEnabled(),l=e.getTitleAttributeValue(),p;t.openStart("div",e).class(r.CSS_CLASS);if(e.getIcon()){t.class(r.CSS_CLASS+"HasIcon")}if(s===a.Accept||s===a.Reject||s===a.Emphasized||s===a.Transparent||s===a.Attention||s===a.Neutral||s===a.Critical||s===a.Success||s===a.Negative){t.class(r.CSS_CLASS+s)}this.writeAriaAttributes(t,e);t.attr("tabindex",o?"0":"-1");if(l&&!i.isDOMIDRegistered(e.getId())){t.attr("title",l)}if(n!=""||n.toLowerCase()==="auto"){t.style("width",n)}t.openEnd();t.openStart("div").class("sapMSBInner");if(!o){t.class("sapMSBInnerDisabled")}t.openEnd();t.renderControl(e._getTextButton());t.renderControl(e._getArrowButton());t.close("div");if(l){p=e.getId()+"-tooltip";t.openStart("span",p);t.class("sapUiInvisibleText");t.openEnd();t.text(l);t.close("span")}t.close("div")};r.writeAriaAttributes=function(t,e){var i={};this.writeAriaRole(e,i);this.writeAriaLabelledBy(e,i);t.accessibilityState(e,i)};r.writeAriaRole=function(t,e){e["role"]="group"};r.writeAriaLabelledBy=function(t,i){var a="",r=t.getButtonTypeAriaLabelId(),n=t.getTitleAttributeValue(),s;if(t.getText()){a+=t._getTextButton().getId()+"-content";a+=" "}if(r){a+=r;a+=" "}if(n){s=t.getId()+"-tooltip";a+=s+" "}a+=e.getStaticId("sap.m","SPLIT_BUTTON_DESCRIPTION")+" ";a+=e.getStaticId("sap.m","SPLIT_BUTTON_KEYBOARD_HINT");i["labelledby"]={value:a,append:true}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Suggest",["./Toolbar","./Button","./Dialog","./Popover","./SuggestionsList","./SuggestionItem","sap/ui/Device","sap/m/library","sap/ui/core/Core","sap/ui/core/InvisibleText"],function(e,t,n,i,s,o,r,a,u,c){"use strict";var l=a.PlacementType;function f(f){var p=f,d,g,h,S=r.system.phone,v=this;function m(e){var t=e.srcControl;var n;if(t instanceof o){n=t.getSuggestionText();v._suggestionItemTapped=true;d.close();window.setTimeout(function(){f._updateValue(n);f._fireChangeEvent();f.fireSearch({query:n,suggestionItem:t,refreshButtonPressed:false,clearButtonPressed:false})},0)}}function _(){var i,s,o,r,a,c;o=new(sap.ui.require("sap/m/SearchField"))({liveChange:function(e){var t=e.getParameter("newValue");f._updateValue(t);f.fireLiveChange({newValue:t});f.fireSuggest({suggestValue:t});v.update()},search:function(e){if(!e.getParameter("clearButtonPressed")){i.close()}}});c=new t({icon:"sap-icon://decline",press:function(){v._cancelButtonTapped=true;i._oCloseTrigger=true;i.close();f._updateValue(s)}});r=new e({content:[o,c]});a=new t({text:u.getLibraryResourceBundle("sap.m").getText("MSGBOX_OK"),press:function(){i.close()}});i=new n({stretch:true,customHeader:r,content:y(),beginButton:a,beforeClose:function(){f._bSuggestionSuppressed=true},beforeOpen:function(){s=f.getValue();o._updateValue(s)},afterClose:function(e){if(!v._cancelButtonTapped&&!v._suggestionItemTapped){f._fireChangeEvent();f.fireSearch({query:f.getValue(),refreshButtonPressed:false,clearButtonPressed:false})}}});i.addEventDelegate({ontap:m},f);return i}function w(){var e=v._oPopover=new i({showArrow:false,showHeader:false,horizontalScrolling:false,placement:l.Vertical,offsetX:0,offsetY:0,initialFocus:p,bounce:false,ariaLabelledBy:c.getStaticId("sap.m","INPUT_AVALIABLE_VALUES"),afterOpen:function(){f._applySuggestionAcc()},beforeClose:function(){f.$("I").removeAttr("aria-activedescendant");f.$("SuggDescr").text("")},content:y()}).addStyleClass("sapMSltPicker").addStyleClass("sapMSltPicker-CTX");e.open=function(){return this.openBy(p)};e.addEventDelegate({onAfterRendering:v.setPopoverMinWidth.bind(v),ontap:m},f);return e}function y(){if(!g){g=new s({parentInput:p})}return g}function B(){if(d===undefined){d=S?_():w()}return d}this.setPopoverMinWidth=function(){var e=v._oPopover.getDomRef();if(e){var t=f.$().outerWidth()/parseFloat(a.BaseFontSize)+"rem";e.style.minWidth=t}};this.destroy=function(){if(d){d.close();d.destroy();d=null}if(g){g.destroy();g=null}};this.close=function(){if(!S&&this.isOpen()){d.close()}};this.open=function(){if(!this.isOpen()){this.setSelected(-1);this._suggestionItemTapped=false;this._cancelButtonTapped=false;B().open()}};this.update=function(){var e=y();window.clearTimeout(h);if(this.isOpen()){h=window.setTimeout(e.update.bind(e),50);f._applySuggestionAcc()}};this.isOpen=function(){return!!d&&d.isOpen()};this.getSelected=function(){return y().getSelectedItemIndex()};this.setSelected=function(e,t){return y().selectByIndex(e,t)}}return f},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SuggestionItem",["./library","sap/ui/core/Item","sap/ui/core/IconPool"],function(e,t,s){"use strict";var i=t.extend("sap.m.SuggestionItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:""},enabled:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"},description:{type:"string",group:"Data",defaultValue:""}}}});s.insertFontFaceStyle();function a(e,t,s){var i;if(t){i=t.toUpperCase().indexOf(s.toUpperCase());if(i>-1){e.text(t.slice(0,i));e.openStart("b").openEnd();e.text(t.slice(i,i+s.length));e.close("b");t=t.substring(i+s.length)}e.text(t)}}i.prototype.render=function(e,t,s,i){var n=t.getText(),o=t.getIcon(),r="",p=t.getDescription(),c=t.getParent(),l=c&&c.getSuggestionItems&&c.getSuggestionItems()||[],g=l.indexOf(t),s=s||"";e.openStart("li",t).class("sapMSuLI").class("sapMSelectListItem").class("sapMSelectListItemBase").class("sapMSelectListItemBaseHoverable");e.accessibilityState({role:"option",posinset:g+1,setsize:l.length,selected:i});if(i){e.class("sapMSelectListItemBaseSelected");if(c){c.$("I").attr("aria-activedescendant",t.getId())}}e.openEnd();if(o){e.icon(o,"sapMSuggestionItemIcon")}if(n){a(e,n,s);r=" "}if(p){e.text(r);e.openStart("i").openEnd();a(e,p,s);e.close("i")}e.close("li")};i.prototype.getSuggestionText=function(){return this.getText()};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SuggestionsList",["./library","./SuggestionsListRenderer","sap/ui/core/Control"],function(e,t,i){"use strict";var r=i.extend("sap.m.SuggestionsList",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},associations:{parentInput:{type:"sap.ui.core.Control",multiple:false,singularName:"parentInput"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:t});r.prototype.init=function(){this._iSelectedItem=-1};r.prototype.onBeforeRendering=function(){this.$().off()};r.prototype.onAfterRendering=function(){this.$().on("mousedown",function(e){e.preventDefault()})};r.prototype.getItems=function(){try{return sap.ui.getCore().byId(this.getParentInput()).getSuggestionItems()}catch(e){return[]}};r.prototype.update=function(){var e;var t=this.getDomRef();if(t){e=sap.ui.getCore().createRenderManager();this.getRenderer().renderItems(e,this);e.flush(t);e.destroy()}return this};r.prototype.selectByIndex=function(e,t){var i=this.getItems();var r;var s;var o;var n=sap.ui.getCore().byId(this.getParentInput());var a="aria-activedescendant";if(isNaN(parseInt(e))){e=-1;t=false}if(!i.length||t&&e===0||!t&&e<0){r=-1}else{if(t){if(this._iSelectedItem<0){r=(e<0?i.length:-1)+e}else{r=this._iSelectedItem+e}}else{r=e}r=Math.min(Math.max(r,0),i.length-1)}this._iSelectedItem=r;if(i.length){this.$().children("li").removeClass("sapMSelectListItemBaseSelected").attr("aria-selected","false").eq(r).addClass("sapMSelectListItemBaseSelected").attr("aria-selected","true")}if(n){if(r>=0){s=n.getSuggestionItems()[r];if(s){o=s.getId();this._scrollToItem(s)}}if(o){n.$("I").attr(a,o)}else{n.$("I").removeAttr(a);n.$("SuggDescr").text("")}}return this._iSelectedItem};r.prototype._scrollToItem=function(e){var t=this.getParent().$().find(".sapMPopoverCont")[0],i,r,s,o;if(!e||!e.getDomRef()||!t){return}r=e.getDomRef().getBoundingClientRect();i=t.getBoundingClientRect();s=i.top-r.top;o=r.bottom-i.bottom;if(s>0){t.scrollTop=Math.max(t.scrollTop-s,0)}else if(o>0){t.scrollTop=t.scrollTop+o}};r.prototype.getSelectedItemIndex=function(){return this._iSelectedItem};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SuggestionsListRenderer",["sap/ui/core/Core"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){e.openStart("ul",t).class("sapMSuL").class("sapMSelectList").style("width",t.getWidth()).style("max-width",t.getMaxWidth());e.accessibilityState({role:"listbox",multiselectable:false});e.openEnd();this.renderItems(e,t);e.close("ul")};t.renderItems=function(t,s){var r;var i=s.getSelectedItemIndex();try{r=e.byId(s.getParentInput()).getValue()}catch(e){r=""}s.getItems().forEach(function(e,s){e.render(t,e,r,s===i)})};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ToolbarSeparator",["./library","sap/ui/core/Control","./ToolbarSeparatorRenderer"],function(r,e,o){"use strict";var t=e.extend("sap.m.ToolbarSeparator",{metadata:{library:"sap.m",interfaces:["sap.m.IOverflowToolbarContent"]},renderer:o});t.CLASSNAME_OVERFLOW_TOOLBAR="sapMTBSeparatorOverflowToolbar";t.prototype._onBeforeEnterOverflow=function(r){r.addStyleClass(t.CLASSNAME_OVERFLOW_TOOLBAR)};t.prototype._onAfterExitOverflow=function(r){r.removeStyleClass(t.CLASSNAME_OVERFLOW_TOOLBAR)};t.prototype.getOverflowToolbarConfig=function(){var r={canOverflow:true};r.onBeforeEnterOverflow=this._onBeforeEnterOverflow;r.onAfterExitOverflow=this._onAfterExitOverflow;return r};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ToolbarSeparatorRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,r){e.openStart("div",r);e.class("sapMTBSeparator");e.accessibilityState(r,{role:"separator"});e.openEnd();e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/VariantItem",["sap/m/library","sap/ui/core/Item"],function(e,t){"use strict";var a=t.extend("sap.m.VariantItem",{metadata:{library:"sap.m",properties:{sharing:{type:"string",group:"Misc",defaultValue:"private"},remove:{type:"boolean",group:"Misc",defaultValue:false},favorite:{type:"boolean",group:"Misc",defaultValue:true},originalFavorite:{type:"boolean",group:"Misc",defaultValue:true},executeOnSelect:{type:"boolean",group:"Misc",defaultValue:false},originalExecuteOnSelect:{type:"boolean",group:"Misc",defaultValue:false},rename:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},originalTitle:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},changeable:{type:"boolean",group:"Misc",defaultValue:false},author:{type:"string",group:"Misc",defaultValue:null},contexts:{type:"object",group:"Misc",defaultValue:{}},originalContexts:{type:"object",group:"Misc",defaultValue:{}}}}});a.prototype.setText=function(e){this.setProperty("text",e);this.setTitle(e);return this};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/VariantManagement",["sap/ui/model/json/JSONModel","sap/ui/model/base/ManagedObjectModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/base/ManagedObjectObserver","sap/ui/Device","sap/ui/core/InvisibleText","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/Item","sap/ui/layout/HorizontalLayout","sap/ui/layout/Grid","sap/m/SearchField","sap/m/RadioButton","sap/m/ColumnListItem","sap/m/Column","sap/m/Text","sap/m/Bar","sap/m/Table","sap/m/Page","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/m/ToggleButton","sap/m/CheckBox","sap/m/Dialog","sap/m/Input","sap/m/Label","sap/m/Title","sap/m/ResponsivePopover","sap/m/SelectList","sap/m/ObjectIdentifier","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/VBox","sap/m/HBox","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/library","sap/m/library"],function(e,t,i,a,n,o,s,r,l,h,g,p,u,d,c,f,_,m,y,v,M,V,T,A,b,S,C,I,E,N,D,x,R,O,w,P,K,L,F,B){"use strict";var G=B.OverflowToolbarPriority;var k=B.ButtonType;var $=B.FlexAlignItems;var U=B.PlacementType;var j=B.PopinDisplay;var H=B.ScreenSize;var z=B.ListKeyboardMode;var X=F.ValueState;var W=F.TextAlign;var Y=F.TitleLevel;var q=r.extend("sap.m.VariantManagement",{metadata:{interfaces:["sap.ui.core.IShrinkable","sap.m.IOverflowToolbarContent"],library:"sap.m",designtime:"sap/m/designtime/VariantManagement.designtime",properties:{supportDefault:{type:"boolean",group:"Misc",defaultValue:true},supportFavorites:{type:"boolean",group:"Misc",defaultValue:true},supportApplyAutomatically:{type:"boolean",group:"Misc",defaultValue:true},supportPublic:{type:"boolean",group:"Misc",defaultValue:true},supportContexts:{type:"boolean",group:"Misc",defaultValue:false},selectedKey:{type:"string",group:"Misc",defaultValue:""},defaultKey:{type:"string",group:"Misc",defaultValue:""},showSaveAs:{type:"boolean",group:"Misc",defaultValue:true},creationAllowed:{type:"boolean",group:"Misc",defaultValue:true},showFooter:{type:"boolean",group:"Misc",defaultValue:true},modified:{type:"boolean",group:"Misc",defaultValue:false},popoverTitle:{type:"string",group:"Misc",defaultValue:""},inErrorState:{type:"boolean",group:"Misc",defaultValue:false},executeOnSelectionForStandardDefault:{type:"boolean",group:"Misc",defaultValue:false},displayTextForExecuteOnSelectionForStandardVariant:{type:"string",group:"Misc",defaultValue:""},level:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:Y.Auto},titleStyle:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:Y.Auto},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},_selectStategyForSameItem:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.VariantItem",multiple:true,singularName:"item"}},events:{save:{parameters:{name:{type:"string"},overwrite:{type:"boolean"},key:{type:"string"},execute:{type:"boolean"},def:{type:"boolean"},public:{type:"boolean"},tile:{type:"boolean"}}},cancel:{},manageCancel:{},manage:{parameters:{renamed:{type:"object[]"},deleted:{type:"string[]"},exe:{type:"object[]"},fav:{type:"object[]"},def:{type:"string"}}},select:{parameters:{key:{type:"string"}}}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).style("max-width",t.getMaxWidth()).class("sapMVarMngmt").openEnd();e.renderControl(t.oVariantLayout);e.close("div")}}});q.INNER_MODEL_NAME="$sapMInnerVariants";q.MAX_NAME_LEN=100;q.COLUMN_FAV_IDX=0;q.COLUMN_NAME_IDX=1;q.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oManagedObjectModel=new t(this);this.setModel(this._oManagedObjectModel,"$mVariants");this._oObserver=new n(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["items"]})};q.prototype._observeChanges=function(e){var t;if(e.type==="aggregation"){if(e.name==="items"){t=e.child;switch(e.mutation){case"insert":if(!this._oObserver.isObserved(t,{properties:["title"]})){this._oObserver.observe(t,{properties:["title"]})}if(this.getSelectedKey()===t.getKey()){this.refreshTitle()}break;case"remove":if(this._oObserver.isObserved(t,{properties:["title"]})){this._oObserver.unobserve(t,{properties:["title"]})}break;default:L.error("operation "+e.mutation+" not yet implemented")}}}else if(e.type==="property"){if(e.object.isA&&e.object.isA("sap.m.VariantItem")){t=e.object;if(t){if(this.getSelectedKey()===t.getKey()){this.refreshTitle()}}}}};q.prototype.applySettings=function(e,t){r.prototype.applySettings.apply(this,arguments);this._createInnerModel();this._initializeControl()};q.prototype.setShowFooter=function(e){this.setProperty("showFooter",e);return this};q.prototype.setDefaultKey=function(e){this.setProperty("defaultKey",e);return this};q.prototype.setPopoverTitle=function(e){this.setProperty("popoverTitle",e);return this};q.prototype._initializeControl=function(){if(this.oVariantInvisibleText){return}this.oVariantInvisibleText=new s;this.oVariantText=new E(this.getId()+"-text",{text:{path:"/selectedKey",model:"$mVariants",formatter:function(e){var t="";if(e){t=this.getSelectedVariantText(e);this._setInvisibleText(t,this.getModified())}return t}.bind(this)},level:{path:"/level",model:"$mVariants"},titleStyle:{path:"/titleStyle",model:"$mVariants"}});this.oVariantText.addStyleClass("sapMVarMngmtClickable");this.oVariantText.addStyleClass("sapMVarMngmtTitle");var e=new _(this.getId()+"-modified",{text:"*",visible:{path:"/modified",model:"$mVariants",formatter:function(e){var t=this.getSelectedKey();if(t){this._setInvisibleText(this.getSelectedVariantText(t),e)}return e===null||e===undefined?false:e}.bind(this)}});e.setVisible(false);e.addStyleClass("sapMVarMngmtModified");e.addStyleClass("sapMVarMngmtClickable");this.oVariantPopoverTrigger=new A(this.getId()+"-trigger",{icon:"sap-icon://slim-arrow-down",type:k.Transparent,tooltip:this._oRb.getText("VARIANT_MANAGEMENT_TRIGGER_TT")});this.oVariantPopoverTrigger.addAriaLabelledBy(this.oVariantInvisibleText);this.oVariantPopoverTrigger.addStyleClass("sapMVarMngmtClickable");this.oVariantLayout=new g({content:[this.oVariantText,e,this.oVariantPopoverTrigger]});this.oVariantLayout.addStyleClass("sapMVarMngmtLayout");this.oVariantLayout.addStyleClass("sapMVarMngmtLayoutModifiedHidden");e.setVisible(false);this.oVariantModifiedText=e;this.oVariantInvisibleText.toStatic();this.addDependent(this.oVariantLayout)};q.prototype.getOverflowToolbarConfig=function(){return{canOverflow:false,invalidationEvents:["save","manage","select"]}};q.prototype.getTitle=function(){return this.oVariantText};q.prototype.refreshTitle=function(){if(this.oVariantText){this.oVariantText.getBinding("text").refresh(true)}};q.prototype._setInvisibleText=function(e,t){var i;if(e){if(t){i="VARIANT_MANAGEMENT_SEL_VARIANT_MOD";this.oVariantLayout.removeStyleClass("sapMVarMngmtLayoutModifiedHidden")}else{i="VARIANT_MANAGEMENT_SEL_VARIANT";this.oVariantLayout.addStyleClass("sapMVarMngmtLayoutModifiedHidden")}this.oVariantInvisibleText.setText(this._oRb.getText(i,[e]))}};q.prototype._createInnerModel=function(){var t=new e({showManualVariantKey:false,showCreateTile:false});this.setModel(t,q.INNER_MODEL_NAME)};q.prototype._getShowCreateTile=function(){return this._getInnerModelProperty("/showCreateTile")};q.prototype._setShowCreateTile=function(e){this._setInnerModelProperty("/showCreateTile",e)};q.prototype._getShowManualVariantKey=function(){return this._getInnerModelProperty("/showManualVariantKey")};q.prototype._setShowManualVariantKey=function(e){this._setInnerModelProperty("/showManualVariantKey",e)};q.prototype._setInnerModelProperty=function(e,t){var i=this.getModel(q.INNER_MODEL_NAME);if(i){i.setProperty(e,t)}};q.prototype._getInnerModelProperty=function(e){var t=this.getModel(q.INNER_MODEL_NAME);if(t){return t.getProperty(e)}return null};q.prototype._getItems=function(){return this.getItems()};q.prototype.getSelectedVariantText=function(e){var t=this._getItemByKey(e);if(t){return t.getTitle()}return""};q.prototype.getStandardVariantKey=function(){var e=this._getItems();if(e&&e[0]){return e[0].getKey()}return null};q.prototype._clearDeletedItems=function(){this._aDeletedItems=[]};q.prototype._addDeletedItem=function(e){var t=e.getKey();if(this._aDeletedItems.indexOf(t)<0){this._aDeletedItems.push(t)}};q.prototype._getDeletedItems=function(){return this._aDeletedItems};q.prototype._clearRenamedItems=function(){this._aRenamedItems=[]};q.prototype._addRenamedItem=function(e){var t=e.getKey();if(this._aRenamedItems.indexOf(t)<0){this._aRenamedItems.push(t)}};q.prototype._removeRenamedItem=function(e){var t=e.getKey();var i=this._aRenamedItems.indexOf(t);if(i>=0){this._aRenamedItems.splice(i,1)}};q.prototype._getRenamedItems=function(){return this._aRenamedItems};q.prototype._getItemByKey=function(e){var t=null;var i=this._getItems();if(i){i.some(function(i){if(i.getKey()===e){t=i}return t!==null})}return t};q.prototype._obtainControl=function(e){if(e&&e.target&&e.target.id){var t=e.target.id;var i=t.indexOf("-inner");if(i>0){t=t.substring(0,i)}return sap.ui.getCore().byId(t)}return null};q.prototype.handleOpenCloseVariantPopover=function(e){if(!this.bPopoverOpen){this._oCtrlRef=this._obtainControl(e);this._openVariantList()}else if(this.oVariantPopOver&&this.oVariantPopOver.isOpen()){this.oVariantPopOver.close()}else if(this.getInErrorState()&&this.oErrorVariantPopOver&&this.oErrorVariantPopOver.isOpen()){this.oErrorVariantPopOver.close()}};q.prototype.getFocusDomRef=function(){return this.oVariantPopoverTrigger.getFocusDomRef()};q.prototype.onclick=function(e){if(this.oVariantPopoverTrigger&&!this.bPopoverOpen){this.oVariantPopoverTrigger.focus()}this.handleOpenCloseVariantPopover(e)};q.prototype.onkeyup=function(e){if(e.which===K.F4||e.which===K.SPACE||e.altKey===true&&e.which===K.ARROW_UP||e.altKey===true&&e.which===K.ARROW_DOWN){this._oCtrlRef=this._obtainControl(e);this._openVariantList()}};q.prototype.onAfterRendering=function(){if(this.oVariantText){this.oVariantText.$().off("mouseover").on("mouseover",function(){this.oVariantPopoverTrigger.addStyleClass("sapMVarMngmtTriggerBtnHover")}.bind(this));this.oVariantText.$().off("mouseout").on("mouseout",function(){this.oVariantPopoverTrigger.removeStyleClass("sapMVarMngmtTriggerBtnHover")}.bind(this))}};q.prototype._openInErrorState=function(){var e;if(!this.oErrorVariantPopOver){e=new w({fitContainer:true,alignItems:$.Center,items:[new l({size:"4rem",color:"lightgray",src:"sap-icon://message-error"}),new E({titleStyle:Y.H2,text:this._oRb.getText("VARIANT_MANAGEMENT_ERROR_TEXT1")}),new _({textAlign:W.Center,text:this._oRb.getText("VARIANT_MANAGEMENT_ERROR_TEXT2")})]});e.addStyleClass("sapMVarMngmtErrorPopover");this.oErrorVariantPopOver=new N(this.getId()+"-errorpopover",{title:{path:"/popoverTitle",model:"$mVariants"},contentWidth:"400px",placement:U.VerticalPreferredBottom,content:[new v(this.getId()+"-errorselpage",{showSubHeader:false,showNavButton:false,showHeader:false,content:[e]})],afterOpen:function(){this.bPopoverOpen=true}.bind(this),afterClose:function(){if(this.bPopoverOpen){setTimeout(function(){this.bPopoverOpen=false}.bind(this),200)}}.bind(this),contentHeight:"300px"});this.oErrorVariantPopOver.attachBrowserEvent("keyup",function(e){if(e.which===32){this.oErrorVariantPopOver.close()}}.bind(this))}if(this.bPopoverOpen){return}this.oErrorVariantPopOver.openBy(this.oVariantLayout)};q.prototype._createVariantList=function(){if(this.oVariantPopOver){return}this.oVariantManageBtn=new T(this.getId()+"-manage",{text:this._oRb.getText("VARIANT_MANAGEMENT_MANAGE"),enabled:true,press:function(){this._openManagementDialog()}.bind(this),layoutData:new O({priority:G.Low})});this.oVariantSaveBtn=new T(this.getId()+"-mainsave",{text:this._oRb.getText("VARIANT_MANAGEMENT_SAVE"),press:function(){this._handleVariantSave()}.bind(this),visible:{parts:[{path:"$mVariants>/creationAllowed"},{path:"$mVariants>/modified"},{path:"$mVariants>/selectedKey"}],formatter:function(e,t,i){var a=false;var n=this._getItemByKey(i);if(n){a=n.getChangeable()}return e&&t&&a}.bind(this)},type:k.Emphasized,layoutData:new O({priority:G.Low})});this.oVariantSaveAsBtn=new T(this.getId()+"-saveas",{text:this._oRb.getText("VARIANT_MANAGEMENT_SAVEAS"),press:function(){this._openSaveAsDialog()}.bind(this),layoutData:new O({priority:G.Low}),visible:{parts:[{path:"$mVariants>/creationAllowed"},{path:"$mVariants>/showSaveAs"}],formatter:function(e,t){return e&&t}}});this.oVariantList=new D(this.getId()+"-list",{selectedKey:{path:"/selectedKey",model:"$mVariants"},itemPress:function(e){var t=null;if(e&&e.getParameters()){var i=e.getParameters().item;if(i){t=i.getKey()}}if(t){var a=this.getProperty("_selectStategyForSameItem");if(a||!a&&this.getSelectedKey()!==t){this.setSelectedKey(t);this.fireSelect({key:t})}this.oVariantPopOver.close()}}.bind(this)});this.oVariantList.setNoDataText(this._oRb.getText("VARIANT_MANAGEMENT_NODATA"));var e=new h({key:"{$mVariants>key}",text:"{$mVariants>title}"});this.oVariantList.bindAggregation("items",{path:"/items",model:"$mVariants",template:e});this._oSearchField=new u(this.getId()+"-search");this._oSearchField.attachLiveChange(function(e){this._triggerSearch(e,this.oVariantList)}.bind(this));this.oVariantSelectionPage=new v(this.getId()+"-selpage",{subHeader:new M({content:[this._oSearchField]}),content:[this.oVariantList],footer:new R({content:[new V(this.getId()+"-spacer"),this.oVariantSaveBtn,this.oVariantSaveAsBtn,this.oVariantManageBtn]}),showNavButton:false,showHeader:false});this.oVariantSelectionPage.bindProperty("showFooter",{path:"/showFooter",model:"$mVariants"});this.oVariantPopOver=new N(this.getId()+"-popover",{title:{path:"/popoverTitle",model:"$mVariants"},titleAlignment:"Auto",contentWidth:"400px",placement:U.VerticalPreferredBottom,content:[this.oVariantSelectionPage],afterOpen:function(){this.bPopoverOpen=true;this.oVariantPopoverTrigger.setPressed(true)}.bind(this),afterClose:function(){this.oVariantPopoverTrigger.setPressed(false);if(this.bPopoverOpen){setTimeout(function(){this.bPopoverOpen=false}.bind(this),200)}}.bind(this),contentHeight:"300px"});this.oVariantPopOver.addStyleClass("sapMVarMngmtPopover");if(this.oVariantLayout.$().closest(".sapUiSizeCompact").length>0){this.oVariantPopOver.addStyleClass("sapUiSizeCompact")}this.addDependent(this.oVariantPopOver)};q.prototype._determineEmphasizedFooterButton=function(){if(this.oVariantSaveBtn.getVisible()){this.oVariantSaveBtn.setType(k.Emphasized);this.oVariantSaveAsBtn.setType(k.Default)}else{this.oVariantSaveAsBtn.setType(k.Emphasized)}};q.prototype.setModified=function(e){this.setProperty("modified",e);return this};q.prototype._openVariantList=function(){if(this.getInErrorState()){this._openInErrorState();return}if(this.bPopoverOpen){return}this._createVariantList();this._oSearchField.setValue("");this.oVariantList.getBinding("items").filter(this._getFilters());this.oVariantSelectionPage.setShowSubHeader(this.oVariantList.getItems().length>9);this._determineEmphasizedFooterButton();var e=this.oVariantList.getSelectedItem();if(e){this.oVariantPopOver.setInitialFocus(e.getId())}var t=this._oCtrlRef?this._oCtrlRef:this.oVariantLayout;this._oCtrlRef=null;this.oVariantPopOver.openBy(t)};q.prototype._triggerSearch=function(e,t){if(!e){return}var n=e.getParameters();if(!n){return}var o=n.newValue?n.newValue:"";var s=new i({path:"title",operator:a.Contains,value1:o});t.getBinding("items").filter(this._getFilters(s))};q.prototype._createSaveAsDialog=function(){if(!this.oSaveAsDialog){this.oInputName=new C(this.getId()+"-name",{liveChange:function(){this._checkVariantNameConstraints(this.oInputName)}.bind(this)});var e=new I(this.getId()+"-namelabel",{text:this._oRb.getText("VARIANT_MANAGEMENT_NAME")});e.setLabelFor(this.oInputName);e.addStyleClass("sapMVarMngmtSaveDialogLabel");this.oDefault=new b(this.getId()+"-default",{text:this._oRb.getText("VARIANT_MANAGEMENT_SETASDEFAULT"),visible:{path:"/supportDefault",model:"$mVariants"},width:"100%"});this.oPublic=new b(this.getId()+"-public",{text:this._oRb.getText("VARIANT_MANAGEMENT_SETASPUBLIC"),visible:{path:"/supportPublic",model:"$mVariants"},width:"100%"});this.oExecuteOnSelect=new b(this.getId()+"-execute",{text:this._oRb.getText("VARIANT_MANAGEMENT_EXECUTEONSELECT"),visible:{path:"/supportApplyAutomatically",model:"$mVariants"},width:"100%"});this.oCreateTile=new b(this.getId()+"-tile",{text:this._oRb.getText("VARIANT_MANAGEMENT_CREATETILE"),enabled:true,visible:{path:"/showCreateTile",model:q.INNER_MODEL_NAME},width:"100%"});this.oInputManualKey=new C(this.getId()+"-key",{visible:{path:"/showManualVariantKey",model:q.INNER_MODEL_NAME},liveChange:function(){this._checkVariantNameConstraints(this.oInputManualKey)}.bind(this)});this.oLabelKey=new I(this.getId()+"-keylabel",{text:this._oRb.getText("VARIANT_MANAGEMENT_KEY"),required:true,visible:{path:"/showManualVariantKey",model:q.INNER_MODEL_NAME}});this.oLabelKey.setLabelFor(this.oInputManualKey);this.oSaveSave=new T(this.getId()+"-variantsave",{text:this._oRb.getText("VARIANT_MANAGEMENT_SAVE"),type:k.Emphasized,press:function(){if(!this._bSaveOngoing){this._checkVariantNameConstraints(this.oInputName);if(this.oInputName.getValueState()==="Error"){this.oInputName.focus();return}this._bSaveOngoing=true;this._bSaveCanceled=false;var e=this._handleVariantSaveAs(this.oInputName.getValue());if(!e){this._bSaveOngoing=false}}}.bind(this),enabled:true});var t=new p({defaultSpan:"L12 M12 S12"});t.addContent(this.oDefault);t.addContent(this.oPublic);t.addContent(this.oExecuteOnSelect);t.addContent(this.oCreateTile);this.oSaveAsDialog=new S(this.getId()+"-savedialog",{title:this._oRb.getText("VARIANT_MANAGEMENT_SAVEDIALOG"),afterClose:function(){this._bSaveOngoing=false;if(this._sStyleClass){this.setSupportPublic(this._bShowPublic);this.oSaveAsDialog.removeStyleClass(this._sStyleClass);if(this._oRolesComponentContainer){this.oSaveAsDialog.removeContent(this._oRolesComponentContainer)}this._sStyleClass=undefined;this._oRolesComponentContainer=null}}.bind(this),beginButton:this.oSaveSave,endButton:new T(this.getId()+"-variantcancel",{text:this._oRb.getText("VARIANT_MANAGEMENT_CANCEL"),press:this._cancelPressed.bind(this)}),content:[e,this.oInputName,this.oLabelKey,this.oInputManualKey,t],stretch:o.system.phone});this.oSaveAsDialog.isPopupAdaptationAllowed=function(){return false};this.oSaveAsDialog.addStyleClass("sapUiContentPadding");this.oSaveAsDialog.addStyleClass("sapMVarMngmtSaveDialog");if(this.oVariantLayout.$().closest(".sapUiSizeCompact").length>0){this.oSaveAsDialog.addStyleClass("sapUiSizeCompact")}this.addDependent(this.oSaveAsDialog)}};q.prototype._cancelPressed=function(){this._bSaveCanceled=true;this.fireCancel();this.oSaveAsDialog.close()};q.prototype._getSelectedContexts=function(){return this._oRolesComponentContainer.getComponentInstance().getSelectedContexts()};q.prototype._setSelectedContexts=function(e){if(!e||Object.keys(e).length===0){e={role:[]}}this._oRolesComponentContainer.getComponentInstance().setSelectedContexts(e)};q.prototype._isInErrorContexts=function(){return this._oRolesComponentContainer.getComponentInstance().hasErrorsAndShowErrorMessage()};q.prototype._determineRolesSpecificText=function(e,t){if(!e){e={role:[]}}if(e&&t){t.setText(this._oRb.getText(e.role&&e.role.length>0?"VARIANT_MANAGEMENT_VISIBILITY_RESTRICTED":"VARIANT_MANAGEMENT_VISIBILITY_NON_RESTRICTED"))}};q.prototype._checkAndAddRolesContainerToManageDialog=function(){if(this._oRolesComponentContainer&&this._oRolesDialog){var e=null;this._oRolesDialog.getContent().some(function(t){if(t===this._oRolesComponentContainer){e=t;return true}return false}.bind(this));if(!e){this._oRolesDialog.addContent(this._oRolesComponentContainer)}}};q.prototype._createRolesDialog=function(){if(!this._oRolesDialog){this._oRolesDialog=new S(this.getId()+"-roledialog",{draggable:true,resizable:true,contentWidth:"40%",title:this._oRb.getText("VARIANT_MANAGEMENT_SELECTROLES_DIALOG"),beginButton:new T(this.getId()+"-rolesave",{text:this._oRb.getText("VARIANT_MANAGEMENT_SAVE"),type:k.Emphasized,press:function(){if(!this._checkAndCreateContextInfoChanges(this._oCurrentContextsKey,this._oTextControl)){return}this._oRolesDialog.close()}.bind(this)}),endButton:new T(this.getId()+"-rolecancel",{text:this._oRb.getText("VARIANT_MANAGEMENT_CANCEL"),press:function(){this._oRolesDialog.close()}.bind(this)}),content:[this._oRolesComponentContainer],stretch:o.system.phone});this._oRolesDialog.setParent(this);this._oRolesDialog.addStyleClass("sapUiContentPadding");this._oRolesDialog.addStyleClass(this._sStyleClass);this._oRolesDialog.isPopupAdaptationAllowed=function(){return false}}this._checkAndAddRolesContainerToManageDialog()};q.prototype._openRolesDialog=function(e,t){this._createRolesDialog();this._oCurrentContextsKey=e.getKey();this._oTextControl=t;this._setSelectedContexts(e.getContexts());this._oRolesDialog.open()};q.prototype._checkAndCreateContextInfoChanges=function(e,t){if(e){if(this._oRolesComponentContainer){try{if(!this._isInErrorContexts()){var i=this._getSelectedContexts();var a=this._getItemByKey(e);if(a){a.setContexts(i);this._determineRolesSpecificText(i,t)}}else{return false}}catch(e){return false}}return true}return false};q.prototype._checkAndAddRolesContainerToSaveAsDialog=function(){if(this._oRolesComponentContainer&&this.oSaveAsDialog){var e=null;this.oSaveAsDialog.getContent().some(function(t){if(t===this._oRolesComponentContainer){e=t;return true}return false}.bind(this));this._setSelectedContexts({role:[]});if(!e){this.oSaveAsDialog.addContent(this._oRolesComponentContainer)}}};q.prototype.openSaveAsDialog=function(e,t){this._openSaveAsDialog(true);this.oSaveAsDialog.addStyleClass(e);this._sStyleClass=e;this._bShowPublic=this.getSupportPublic();this.setSupportPublic(false);if(t){Promise.all([t]).then(function(e){this._oRolesComponentContainer=e[0];this.setSupportContexts(!!this._oRolesComponentContainer);this._checkAndAddRolesContainerToSaveAsDialog();this.oSaveAsDialog.open()}.bind(this))}else{this.oSaveAsDialog.open()}};q.prototype._openSaveAsDialog=function(e){this._createSaveAsDialog();this.setSupportContexts(false);this.oInputName.setValue(this.getSelectedVariantText(this.getSelectedKey()));this.oInputName.setEnabled(true);this.oInputName.setValueState(X.None);this.oInputName.setValueStateText(null);this.oDefault.setSelected(false);this.oPublic.setSelected(false);this.oExecuteOnSelect.setSelected(false);this.oCreateTile.setSelected(false);if(this.oVariantPopOver){this.oVariantPopOver.close()}if(!e){this.oSaveAsDialog.open()}};q.prototype._handleVariantSaveAs=function(e){var t=null;var i=e.trim();var a=this.oInputManualKey.getValue().trim();if(i===""){this.oInputName.setValueState(X.Error);this.oInputName.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_ERROR_EMPTY"));return false}if(this._getShowManualVariantKey()){if(a===""){this.oInputManualKey.setValueState(X.Error);this.oInputManualKey.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_ERROR_EMPTY"));return false}t=a}if(this.oSaveAsDialog){this.oSaveAsDialog.close()}if(this.oDefault.getSelected()){this.setDefaultKey(this.oDefault.getSelected())}var n={key:t,name:i,overwrite:false,def:this.oDefault.getSelected(),execute:this.oExecuteOnSelect.getSelected(),public:this.getSupportPublic()?this.oPublic.getSelected():undefined,contexts:this._getContextInfoChanges()};if(this._getShowCreateTile()&&this.oCreateTile){n.tile=this.oCreateTile.getSelected()}this.fireSave(n);return true};q.prototype._getContextInfoChanges=function(){if(this._oRolesComponentContainer){try{if(!this._isInErrorContexts()){return this._getSelectedContexts()}}catch(e){return undefined}}return undefined};q.prototype._handleVariantSave=function(){var e=this._getItemByKey(this.getSelectedKey());var t=false;if(this.getDefaultKey()===e.getKey()){t=true}if(this.oVariantPopOver){this.oVariantPopOver.close()}this.fireSave({name:e.getTitle(),overwrite:true,key:e.getKey(),def:t})};q.prototype.destroyManageDialog=function(){if(this.oManagementDialog){this.oManagementDialog.destroy();this.oManagementDialog=undefined}};q.prototype.openManagementDialog=function(e,t,i){if(e&&this.oManagementDialog){this.oManagementDialog.destroy();this.oManagementDialog=undefined}if(t){this._sStyleClass=t;this._bShowPublic=this.getSupportPublic();this.setSupportPublic(false);this.setSupportContexts(false)}if(i){Promise.all([i]).then(function(e){this._oRolesComponentContainer=e[0];this.setSupportContexts(!!this._oRolesComponentContainer);this._openManagementDialog();if(this._sStyleClass){this.oManagementDialog.addStyleClass(this._sStyleClass)}}.bind(this))}else{this._openManagementDialog();if(this._sStyleClass){this.oManagementDialog.addStyleClass(this._sStyleClass)}}};q.prototype._triggerSearchInManageDialog=function(e,t){if(!e){return}var i=e.getParameters();if(!i){return}var a;if(i.query){a=i.query}else{a=i.newValue?i.newValue:""}this._triggerSearchInManageDialogByValue(a,t)};q.prototype._triggerSearchInManageDialogByValue=function(e,t){var n=[this._getVisibleFilter(),new i({filters:[new i({path:"title",operator:a.Contains,value1:e}),new i({path:"author",operator:a.Contains,value1:e})],and:false})];t.getBinding("items").filter(n);this._bDeleteOccured=true};q.prototype.getManageDialog=function(){return this.oManagementDialog};q.prototype._createManagementDialog=function(){if(!this.oManagementDialog||this.oManagementDialog.bIsDestroyed){this.oManagementTable=new y(this.getId()+"-managementTable",{contextualWidth:"Auto",fixedLayout:false,growing:true,keyboardMode:z.Edit,columns:[new f({width:"3rem",visible:{path:"/supportFavorites",model:"$mVariants"}}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_NAME")}),width:"16rem"}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_VARIANTTYPE"),wrappingType:"Hyphenated"}),visible:{path:"/supportPublic",model:"$mVariants"},demandPopin:true,popinDisplay:j.Inline,minScreenWidth:H.Tablet}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_DEFAULT"),wrappingType:"Hyphenated"}),hAlign:W.Center,demandPopin:true,popinDisplay:j.Block,minScreenWidth:H.Tablet,visible:{path:"/supportDefault",model:"$mVariants"}}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_EXECUTEONSELECT"),wrappingType:"Hyphenated"}),hAlign:this.getDisplayTextForExecuteOnSelectionForStandardVariant()?W.Begin:W.Center,demandPopin:true,popinDisplay:j.Block,minScreenWidth:H.Tablet,visible:{path:"/supportApplyAutomatically",model:"$mVariants"}}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_VISIBILITY"),wrappingType:"Hyphenated"}),width:"8rem",demandPopin:true,popinDisplay:j.Inline,minScreenWidth:H.Tablet,visible:{path:"/supportContexts",model:"$mVariants"}}),new f({header:new _({text:this._oRb.getText("VARIANT_MANAGEMENT_AUTHOR")}),demandPopin:true,popinDisplay:j.Block,minScreenWidth:H.Tablet}),new f({hAlign:W.Center}),new f({visible:false})]});this.oManagementSave=new T(this.getId()+"-managementsave",{text:this._oRb.getText("VARIANT_MANAGEMENT_SAVE"),enabled:true,type:k.Emphasized,press:function(){this._handleManageSavePressed()}.bind(this)});this.oManagementCancel=new T(this.getId()+"-managementcancel",{text:this._oRb.getText("VARIANT_MANAGEMENT_CANCEL"),press:function(){this._resumeManagementTableBinding();this._handleManageCancelPressed();if(this.oManagementDialog){this.oManagementDialog.close()}}.bind(this)});this.oManagementDialog=new S(this.getId()+"-managementdialog",{contentWidth:"64%",resizable:true,draggable:true,title:this._oRb.getText("VARIANT_MANAGEMENT_MANAGEDIALOG"),beginButton:this.oManagementSave,endButton:this.oManagementCancel,afterClose:function(){if(this._sStyleClass){this.setSupportPublic(this._bShowPublic,true);this.oManagementDialog.removeStyleClass(this._sStyleClass);this._sStyleClass=undefined;this._oRolesComponentContainer=null}}.bind(this),content:[this.oManagementTable],stretch:o.system.phone});this.oManagementDialog.isPopupAdaptationAllowed=function(){return false};this._oSearchFieldOnMgmtDialog=new u;this._oSearchFieldOnMgmtDialog.attachLiveChange(function(e){this._triggerSearchInManageDialog(e,this.oManagementTable)}.bind(this));this._oSearchFieldOnMgmtDialog.attachSearch(function(e){this._triggerSearchInManageDialog(e,this.oManagementTable)}.bind(this));var e=new m(this.getId()+"-mgmHeaderSearch",{contentMiddle:[this._oSearchFieldOnMgmtDialog]});this.oManagementDialog.setSubHeader(e);this.oManagementDialog.setInitialFocus(this._oSearchFieldOnMgmtDialog);if(this.oVariantLayout.$().closest(".sapUiSizeCompact").length>0){this.oManagementDialog.addStyleClass("sapUiSizeCompact")}this.addDependent(this.oManagementDialog);this.oManagementTable.bindAggregation("items",{path:"/items",model:"$mVariants",factory:this._templateFactoryManagementDialog.bind(this),filters:this._getVisibleFilter()});this._bDeleteOccured=false}};q.prototype._setFavoriteIcon=function(e,t){if(e){e.setSrc(t?"sap-icon://favorite":"sap-icon://unfavorite");e.setTooltip(this._oRb.getText(t?"VARIANT_MANAGEMENT_FAV_DEL_TOOLTIP":"VARIANT_MANAGEMENT_FAV_ADD_TOOLTIP"));e.setAlt(this._oRb.getText(t?"VARIANT_MANAGEMENT_FAV_DEL_ACC":"VARIANT_MANAGEMENT_FAV_ADD_ACC"))}};q.prototype._templateFactoryManagementDialog=function(e,t){var i=null;var a;var n;var o;var s;var r=t.getObject();if(!r){L.error("couldn't obtain the item for '"+t.getPath()+"'");return undefined}var h=this._determineIndex(t.getPath());if(h<0){L.error("couldn't obtain item position for '"+t.getPath()+"'");return undefined}var g=this.getId()+"-manage";var p="$mVariants";var u=function(e){var t=e.oSource.getBindingContext(p).getObject();this._handleManageTitleChange(e.oSource,t)}.bind(this);var f=function(e){var t=e.oSource.getBindingContext(p).getObject();this._handleManageTitleChange(e.oSource,t)}.bind(this);var m=function(e){this._handleManageDefaultVariantChange(e.oSource,e.oSource.getBindingContext(p).getObject(),e.getParameters().selected)}.bind(this);var y=function(e){this._handleManageDeletePressed(e.oSource.getBindingContext(p).getObject());var t=e.oSource.getParent();if(t){t.setVisible(false)}this._reCheckVariantNameConstraints()}.bind(this);var v=function(e){this._handleManageFavoriteChanged(e.oSource,e.oSource.getBindingContext(p).getObject())}.bind(this);var M=function(e){var t=e.oSource.getBindingContext(p).getObject();this._openRolesDialog(t,e.oSource.getParent().getItems()[0])}.bind(this);if(r.getRename()){n=new C(g+"-input-"+h,{liveChange:u,change:f,value:"{"+p+">title}"});if(r.getTitle()!==r.getOriginalTitle()){this._verifyVariantNameConstraints(n,r.getKey(),r.getTitle())}}else{n=new x(g+"-text-"+h,{title:"{"+p+">title}"});if(i){n.setTooltip(i)}}a=new T(g+"-del-"+h,{icon:"sap-icon://decline",enabled:true,type:k.Transparent,press:y,tooltip:this._oRb.getText("VARIANT_MANAGEMENT_DELETE"),visible:r.getRemove()});var V=new l(g+"-fav-"+h,{src:{path:"favorite",model:p,formatter:function(e){return e?"sap-icon://favorite":"sap-icon://unfavorite"}},tooltip:{path:"favorite",model:p,formatter:function(e){return this._oRb.getText(e?"VARIANT_MANAGEMENT_FAV_DEL_TOOLTIP":"VARIANT_MANAGEMENT_FAV_ADD_TOOLTIP")}.bind(this)},press:v,decorative:false});if(this.getStandardVariantKey()===r.getKey()||this.getDefaultKey()===r.getKey()){V.addStyleClass("sapMVarMngmtFavNonInteractiveColor")}else{V.addStyleClass("sapMVarMngmtFavColor")}if(this.getDisplayTextForExecuteOnSelectionForStandardVariant()&&this.getStandardVariantKey()===r.getKey()){o=new b(g+"-exe-"+h,{wrapping:true,text:"{"+p+">/displayTextForExecuteOnSelectionForStandardVariant}",selected:"{"+p+">executeOnSelect}"})}else{o=new b(g+"-exe-"+h,{text:"",selected:"{"+p+">executeOnSelect}"})}if(this._sStyleClass&&r.getKey()!==this.getStandardVariantKey()){var A=new _({wrapping:false});this._determineRolesSpecificText(r.getContexts(),A);var S=new l({src:"sap-icon://edit",press:M});S.addStyleClass("sapMVarMngmtRolesEdit");S.setTooltip(this._oRb.getText("VARIANT_MANAGEMENT_VISIBILITY_ICON_TT"));s=new P(g+"-role-"+h,{items:[A,S]})}else{s=new _}return new c({cells:[V,n,new _(g+"-type-"+h,{text:{path:"sharing",model:p,formatter:function(e){return this._oRb.getText(e==="private"?"VARIANT_MANAGEMENT_PRIVATE":"VARIANT_MANAGEMENT_PUBLIC")}.bind(this)},textAlign:"Center"}),new d(g+"-def-"+h,{groupName:this.getId(),select:m,selected:{path:"/defaultKey",model:p,formatter:function(e){return r.getKey()===e}}}),o,s,new _(g+"-author-"+h,{text:"{"+p+">author}",textAlign:"Begin"}),a,new _({text:"{"+p+">key}"})]})};q.prototype._openManagementDialog=function(){this._createManagementDialog();if(this.oVariantPopOver){this.oVariantPopOver.close()}this._suspendManagementTableBinding();this._clearDeletedItems();this._clearRenamedItems();this._sDefaultKey=this.getDefaultKey();this._sOriginalDefaultKey=this._sDefaultKey;this._oSearchFieldOnMgmtDialog.setValue("");if(this._bDeleteOccured){this._bDeleteOccured=false;this.oManagementTable.getBinding("items").filter(this._getVisibleFilter())}this.oManagementDialog.open()};q.prototype._toggleIconActivityState=function(e,t,i){if(!e){return}if(t.getKey()===this.getStandardVariantKey()){return}if(i&&e.hasStyleClass("sapMVarMngmtFavColor")){e.removeStyleClass("sapMVarMngmtFavColor");e.addStyleClass("sapMVarMngmtFavNonInteractiveColor")}else if(e.hasStyleClass("sapMVarMngmtFavNonInteractiveColor")){e.removeStyleClass("sapMVarMngmtFavNonInteractiveColor");e.addStyleClass("sapMVarMngmtFavColor")}};q.prototype._handleManageTitleChange=function(e,t){this._checkVariantNameConstraints(e,t.getKey());this._addRenamedItem(t)};q.prototype._handleManageDefaultVariantChange=function(e,t,i){var a=t.getKey();if(e){var n=e.getParent().getCells()[q.COLUMN_FAV_IDX];if(i){if(this.getSupportFavorites()&&!t.getFavorite()){t.setFavorite(true);var o=this._getRowForKey(t.getKey());if(o){var s=o.getCells();if(s){n=s[q.COLUMN_FAV_IDX];this._setFavoriteIcon(n,true);s[q.COLUMN_FAV_IDX+3].focus()}}}this.setDefaultKey(a)}this._toggleIconActivityState(n,t,i)}};q.prototype._handleManageCancelPressed=function(){if(this._getDeletedItems().length>0){this._bDeleteOccured=true;this._getDeletedItems().forEach(function(e){var t=this._getItemByKey(e);if(t){t.setVisible(true)}}.bind(this))}this.getItems().forEach(function(e){if(e.getVisible()){e.setTitle(e.getOriginalTitle());e.setFavorite(e.getOriginalFavorite());e.setExecuteOnSelect(e.getOriginalExecuteOnSelect());e.setContexts(e.getOriginalContexts())}});if(this._sOriginalDefaultKey!==this.getDefaultKey()){this.setDefaultKey(this._sOriginalDefaultKey)}this._clearRenamedItems();this._clearDeletedItems();if(this._oManagedObjectModel){this._oManagedObjectModel.checkUpdate()}this.fireManageCancel()};q.prototype._handleManageFavoriteChanged=function(e,t){if(this.getStandardVariantKey()===t.getKey()){return}if(this.getDefaultKey()===t.getKey()&&t.getFavorite()){return}t.setFavorite(!t.getFavorite());var i=this._getRowForKey(t.getKey());if(i){i.getCells()[q.COLUMN_FAV_IDX].focus()}};q.prototype._getRowForKey=function(e){var t=null;if(this.oManagementTable){this.oManagementTable.getItems().some(function(i){var a=i.getCells()[0].getParent();var n=this.getModel("$mVariants").getObject(a.getBindingContextPath());if(e===n.getKey()){t=i}return t!==null}.bind(this))}return t};q.prototype._determineIndex=function(e){var t=-1;var i=e.indexOf("/",1);if(i>0){t=parseInt(e.substring(i+1))}return t};q.prototype._handleManageDeletePressed=function(e){var t=e.getKey();if(this.getStandardVariantKey()===t){return}e.setVisible(false);this._addDeletedItem(e);if(t===this.getDefaultKey()){this.setDefaultKey(this.getStandardVariantKey());if(this.getSupportFavorites()){var i=this._getItemByKey(this.getStandardVariantKey());if(i&&!i.getFavorite()){var a=this._getRowForKey(this.getStandardVariantKey());if(a){i.setFavorite(true);this._setFavoriteIcon(a.getCells()[q.COLUMN_FAV_IDX],true)}}}}this.oManagementTable.getBinding("items").filter(this._getVisibleFilter());this.oManagementCancel.focus()};q.prototype._collectManageData=function(){var e={};var t=this.getDefaultKey();if(t!==this._sOriginalDefaultKey){e.def=t}this.getItems().forEach(function(t){if(!t.getVisible()){if(!e.deleted){e.deleted=[]}e.deleted.push(t.getKey())}if(t.getVisible()&&t.getFavorite()!==t.getOriginalFavorite()){if(!e.fav){e.fav=[]}e.fav.push({key:t.getKey(),visible:t.getFavorite()})}if(t.getVisible()&&t.getTitle()!==t.getOriginalTitle()){if(!e.renamed){e.renamed=[]}e.renamed.push({key:t.getKey(),name:t.getTitle()})}if(t.getVisible()&&t.getExecuteOnSelect()!==t.getOriginalExecuteOnSelect()){if(!e.exe){e.exe=[]}e.exe.push({key:t.getKey(),exe:t.getExecuteOnSelect()})}if(t.getVisible()&&this._hasContextsChanged(t)){if(!e.contexts){e.contexts=[]}e.contexts.push({key:t.getKey(),contexts:t.getContexts()})}}.bind(this));return e};q.prototype._hasContextsChanged=function(e){return JSON.stringify(e.getContexts())!==JSON.stringify(e.getOriginalContexts())};q.prototype._handleManageSavePressed=function(){if(this._anyInErrorState(this.oManagementTable)){return}this.oManagementDialog.close();this._getDeletedItems().some(function(e){if(e===this.getSelectedKey()){var t=this.getStandardVariantKey();this.setModified(false);this.setSelectedKey(t);this.fireSelect({key:t});return true}return false}.bind(this));if(this._getRenamedItems().indexOf(this.getSelectedKey())>=0){var e=this.oVariantText.getBinding("text");if(e){e.checkUpdate(true)}}this.fireManage(this._collectManageData());if(this.oManagementDialog){this._resumeManagementTableBinding()}};q.prototype._resumeManagementTableBinding=function(){if(this.oManagementTable){var e=this.oManagementTable.getBinding("items");if(e){e.resume()}}};q.prototype._suspendManagementTableBinding=function(){if(this.oManagementTable){var e=this.oManagementTable.getBinding("items");if(e){e.suspend()}}};q.prototype._focusOnFirstInputInErrorState=function(e){if(e){e.getItems().some(function(e){var t=e.getCells()[q.COLUMN_NAME_IDX];if(t&&t.getValueState&&t.getValueState()===X.Error){t.getDomRef().scrollIntoView();t.focus();return true}return false})}};q.prototype._anyInErrorStateManageTable=function(e){var t;var i=false;if(e){e.getItems().some(function(e){t=e.getCells()[q.COLUMN_NAME_IDX];if(t&&t.getValueState&&t.getValueState()===X.Error){i=true}return i})}return i};q.prototype._anyInErrorState=function(e){if(this._anyInErrorStateManageTable(e)){return true}var t=this._getRenamedItems();for(var i=t.length-1;i>=0;i--){var a=this._getItemByKey(t[i]);if(a){if(a.getTitle()===a.getOriginalTitle()){this._removeRenamedItem(a)}}}var n=false;this._getRenamedItems().some(function(e,t){var i=this._getItemByKey(e);if(i){n=this._checkIsDuplicateInModel(i.getTitle(),e)}return n}.bind(this));if(n){this._oSearchFieldOnMgmtDialog.setValue("");this._triggerSearchInManageDialogByValue("",e);this._focusOnFirstInputInErrorState(e)}return n};q.prototype._getFilters=function(e){var t=[];if(e){t.push(e)}t.push(this._getVisibleFilter());if(this.getSupportFavorites()){t.push(this._getFilterFavorites())}return t};q.prototype._getVisibleFilter=function(){return new i({path:"visible",operator:a.EQ,value1:true})};q.prototype._getFilterFavorites=function(){return new i({path:"favorite",operator:a.EQ,value1:true})};q.prototype._verifyVariantNameConstraints=function(e,t,i){if(!e){return}var a=i||e.getValue();a=a.trim();if(!this._checkIsDuplicate(a,t)){if(a===""){e.setValueState(X.Error);e.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_ERROR_EMPTY"))}else if(a.indexOf("{")>-1){e.setValueState(X.Error);e.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_NOT_ALLOWED_CHAR",["{"]))}else if(a.length>q.MAX_NAME_LEN){e.setValueState(X.Error);e.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_MAX_LEN",[q.MAX_NAME_LEN]))}else{e.setValueState(X.None);e.setValueStateText(null)}}else{e.setValueState(X.Error);if(this._oSearchFieldOnMgmtDialog&&this._oSearchFieldOnMgmtDialog.getValue()){e.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_ERROR_DUPLICATE_SAVE"))}else{e.setValueStateText(this._oRb.getText("VARIANT_MANAGEMENT_ERROR_DUPLICATE"))}}};q.prototype._checkVariantNameConstraints=function(e,t){this._verifyVariantNameConstraints(e,t);if(this.oManagementDialog&&this.oManagementDialog.isOpen()){this._reCheckVariantNameConstraints()}};q.prototype._reCheckVariantNameConstraints=function(){var e;var t=false;if(this.oManagementTable){e=this.oManagementTable.getItems();e.some(function(e){var i=e.getBindingContext("$mVariants").getObject();if(i&&i.getVisible()){var a=e.getCells()[q.COLUMN_NAME_IDX];if(a&&a.getValueState&&a.getValueState()===X.Error){this._verifyVariantNameConstraints(a,i.getKey());if(a.getValueState()===X.Error){t=true}}}return t}.bind(this))}return t};q.prototype._checkIsDuplicate=function(e,t){if(this.oManagementDialog&&this.oManagementDialog.isOpen()){var i=this._checkIsDuplicateInManageTable(e,t);if(this._oSearchFieldOnMgmtDialog&&this._oSearchFieldOnMgmtDialog.getValue()&&i){return i}}return this._checkIsDuplicateInModel(e,t)};q.prototype._checkIsDuplicateInModel=function(e,t){var i=false;var a=this._getItems();var n=e.toLowerCase();a.some(function(e){if(e.getTitle().toLowerCase()===n){if(t&&t===e.getKey()){return false}i=true}return i});return i};q.prototype._checkIsDuplicateInManageTable=function(e,t){var i;var a=false;var n=e.toLowerCase();if(this.oManagementTable){i=this.oManagementTable.getItems();i.some(function(e){var i;var o=e.getBindingContext("$mVariants").getObject();if(o&&o.getVisible()){var s=e.getCells()[q.COLUMN_NAME_IDX];if(s&&o.getKey()!==t){if(s.isA("sap.m.Input")){i=s.getValue().toLowerCase()}else{i=s.getTitle().toLowerCase()}if(i===n){a=true}}}return a})}return a};q.prototype.exit=function(){var e;this._oObserver.disconnect();this._oObserver=undefined;r.prototype.exit.apply(this,arguments);this._clearDeletedItems();this._clearRenamedItems();if(this.oVariantInvisibleText&&!this.oVariantInvisibleText._bIsBeingDestroyed){this.oVariantInvisibleText.destroy(true);this.oVariantInvisibleText=undefined}if(this.oDefault&&!this.oDefault._bIsBeingDestroyed){this.oDefault.destroy()}this.oDefault=undefined;if(this.oPublic&&!this.oPublic._bIsBeingDestroyed){this.oPublic.destroy()}this.oPublic=undefined;if(this.oExecuteOnSelect&&!this.oExecuteOnSelect._bIsBeingDestroyed){this.oExecuteOnSelect.destroy()}this.oExecuteOnSelect=undefined;if(this.oCreateTile&&!this.oCreateTile._bIsBeingDestroyed){this.oCreateTile.destroy()}this.oCreateTile=undefined;this._oRb=undefined;this.oVariantList=undefined;this.oVariantSelectionPage=undefined;this.oVariantLayout=undefined;this.oVariantText=undefined;this.oVariantModifiedText=undefined;this.oVariantPopoverTrigger=undefined;this._oSearchField=undefined;this._oSearchFieldOnMgmtDialog=undefined;this._sDefaultKey=undefined;e=this.getModel(q.INNER_MODEL_NAME);if(e){e.destroy()}if(this._oManagedObjectModel){this._oManagedObjectModel.destroy();this._oManagedObjectModel=undefined}this._oRolesComponentContainer=null;if(this._oRolesDialog&&!this._oRolesDialog._bIsBeingDestroyed){this._oRolesDialog.destroy();this._oRolesDialog=null}};return q});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/BusyIndicator",["sap/ui/thirdparty/jquery","../base/EventProvider","./Popup","./BusyIndicatorUtils","sap/ui/core/library","sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/base/Log","sap/base/assert","sap/base/util/now"],function(e,t,i,s,o,a,n,u,r,d){"use strict";var p=o.BusyIndicatorSize;var c=Object.assign(new t,{oPopup:null,oDomRef:null,bOpenRequested:false,iDEFAULT_DELAY_MS:1e3,sDOM_ID:"sapUiBusyIndicator"});c.M_EVENTS={Open:"Open",Close:"Close"};c._bShowIsDelayed=undefined;c._init=function(){var e=document.createElement("div");e.id=this.sDOM_ID;var t=document.createElement("div");this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core");var o=this._oResBundle.getText("BUSY_TEXT");delete this._oResBundle;t.className="sapUiBusy";t.setAttribute("tabindex","0");t.setAttribute("role","progressbar");t.setAttribute("alt","");t.setAttribute("title",o);e.appendChild(t);var a=s.getElement(p.Large);a.setAttribute("title",o);e.appendChild(a);this.oDomRef=e;this.oPopup=new i(e);this.oPopup.setModal(true,"sapUiBlyBusy");this.oPopup.setShadow(false);this.oPopup.attachOpened(function(e){this._onOpen(e)},this)};c._onOpen=function(e){var t=document.getElementById(c.sDOM_ID);t.style.height="100%";t.style.width="100%";var i=t.querySelector(".sapUiLocalBusyIndicator");i.className+=" sapUiLocalBusyIndicatorFade";if(t){t.focus()}this.fireOpen({$Busy:this.oPopup._$()})};c.show=function(e){u.debug("sap.ui.core.BusyIndicator.show (delay: "+e+") at "+(new Date).getTime());r(e===undefined||typeof e=="number"&&e%1==0,"iDelay must be empty or an integer");if(!document.body||!sap.ui.getCore().isInitialized()){if(c._bShowIsDelayed===undefined){sap.ui.getCore().attachInit(function(){if(c._bShowIsDelayed){c.show(e)}})}c._bShowIsDelayed=true;return}if(e===undefined||e!=0&&parseInt(e)==0||parseInt(e)<0){e=this.iDEFAULT_DELAY_MS}if(a.getActive()){this._fDelayedStartTime=d()+e}if(!this.oDomRef){this._init()}this.bOpenRequested=true;if(e===0){this._showNowIfRequested()}else{setTimeout(this["_showNowIfRequested"].bind(this),e)}};c._showNowIfRequested=function(){u.debug("sap.ui.core.BusyIndicator._showNowIfRequested (bOpenRequested: "+this.bOpenRequested+") at "+(new Date).getTime());if(!this.bOpenRequested){return}var e=window.scrollX===undefined?window.pageXOffset:window.scrollX;var t=window.scrollY===undefined?window.pageYOffset:window.scrollY;var s=e+" "+t;this.bOpenRequested=false;this.oPopup.open(0,i.Dock.LeftTop,i.Dock.LeftTop,document,s)};c.hide=function(){u.debug("sap.ui.core.BusyIndicator.hide at "+(new Date).getTime());if(this._fDelayedStartTime){var t=d()-this._fDelayedStartTime;n.addBusyDuration(t>0?t:0);delete this._fDelayedStartTime}var i=c;if(c._bShowIsDelayed===true){c._bShowIsDelayed=false}i.bOpenRequested=false;if(i.oDomRef){var s=i.oDomRef.querySelector(".sapUiLocalBusyIndicator");e(s).removeClass("sapUiLocalBusyIndicatorFade");this.fireClose({$Busy:this.oPopup._$()});i.oPopup.close(0)}};c.attachOpen=function(e,t){this.attachEvent(c.M_EVENTS.Open,e,t);return this};c.detachOpen=function(e,t){this.detachEvent(c.M_EVENTS.Open,e,t);return this};c.attachClose=function(e,t){this.attachEvent(c.M_EVENTS.Close,e,t);return this};c.detachClose=function(e,t){this.detachEvent(c.M_EVENTS.Close,e,t);return this};c.fireOpen=function(e){this.fireEvent(c.M_EVENTS.Open,e)};c.fireClose=function(e){this.fireEvent(c.M_EVENTS.Close,e)};return c},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Cache",["sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/base/Log"],function(e,n,t){"use strict";var r=function(){};function a(n,t){var r=e.getFlexObjectsFromStorageResponse(n);if(t.fileType==="variant"){return r.comp.variants}if(t.selector&&t.selector.persistencyKey){return r.comp.changes}return r.changes}function i(e,n){if(!n){return e}return e===r.NOTAG?e.replace(/>$/,"".concat("-",n,">")):e.concat("-",n)}function c(e){return e.replace(/(^W\/|")/g,"")}r.NOTAG="<NoTag>";r.clearEntries=function(){e.clearState()};r.getChangesFillingCache=function(n,t,r){var a=Promise.resolve();if(r){a=e.clearAndInitialize(t)}return a.then(function(){return e.getStorageResponse(n.name)}).catch(function(){return{}})};r.getCacheKey=function(e,a){if(!e||!e.name||!a){t.warning("Not all parameters were passed to determine a flexibility cache key.");return Promise.resolve(r.NOTAG)}return this.getChangesFillingCache(e).then(function(e){if(e&&e.cacheKey){return c(e.cacheKey)}return r.NOTAG}).then(function(e){var t=a.getModel(n.getVariantModelName());var r=t?t.getCurrentControlVariantIds():[];return i(e,r.join("-"))})};r.addChange=function(e,n){var t=a(e.name,n);if(!t){return}t.push(n)};r.updateChange=function(e,n){var t=a(e.name,n);if(!t){return}for(var r=0;r<t.length;r++){if(t[r].fileName===n.fileName){t.splice(r,1,n);break}}};r.deleteChange=function(e,n){var t=a(e.name,n);if(!t){return}for(var r=0;r<t.length;r++){if(t[r].fileName===n.fileName){t.splice(r,1);break}}};r.removeChanges=function(n,t){var r=e.getFlexObjectsFromStorageResponse(n.name);if(!r){return}r.changes=r.changes.filter(function(e){return t.indexOf(e.fileName)===-1});var a=e.getVariantsState(n.name);Object.keys(a).forEach(function(e){a[e].variants.forEach(function(e){e.controlChanges=e.controlChanges.filter(function(e){return t.indexOf(e.getId())===-1})})})};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/LayerUtils",["sap/base/util/UriParameters","sap/ui/thirdparty/hasher","sap/ui/fl/Layer"],function(e,r,t){"use strict";var a=[t.BASE,t.VENDOR,t.PARTNER,t.CUSTOMER_BASE,t.CUSTOMER,t.PUBLIC,t.USER];var n={};a.forEach(function(e,r){n[e]=r});function i(r){return e.fromQuery(window.location.search).get(r)}var u={_mLayersIndex:n,_sTopLayer:a[a.length-1],FL_MAX_LAYER_PARAM:"sap-ui-fl-max-layer",isValidLayer:function(e){return Object.keys(t).some(function(r){return r===e})},isVendorLayer:function(){return this.getCurrentLayer()===t.VENDOR},isCustomerDependentLayer:function(e){return[t.PUBLIC,t.CUSTOMER,t.CUSTOMER_BASE].indexOf(e)>-1},isDeveloperLayer:function(e){return u.compareAgainstCurrentLayer(e,t.CUSTOMER)===-1},doesCurrentLayerRequirePackage:function(){var e=this.getCurrentLayer();return e===t.VENDOR||e===t.PARTNER||e===t.CUSTOMER_BASE},getMaxLayer:function(e){var t=u.getMaxLayerTechnicalParameter(r.getHash(),e);return t||i(this.FL_MAX_LAYER_PARAM)||u._sTopLayer},getLayerIndex:function(e){return this._mLayersIndex[e]},isOverMaxLayer:function(e,r){return this.isOverLayer(e,this.getMaxLayer(r))},isOverLayer:function(e,r){return this.getLayerIndex(e)>this.getLayerIndex(r)},compareAgainstCurrentLayer:function(e,r){var t=r||u.getCurrentLayer();if(this.getLayerIndex(t)>this.getLayerIndex(e)||!e){return-1}else if(this.getLayerIndex(t)===this.getLayerIndex(e)){return 0}return 1},isLayerFilteringRequired:function(e){return this._sTopLayer!==this.getMaxLayer(e)},isSapUiLayerParameterProvided:function(){return!!i("sap-ui-layer")},getCurrentLayer:function(){var e=i("sap-ui-layer")||"";return e.toUpperCase()||t.CUSTOMER},filterChangeDefinitionsByMaxLayer:function(e,r){return e.filter(function(e){return!e.layer||!u.isOverMaxLayer(e.layer,r)})},filterChangeOrChangeDefinitionsByCurrentLayer:function(e,r){if(!r){return e}return e.filter(function(e){var t=e.getLayer&&e.getLayer()||e.layer;return r===t})},getMaxLayerTechnicalParameter:function(e,r){if(r){var t=r.parseShellHash(e)||{};if(t.params&&t.params.hasOwnProperty(this.FL_MAX_LAYER_PARAM)){return t.params[this.FL_MAX_LAYER_PARAM][0]}}return undefined}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/ChangesController",["sap/ui/fl/FlexControllerFactory","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/Utils"],function(t,e,r){"use strict";function n(t){var n=r.getAppDescriptor(t);return e.getAppIdFromManifest(n)}var p={getFlexControllerInstance:function(e){if(typeof e==="string"){return t.create(e)}var r=e.appComponent||e;return t.createForControl(r)},getDescriptorFlexControllerInstance:function(e){if(typeof e.appId==="string"){return t.create(e.appId)}var r=e.appComponent||e;var p=n(r);return t.create(p)},getAppComponentForSelector:function(t){if(typeof t.appId==="string"){return t}return t.appComponent||r.getAppComponentForControl(t)}};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/FlexCustomData",["sap/ui/fl/Utils","sap/base/Log","sap/ui/core/CustomData"],function(t,e){"use strict";var a={};a.sync={};a.appliedChangesCustomDataKey="sap.ui.fl.appliedChanges";a.failedChangesCustomDataKeyJs="sap.ui.fl.failedChanges.js";a.failedChangesCustomDataKeyXml="sap.ui.fl.failedChanges.xml";a.notApplicableChangesCustomDataKey="sap.ui.fl.notApplicableChanges";a.sync.getAppliedCustomDataValue=function(t,e){var n=r(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));return n.customDataValue};a.getAppliedCustomDataValue=function(t,e,n){return o(t,n,a._getCustomDataKey(e,a.appliedChangesCustomDataKey)).then(function(t){return t.customDataValue})};a.sync.getParsedRevertDataFromCustomData=function(t,n){var u=a.sync.getAppliedCustomDataValue(t,n);try{return u&&JSON.parse(u)}catch(t){e.error("Could not parse revert data from custom data",u);return undefined}};a.getParsedRevertDataFromCustomData=function(t,e,n){return a.getAppliedCustomDataValue(t,e,n).then(function(t){return t&&JSON.parse(t)})};a.sync.hasChangeApplyFinishedCustomData=function(e,n){var u=t.getAggregation(e,"customData")||[];var r=[a._getCustomDataKey(n,a.appliedChangesCustomDataKey),a._getCustomDataKey(n,a.failedChangesCustomDataKeyJs),a._getCustomDataKey(n,a.notApplicableChangesCustomDataKey)];return u.some(function(e){var a=t.getProperty(e,"key");if(r.indexOf(a)>-1){return!!t.getProperty(e,"value")}return false})};a.hasChangeApplyFinishedCustomData=function(t,e,n){return Promise.resolve().then(n.getAggregation.bind(n,t,"customData")).then(function(t){t=t||[];var u=[a._getCustomDataKey(e,a.appliedChangesCustomDataKey),a._getCustomDataKey(e,a.failedChangesCustomDataKeyJs),a._getCustomDataKey(e,a.notApplicableChangesCustomDataKey)];return Promise.all(t.map(function(t){return Promise.resolve().then(n.getProperty.bind(n,t,"key")).then(function(e){if(u.indexOf(e)>-1){return n.getProperty(t,"value")}return undefined}).then(function(t){return!!t})})).then(function(t){return t.includes(true)})})};function n(t,e){var a=e.getRevertData();if(t&&a!==undefined){return JSON.stringify(a)}return"true"}a.addAppliedCustomData=function(t,e,r,o){var s=n(o,e);var i=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);return u(t,i,s,r)};a.addFailedCustomData=function(t,e,n,r){var o=a._getCustomDataKey(e,r);return u(t,o,"true",n)};a.sync.destroyAppliedCustomData=function(t,e,n){var u=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);var o=r(t,u);if(o.customData){n.destroy(o.customData)}};a.destroyAppliedCustomData=function(t,e,n){var u=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);return o(t,n,u).then(function(t){if(t.customData){n.destroy(t.customData)}})};a.getCustomDataIdentifier=function(t,e,n){if(t){return a.appliedChangesCustomDataKey}if(!e){return a.notApplicableChangesCustomDataKey}if(n){return a.failedChangesCustomDataKeyXml}return a.failedChangesCustomDataKeyJs};a._getCustomDataKey=function(t,e){return e+"."+t.getId()};function u(t,e,a,n){return o(t,n.modifier,e).then(function(u){if(!u.customData){return n.modifier.createAndAddCustomData(t,e,a,n.appComponent)}return n.modifier.setProperty(u.customData,"value",a)})}function r(e,a){var n=t.getAggregation(e,"customData")||[];var u={};n.some(function(e){var n=t.getProperty(e,"key");if(n===a){u.customData=e;u.customDataValue=t.getProperty(e,"value");return true}return false});return u}function o(t,e,a){return Promise.resolve().then(e.getAggregation.bind(e,t,"customData")).then(function(t){t=t||[];var n={};return t.reduce(function(t,u){return t.then(e.getProperty.bind(e,u,"key")).then(function(t){if(t===a){n.customData=u;return e.getProperty(u,"value")}return undefined}).then(function(t){if(t){n.customDataValue=t}})},Promise.resolve()).then(function(){return n})})}return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Reverter",["sap/base/Log","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/Utils"],function(e,r,n,t){"use strict";var o={};function i(e){if(!e.isApplyProcessFinished()&&e.hasApplyProcessStarted()){return e.addPromiseForApplyProcessing().then(function(r){if(r&&r.error){e.markRevertFinished(r.error);throw Error(r.error)}})}return Promise.resolve()}function a(e,n,t,i){return o.revertChangeOnControl(e,n,t).then(function(t){return r.destroyAppliedCustomData(t||n,e,i.modifier).then(function(){return!!t})}).then(function(r){if(r){i.flexController._oChangePersistence._deleteChangeInMap(e)}})}o.revertChangeOnControl=function(r,t,o){var a=n.getControlIfTemplateAffected(r,t,o);var l;return n.getChangeHandler(r,a,o).then(function(e){l=e}).then(i.bind(null,r)).then(function(){if(r.isSuccessfullyApplied()){r.startReverting();return l.revertChange(r,a.control,o)}throw Error("Change was never applied")}).then(function(){a.control=o.modifier.bySelector(r.getSelector(),o.appComponent,o.view);if(a.bTemplateAffected){return o.modifier.updateAggregation(a.control,r.getContent().boundAggregation)}return undefined}).then(function(){r.markRevertFinished();return a.control}).catch(function(n){var t="Change could not be reverted: "+n.message;e.error(t);r.markRevertFinished(t);return false})};o.revertMultipleChanges=function(r,n){var o=[];r.forEach(function(r){r.setQueuedForRevert();o.push(function(){var o=r.getSelector&&r.getSelector();var i=n.modifier.bySelector(o,n.appComponent);if(!i){e.warning("A flexibility change tries to revert changes on a nonexistent control with id "+o.id);return new t.FakePromise}var l={modifier:n.modifier,appComponent:n.appComponent,view:t.getViewForControl(i)};return a(r,i,l,n)})});return t.execPromiseQueueSequentially(o)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Utils",["sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/Utils"],function(e,n,t){"use strict";function r(e,n){if(n||e.hasApplyProcessStarted()){return false}return true}var a={getControlIfTemplateAffected:function(e,n,t){var r=t.modifier;var a={originalControl:n};var i=e.getOriginalSelector();if(e.getContent().boundAggregation&&i){a.control=r.bySelector(i,t.appComponent,t.view);a.controlType=r.getControlType(a.control);a.bTemplateAffected=true}else{a.control=n;a.controlType=r.getControlType(n);a.bTemplateAffected=false}return a},getChangeHandler:function(e,r,a){var i=a.modifier.getLibraryName(r.control);return t.requireAsync("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration").then(function(e){return e.waitForChangeHandlerRegistration(i)}).then(function(){var t=e.getChangeType();var i=e.getLayer();return n.getChangeHandler(t,r.controlType,r.control,a.modifier,i)})},checkIfDependencyIsStillValidSync:function(n,a,i,l){var o=t.getChangeFromChangesMap(i.mChanges,l);var c=a.bySelector(o.getSelector(),n);var g=e.sync.hasChangeApplyFinishedCustomData(c,o);return r(o,g)},checkIfDependencyIsStillValid:function(n,a,i,l){var o=t.getChangeFromChangesMap(i.mChanges,l);var c=a.bySelector(o.getSelector(),n);return e.hasChangeApplyFinishedCustomData(c,o,a).then(r.bind(null,o))},filterChangeByView:function(e,n){var t=e.modifier;var r=e.appComponent;var a=n.getSelector();if(!a){return false}if(a.viewSelector){var i=t.getControlIdBySelector(a.viewSelector,r);return i===e.viewId}var l=a.id;if(l){var o;if(n.getSelector().idIsLocal){if(r){o=r.getLocalId(e.viewId)}}else{o=e.viewId}var c=0;var g;do{c=l.indexOf("--",c);g=l.slice(0,c);c++}while(g!==o&&c>0);return g===o}return false}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/URLHandler",["sap/ui/core/Component","sap/ui/fl/Utils","sap/base/Log","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/ui/base/ManagedObjectObserver","sap/ui/thirdparty/hasher","sap/base/util/includes","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState"],function(e,a,r,t,n,o,i,s,l,p,m){"use strict";var c={};var d={};function u(e,a){var r=[];return e.reduce(function(e,t){var n=a.getVariantManagementReference(t).variantManagementReference;if(n){if(l(r,n)){e.updateRequired=true;return e}r.push(n)}if(n&&a.oData[n].currentVariant!==t){e.updateRequired=true;if(a.oData[n].currentVariant!==a.oData[n].defaultVariant){e.parameters.push(a.oData[n].currentVariant)}}else{e.parameters.push(t)}return e},{updateRequired:false,parameters:[]})}function f(e,a){var r=n.get(["params",p.VARIANT_TECHNICAL_PARAMETER],e);if(r){var t=u(r,a);if(t.updateRequired){d.update({updateURL:!a._bDesignTimeMode,parameters:t.parameters,updateHashEntry:true,model:a})}}}function v(e,a){try{var t=e.getUShellService("URLParsing");if(t){var n=t.parseShellHash(a);f(n,e)}}catch(e){r.error(e.message)}var o=e.getUShellService("ShellNavigation");return o&&o.NavigationFilterStatus.Continue}function A(e){var a=e.getUShellService("ShellNavigation");if(!c[e.sFlexReference]){c[e.sFlexReference]=v.bind(null,e);if(a){a.registerNavigationFilter(c[e.sFlexReference])}}}function h(e){var a=e.getUShellService("ShellNavigation");if(a){a.unregisterNavigationFilter(c[e.sFlexReference]);delete c[e.sFlexReference]}}function R(e){var a=e.model;var t=a.getUShellService("URLParsing");var n=a.getUShellService("CrossApplicationNavigation");var o=t&&t.parseShellHash(s.getHash());if(o&&o.params){var i=a.oAppComponent&&a.oAppComponent.getComponentData&&a.oAppComponent.getComponentData()&&a.oAppComponent.getComponentData().technicalParameters;if(!i){r.warning("Component instance not provided, so technical parameters in component data and browser history remain unchanged")}if(e.parameters.length===0){delete o.params[p.VARIANT_TECHNICAL_PARAMETER];i&&delete i[p.VARIANT_TECHNICAL_PARAMETER]}else{o.params[p.VARIANT_TECHNICAL_PARAMETER]=e.parameters;i&&(i[p.VARIANT_TECHNICAL_PARAMETER]=e.parameters)}if(e.silent){s.changed.active=false;s.replaceHash(t.constructShellHash(o));s.changed.active=true}else{n.toExternal({target:{semanticObject:o.semanticObject,action:o.action,context:o.contextRaw},params:o.params,appSpecificRoute:o.appSpecificRoute,writeHistory:false})}}}function g(e){var a={index:-1};var r=e.model;var n=r.getUShellService("URLParsing");var o=n&&n.parseShellHash(s.getHash()).params;if(o){a.parameters=[];if(r._bDesignTimeMode){o[p.VARIANT_TECHNICAL_PARAMETER]=d.getStoredHashParams(e)}if(Array.isArray(o[p.VARIANT_TECHNICAL_PARAMETER])){o[p.VARIANT_TECHNICAL_PARAMETER]=o[p.VARIANT_TECHNICAL_PARAMETER].map(decodeURIComponent);o[p.VARIANT_TECHNICAL_PARAMETER].some(function(t,n){var o=m.getVariant({vmReference:e.vmReference,vReference:t,reference:r.oChangePersistence.getComponentName()});if(o){a.index=n;return true}})}}return t(a,o&&o[p.VARIANT_TECHNICAL_PARAMETER]&&{parameters:o[p.VARIANT_TECHNICAL_PARAMETER]})}function C(e){var a=e.getUShellService("URLParsing");var r=a&&a.parseShellHash(s.getHash());return r&&r.params&&r.params[p.VARIANT_TECHNICAL_PARAMETER]}d.variantTechnicalParameterName="sap-ui-fl-control-variant-id";d.initialize=function(e){var a=e.model;var r=a.getUShellService("URLParsing");var t=r&&r.parseShellHash(s.getHash());var n=t&&t.params&&t.params[p.VARIANT_TECHNICAL_PARAMETER];d.attachHandlers(e);d.update({model:a,parameters:n,updateHashEntry:Array.isArray(n)&&n.length>0});f(t,a)};d.updateVariantInURL=function(e){var a=d.removeURLParameterForVariantManagement(e);if(!a.parameters){return}var r=a.parameters||[];var t=a.index;var n=e.newVReference===e.model.oData[e.vmReference].defaultVariant;if(!n){if(t===-1){r=r.concat([e.newVReference])}else{r=r.slice(0,t).concat([e.newVReference],r.slice(t))}}if(!n||t>-1){d.update({parameters:r,updateURL:!e.model._bDesignTimeMode,updateHashEntry:true,model:e.model})}};d.removeURLParameterForVariantManagement=function(e){var a=g(e);if(a.index>-1){a.parameters.splice(a.index,1)}return a};d.attachHandlers=function(a){function r(){return a.model._oVariantSwitchPromise.then(function(){a.model._oHashData.controlPropertyObservers.forEach(function(e){e.destroy()});h(a.model);a.model.destroy();a.model.oComponentDestroyObserver.unobserve(a.model.oAppComponent,{destroy:true});a.model.oComponentDestroyObserver.destroy()})}A(a.model);if(!a.model.oComponentDestroyObserver&&a.model.oAppComponent instanceof e){a.model.oComponentDestroyObserver=new i(r.bind(null));a.model.oComponentDestroyObserver.observe(a.model.oAppComponent,{destroy:true})}};d.registerControl=function(e){if(e.updateURL){e.model._oHashData.variantControlIds.push(e.vmReference)}};d.update=function(e){if(!e.model._oHashData){e.model._oHashData={hashParams:[],controlPropertyObservers:[],variantControlIds:[]}}if(!e||!Array.isArray(e.parameters)){r.info("Variant URL parameters could not be updated since invalid parameters were received");return}if(e.updateURL){R(e)}if(e.updateHashEntry&&!o(e.model)){e.model._oHashData.hashParams=e.parameters}};d.getStoredHashParams=function(e){return Array.prototype.slice.call(e.model._oHashData.hashParams)};d.handleModelContextChange=function(e){var a="modelContextChange";function r(a,r){var t=r.model.getVariantManagementReferenceForControl(a.getSource());var n=r.model._oHashData.variantControlIds;var o=n.indexOf(t);if(o>-1){n.slice(o).forEach(function(a){if(g({vmReference:a,model:e.model}).index===-1){r.model.switchToDefaultForVariantManagement(a)}})}}var t=new i(function(t){if(t.current===true&&t.old===false){t.object.attachEvent(a,{model:e.model},r)}else if(t.current===false&&t.old===true){t.object.detachEvent(a,r)}});t.observe(e.vmControl,{properties:["resetOnContextChange"]});e.model._oHashData.controlPropertyObservers.push(t);if(e.vmControl.getResetOnContextChange()!==false){e.vmControl.attachEvent(a,{model:e.model},r)}};d.clearAllVariantURLParameters=function(e){if(C(e.model)){d.update({updateURL:true,parameters:[],updateHashEntry:false,model:e.model})}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/Utils",["sap/ui/core/Core","sap/ui/fl/Utils"],function(e,t){"use strict";function r(e,t){if(!t){return undefined}if(e.indexOf(t.getId())>-1){return t.getId()}return r(e,t.getParent())}function n(r,n){var a=t.getAppComponentForControl(r);var o=a.getRootControl();var i=[];if(!n&&o.getDomRef()){i=Array.from(o.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}if(n||i.length===0){i=Array.from(e.getStaticAreaRef().querySelectorAll(".sapUiFlVarMngmt"))}return i.map(function(e){return e.id})}var a={DEFAULT_AUTHOR:"SAP",VARIANT_TECHNICAL_PARAMETER:"sap-ui-fl-control-variant-id",compareVariants:function(e,t){if(e.getName().toLowerCase()<t.getName().toLowerCase()){return-1}else if(e.getName().toLowerCase()>t.getName().toLowerCase()){return 1}return 0},getIndexToSortVariant:function(e,t){var r=e.length;e.some(function(e,n){if(a.compareVariants(t.instance,e.instance)<0){r=n;return true}});return r},getRelevantVariantManagementControlId:function(t,a,o){var i={};if(!a||!a.length){a=n(t,o)}var u=a.reduce(function(t,r){var n=e.byId(r);if(n){var a=n.getFor();a.forEach(function(e){i[e]=r});t=t.concat(a)}return t},[]);var f=r(u,t);return i[f]},belongsToVariantManagement:function(e){var t=n(e);return!!a.getRelevantVariantManagementControlId(e,t)},getAllVariantManagementControlIds:function(e){return n(e)}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange",["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.AppDescriptorChange",{metadata:{properties:{appDescriptorChange:{type:"boolean",defaultValue:true}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{appDescriptorChange:"appDescriptorChange"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{}};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.getVariantReference=function(){return undefined};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariant",["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/Variant","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,r,a,n,i,s){"use strict";var o=r.extend("sap.ui.fl.apply._internal.flexObjects.CompVariant",{metadata:{properties:{persisted:{type:"boolean",defaultValue:true},persistencyKey:{type:"string"}},aggregations:{revertData:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertData",defaultValue:[]},changes:{type:"sap.ui.base.ManagedObject",multiple:true,defaultValue:[]}}},constructor:function(t){r.apply(this,arguments);this.setFileType("variant");if(t.favorite!==undefined){this.setFavorite(!!t.favorite)}else if(t.layer===n.VENDOR||t.layer===n.CUSTOMER_BASE){this.setFavorite(true)}}});o.STANDARD_VARIANT_ID="*standard*";o.getMappingInfo=function(){return Object.assign(r.getMappingInfo(),{persistencyKey:"selector.persistencyKey",variantId:"variantId"})};o.prototype.getMappingInfo=function(){return o.getMappingInfo()};function p(t){var e=i.getInstanceOrUndef();var r=e&&e.getUserId();return!r||!t||r.toUpperCase()===t.toUpperCase()}function u(t,e,r){if(e){return t===e}else if(t===n.USER){return true}var s=i.getInstanceOrUndef();if(a.isSapUiLayerParameterProvided()){e=a.getCurrentLayer()}else if(!e){e=s.isPublicLayerAvailable()?n.PUBLIC:n.CUSTOMER}var o=t===e;var u=s.isKeyUser()||p(r);return o&&u}function f(t){return!t||s.getCurrentLanguage()===t}function l(t,e){var r=i.getInstanceOrUndef();if(!r){return true}if(!t||!e){return true}var a=r.getSystem();var n=r.getClient();return a===t&&e===n}o.prototype.getPackage=function(){return this.getFlexObjectMetadata().packageName};o.prototype.isVariant=function(){return true};o.prototype.isRenameEnabled=function(t){return!this.getStandardVariant()&&this.isEditEnabled(t)&&f(this.getSupportInformation().originalLanguage)};o.prototype.isEditEnabled=function(t){var e=t&&a.isDeveloperLayer(t);var r=l(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);var n=u(this.getLayer(),t,this.getOwnerId());return e||r&&n};o.prototype.isDeleteEnabled=function(t){var e=l(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);return e&&u(this.getLayer(),t,this.getOwnerId())&&!this.getStandardVariant()};o.prototype.storeFavorite=function(t){if(t!==this.getFavorite()){this.setState(e.LifecycleState.DIRTY);this.setFavorite(t)}};o.prototype.getOwnerId=function(){return this.getSupportInformation().user||""};o.prototype.storeContent=function(t){this.setContent(t)};o.prototype.storeExecuteOnSelection=function(t){if(t!==this.getExecuteOnSelection()){this.setState(e.LifecycleState.DIRTY);this.setExecuteOnSelection(t)}};o.prototype.storeName=function(t){this.setName(t)};o.prototype.storeContexts=function(t){this.setContexts(t);this.setState(e.LifecycleState.DIRTY)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange",["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.ControllerExtensionChange",{metadata:{properties:{controllerName:{type:"string"}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{controllerName:"selector.controllerName"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{controllerName:this.getControllerName()}};t.prototype.getVariantReference=function(){return undefined};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.setInitialApplyState=function(){};t.prototype.getModuleName=function(){return this.getFlexObjectMetadata().moduleName};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlVariant",["sap/ui/core/Core","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/Variant"],function(e,t,n){"use strict";var a=n.extend("sap.ui.fl.apply._internal.flexObjects.FlVariant",{metadata:{properties:{variantReference:{type:"string"},variantManagementReference:{type:"string"},visible:{type:"boolean",defaultValue:true}}},constructor:function(a,i){if(typeof a!=="string"&&a!==undefined){i=a;a=i&&i.id}i.fileType="ctrl_variant";if(i.favorite===undefined){i.favorite=true}n.apply(this,arguments);if(!this.getName()&&i.content&&i.content.title){this.setName(i.content.title)}var r=this.getName().match(/.i18n>(\w+)./);if(r){this.setName(e.getLibraryResourceBundle("sap.ui.fl").getText(r[1]))}var f=this.getSupportInformation();if(this.getId()===this.getVariantManagementReference()){this.setStandardVariant(true);if(!f.user){f.user=t.DEFAULT_AUTHOR;this.setSupportInformation(f)}}}});a.getMappingInfo=function(){return Object.assign(n.getMappingInfo(),{variantReference:"variantReference",variantManagementReference:"variantManagementReference"})};a.prototype.getMappingInfo=function(){return a.getMappingInfo()};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObject",["sap/base/util/deepClone","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/restricted/_omit","sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,a,n,r,i,o,s,p,u){"use strict";var c=i.extend("sap.ui.fl.apply._internal.flexObjects.FlexObject",{metadata:{properties:{state:{type:"string",defaultValue:o.LifecycleState.NEW},fileType:{type:"string",defaultValue:"change"},layer:{type:"string"},flexObjectMetadata:{type:"object",defaultValue:{}},supportInformation:{type:"object",defaultValue:{}},content:{type:"any",defaultValue:{}},texts:{type:"object",defaultValue:{}}}},constructor:function(){i.apply(this,arguments);var t=this.getFlexObjectMetadata();var e=t.reference;if(e){if(!t.namespace){t.namespace=u.createNamespace({reference:e},this.getFileType())}if(!t.projectId){t.projectId=e.replace(".Component","")}}this.setFlexObjectMetadata(t);var a=this.getSupportInformation();if(!a.originalLanguage){a.originalLanguage=u.getCurrentLanguage()}this.setSupportInformation(a)}});c.getMappingInfo=function(){return Object.assign({},{"flexObjectMetadata.changeType":"changeType","flexObjectMetadata.reference":"reference","flexObjectMetadata.namespace":"namespace","flexObjectMetadata.creation":"creation","flexObjectMetadata.projectId":"projectId","flexObjectMetadata.packageName":"packageName","flexObjectMetadata.moduleName":"moduleName","supportInformation.generator":"support.generator","supportInformation.service":"support.service","supportInformation.sourceSystem":"sourceSystem","supportInformation.sourceClient":"sourceClient","supportInformation.user":"support.user","supportInformation.sapui5Version":"support.sapui5Version","supportInformation.sourceChangeFileName":"support.sourceChangeFileName","supportInformation.compositeCommand":"support.compositeCommand","supportInformation.command":"support.command","supportInformation.oDataInformation":"oDataInformation","supportInformation.originalLanguage":"originalLanguage",layer:"layer",fileType:"fileType",id:"fileName",content:"content",texts:"texts"})};c.prototype.getMappingInfo=function(){return c.getMappingInfo()};c.prototype.setContent=function(t,e){this.setProperty("content",t);if(!e){this.setState(o.LifecycleState.DIRTY)}return this};c.prototype.getFlexObjectMetadata=function(){return Object.assign({},this.getProperty("flexObjectMetadata"))};c.prototype.getSupportInformation=function(){return Object.assign({},this.getProperty("supportInformation"))};function f(t,e){if(!Object.values(o.LifecycleState).includes(t)){return false}if(e===o.LifecycleState.NEW&&t===o.LifecycleState.DIRTY){return false}return true}c.prototype.setState=function(t){var e=this.getState();if(e!==t&&f(t,e)){this._sPreviousState=e;this.setProperty("state",t)}return this};c.prototype.markForDeletion=function(){this.setState(o.LifecycleState.DELETED)};c.prototype.restorePreviousState=function(){if(this._sPreviousState){this.setState(this._sPreviousState);delete this._sPreviousState}};c.prototype.isChangeFromOtherSystem=function(){var t=this.getSupportInformation().sourceSystem;var e=this.getSupportInformation().sourceClient;if(!t||!e){return false}var a=p.getInstanceOrUndef();if(!a){return true}var n=a.getSystem();var r=a.getClient();if(!n||!r){return false}return t!==n||e!==r};c.prototype.getNamespace=function(){return this.getFlexObjectMetadata().namespace};c.prototype.getChangeType=function(){return this.getFlexObjectMetadata().changeType};c.prototype.isUserDependent=function(){return this.getLayer()===s.USER};c.prototype.getText=function(t){var e=this.getTexts()[t]||{};return e.value||""};c.prototype.setText=function(t,e,a,n){var r=Object.assign({},this.getTexts());var i={value:e};if(a){i.type=a}r[t]=Object.assign({},r[t],i);this.setTexts(r);if(!n){this.setState(o.LifecycleState.DIRTY)}return this};c.prototype.setRequest=function(t){this._sRequest=t};c.prototype.getRequest=function(){return this._sRequest||""};c.prototype.getDefinition=function(){return this.convertToFileContent()};c.prototype.getCreation=function(){return this.getFlexObjectMetadata().creation};c.prototype.setCreation=function(t){var e=this.getFlexObjectMetadata();e.creation=t;this.setFlexObjectMetadata(e)};function l(t){return t.length?t.charAt(0).toUpperCase()+t.slice(1):t}function g(t){return typeof this[t]==="function"?this[t].bind(this):function(){throw new Error(t+" is not a valid mutator")}}function h(e){var a=e.split(".");a[0]=l(a[0]);var r=a.shift();var i=g.call(this,"get"+r);var o=g.call(this,"set"+r);return{getValue:function(){var e=t(i());if(a.length>0){return n.get(a,e)}return e},setValue:function(e){var r=t(i());if(a.length>0){n.set(a,e,r)}else{r=e}o(r);return this}.bind(this)}}c.prototype.convertToFileContent=function(){var t={};Object.entries(this.getMappingInfo()).forEach(function(e){var a=h.call(this,e[0]).getValue();if(a!==undefined){n.set(e[1],a,t)}}.bind(this));return t};function y(t,e){var a=h.call(this,t);var n=a.getValue();if(n!==e){a.setValue(e)}}c.mapFileContent=function(e,n){var r=Object.values(n);var i={};var o=function(t,e,s){var p=s?s+"."+t:t;var u=r.indexOf(p);if(u>=0){var c=Object.keys(n)[u];i[c]=e}else if(a(e)){Object.entries(e).forEach(function(t){o(t[0],t[1],p)})}};Object.entries(t(e)).forEach(function(t){o(t[0],t[1])});return i};c.prototype.update=function(t){var e=r(t,["fileName"]);var a=c.mapFileContent(e,this.getMappingInfo());Object.entries(a).forEach(function(t){y.call(this,t[0],t[1])}.bind(this))};c.prototype.setResponse=function(t){if(!t||e(t)){return}this.update(t);this.setState(o.LifecycleState.PERSISTED)};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/States",[],function(){"use strict";return{LifecycleState:{NEW:"NEW",PERSISTED:"NONE",DELETED:"DELETE",DIRTY:"UPDATE"},ApplyState:{INITIAL:"initial",APPLYING:"applying",REVERTING:"reverting",REVERT_FINISHED:"revert finished",APPLY_SUCCESSFUL:"apply successful",APPLY_FAILED:"apply failed"},Operations:{APPLY:"apply",REVERT:"revert"}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UIChange",["sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Utils"],function(e,t,s,r,o){"use strict";var n=s.extend("sap.ui.fl.apply._internal.flexObjects.UIChange",{metadata:{properties:{selector:{type:"object",defaultValue:{}},dependentSelectors:{type:"object",defaultValue:{}},applyState:{type:"string",defaultValue:r.ApplyState.NEW},jsOnly:{type:"boolean"},variantReference:{type:"string"},revertData:{type:"any",defaultValue:null}},aggregations:{},associations:{},events:{}},constructor:function(){s.apply(this,arguments);this._oChangeProcessingPromises={};this.setInitialApplyState()}});n.getMappingInfo=function(){return Object.assign(s.getMappingInfo(),{selector:"selector",dependentSelectors:"dependentSelector",jsOnly:"jsOnly",variantReference:"variantReference"})};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.setQueuedForRevert=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==r.Operations.REVERT){this._aQueuedProcesses.unshift(r.Operations.REVERT)}};n.prototype.isQueuedForRevert=function(){return this._aQueuedProcesses.indexOf(r.Operations.REVERT)>-1};n.prototype.setQueuedForApply=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==r.Operations.APPLY){this._aQueuedProcesses.unshift(r.Operations.APPLY)}};n.prototype.isQueuedForApply=function(){return this._aQueuedProcesses.indexOf(r.Operations.APPLY)>-1};n.prototype.setInitialApplyState=function(){this._aQueuedProcesses=[];delete this._ignoreOnce;this.setApplyState(r.ApplyState.INITIAL);this._oChangeProcessedPromise={};this._oChangeProcessedPromise.promise=new Promise(function(e){this._oChangeProcessedPromise.resolveFunction={resolve:e}}.bind(this))};n.prototype.isInInitialState=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()===r.ApplyState.INITIAL};n.prototype.isValidForDependencyMap=function(){return!!this.getSelector().id};n.prototype.startApplying=function(){this.setApplyState(r.ApplyState.APPLYING)};n.prototype.markFinished=function(e,t){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(r.Operations.APPLY,e);var s=t!==false?r.ApplyState.APPLY_SUCCESSFUL:r.ApplyState.APPLY_FAILED;this.setApplyState(s)};n.prototype.markSuccessful=function(e){this.markFinished(e,true)};n.prototype.markFailed=function(e){this.markFinished(e,false)};n.prototype.startReverting=function(){this.setApplyState(r.ApplyState.REVERTING)};n.prototype.markRevertFinished=function(e){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(r.Operations.REVERT,e);this.setApplyState(r.ApplyState.REVERT_FINISHED)};n.prototype.hasApplyProcessStarted=function(){return this.getApplyState()===r.ApplyState.APPLYING};n.prototype.isSuccessfullyApplied=function(){return this.getApplyState()===r.ApplyState.APPLY_SUCCESSFUL};n.prototype.hasApplyProcessFailed=function(){return this.getApplyState()===r.ApplyState.APPLY_FAILED};n.prototype.isApplyProcessFinished=function(){return this.isSuccessfullyApplied()||this.hasApplyProcessFailed()};n.prototype.hasRevertProcessStarted=function(){return this.getApplyState()===r.ApplyState.REVERTING};n.prototype.isRevertProcessFinished=function(){return this.getApplyState()===r.ApplyState.REVERT_FINISHED};n.prototype.isCurrentProcessFinished=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()!==r.ApplyState.INITIAL};n.prototype.addChangeProcessingPromise=function(e){if(!this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e]={};this._oChangeProcessingPromises[e].promise=new Promise(function(t){this._oChangeProcessingPromises[e].resolveFunction={resolve:t}}.bind(this))}return this._oChangeProcessingPromises[e].promise};n.prototype.addChangeProcessingPromises=function(){var e=[];if(this.getApplyState()===r.ApplyState.INITIAL&&this._oChangeProcessedPromise){e.push(this._oChangeProcessedPromise.promise)}this._aQueuedProcesses.forEach(function(t){e.push(this.addChangeProcessingPromise(t))},this);return e};n.prototype.addPromiseForApplyProcessing=function(){return this.addChangeProcessingPromise(r.Operations.APPLY)};n.prototype._resolveChangeProcessingPromiseWithError=function(e,t){if(this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e].resolveFunction.resolve(t);delete this._oChangeProcessingPromises[e]}if(this._oChangeProcessedPromise){this._oChangeProcessedPromise.resolveFunction.resolve(t);this._oChangeProcessedPromise=null}};n.prototype.hasRevertData=function(){return this.getRevertData()!==null};n.prototype.resetRevertData=function(){this.setRevertData(null)};n.prototype.setDependentSelectors=function(e){this.setProperty("dependentSelectors",e);delete this._aDependentSelectorList};n.prototype.addDependentControl=function(t,s,r,o){if(!t){throw new Error("Parameter vControl is mandatory")}if(!s){throw new Error("Parameter sAlias is mandatory")}if(!r||e(r)){throw new Error("Parameter mPropertyBag is mandatory")}var n=Object.assign({},this.getDependentSelectors());if(n[s]){throw new Error("Alias '"+s+"' already exists in the change.")}var i=r.modifier;var p=r.appComponent;if(Array.isArray(t)){var a=[];t.forEach(function(e){a.push(i.getSelector(e,p,o))});n[s]=a}else{n[s]=i.getSelector(t,p,o)}this.setDependentSelectors(n);delete this._aDependentSelectorList};n.prototype.getDependentControl=function(e,t){var s=[];if(!e){throw new Error("Parameter sAlias is mandatory")}if(!t){throw new Error("Parameter mPropertyBag is mandatory")}var r=t.modifier;var o=t.appComponent;var n=this.getDependentSelectors()[e];if(Array.isArray(n)){n.forEach(function(e){s.push(r.bySelector(e,o,t.view))});return s}return r.bySelector(n,o,t.view)};n.prototype.getDependentSelectorList=function(){var e=[this.getSelector()];if(!this._aDependentSelectorList){if(!this.getOriginalSelector()){Object.entries(this.getDependentSelectors()).some(function(t){var s=t[1];if(!Array.isArray(s)){s=[s]}s.forEach(function(t){if(t&&o.indexOfObject(e,t)===-1){e.push(t)}})})}this._aDependentSelectorList=e}return this._aDependentSelectorList};n.prototype.getDependentControlSelectorList=function(){var e=this.getDependentSelectorList().concat();if(e.length>0){var t=this.getSelector();var s=o.indexOfObject(e,t);if(s>-1){e.splice(s,1)}}return e};n.prototype.getOriginalSelector=function(){return this.getDependentSelectors().originalSelector};n.prototype.setExtensionPointInfo=function(e){this._oExtensionPointInfo=e};n.prototype.getExtensionPointInfo=function(){if(t(this._oExtensionPointInfo)){return Object.assign({},this._oExtensionPointInfo)}return this._oExtensionPointInfo};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UpdatableChange",["sap/ui/fl/apply/_internal/flexObjects/UIChange"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.UpdatableChange",{metadata:{aggregations:{revertInfo:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertInfo",defaultValue:[]}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{})};t.prototype.popLatestRevertInfo=function(){var e=this.getRevertInfo().pop();this.removeRevertInfo(e);return e};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/Variant",["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t){"use strict";var e=t.extend("sap.ui.fl.apply._internal.flexObjects.Variant",{metadata:{properties:{favorite:{type:"boolean",defaultValue:false},executeOnSelection:{type:"boolean",defaultValue:false},standardVariant:{type:"boolean",defaultValue:false},contexts:{type:"object",defaultValue:{}},variantId:{type:"string"}}},constructor:function(){t.apply(this,arguments);if(!this.getVariantId()){this.setVariantId(this.getId())}}});e.getMappingInfo=function(){return Object.assign(t.getMappingInfo(),{favorite:"favorite",executeOnSelection:"executeOnSelection",standardVariant:"standardVariant",contexts:"contexts"})};e.prototype.getMappingInfo=function(){return e.getMappingInfo()};e.prototype.getName=function(){return this.getText("variantName")};e.prototype.setName=function(t,e){this.setText("variantName",t,"XFLD",e)};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler",["sap/base/util/includes","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Utils"],function(e,n,t){"use strict";var d="sap.ui.fl:PendingChange";var i={};function c(e,t){return n.getControlIdBySelector(e,t)}function s(e){return{changeObject:e,dependencies:[],controlsDependencies:[],dependentIds:[]}}function a(e,n,t){r(t,n,e);o(t,n)}function o(n,t){if(!e(n.aChanges,t)){n.aChanges.push(t)}}function r(n,t,d){if(!n.mChanges[d]){n.mChanges[d]=[]}if(!e(n.mChanges[d],t)){n.mChanges[d].push(t)}}function p(e,n,t){var d=e.getSelector();if(d){if(d.id){a(c(d,n),e,t)}else{o(t,e)}}return t.aChanges}function f(e,n){return e.some(function(e){return e.id===n.id&&e.idIsLocal===n.idIsLocal})}function u(e,n,t,d,i,s,a){var o=t.getDependentSelectorList();n.some(function(n){if(f(o,n)){var r=c(n,i);var p=d&&s.indexOf(e)<s.indexOf(t);if(p){l(t,e,r,a,true)}else{l(e,t,r,a)}return true}})}function h(e,n,t,d){if(e.isValidForDependencyMap()){var i=e.getDependentSelectorList();g(e,i,n,d);var c=t.indexOf(e);var s=c<t.length-1;var a=t.slice();a.splice(c,1);a.reverse().forEach(function(c){if(c.isValidForDependencyMap()){u(e,i,c,s,n,t,d)}})}}function g(e,n,t,d){if(n.length){var i=n.map(function(e){return c(e,t)});if(!d.mDependencies[e.getId()]){d.mDependencies[e.getId()]=s(e)}d.mDependencies[e.getId()].controlsDependencies=i;i.forEach(function(n){d.mControlsWithDependencies[n]=d.mControlsWithDependencies[n]||[];d.mControlsWithDependencies[n].push(e.getId())})}}function l(n,t,d,i,c){if(m(n,t,d,i,c)){i.mDependencies[n.getId()].dependencies.push(t.getId());if(!e(i.mDependencies[n.getId()].dependentIds,d)){i.mDependencies[n.getId()].dependentIds.push(d)}if(!i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()]=[]}i.mDependentChangesOnMe[t.getId()].push(n.getId())}}function m(n,t,d,i,c){var s=!c&&e(i.mDependencies[n.getId()].dependentIds,d);var a=false;if(i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()].some(function(t){a=e(i.mDependencies[n.getId()].dependencies,t);return a})}return!s&&!a}function D(e,n){var c=[];var s=[];var a=[];if(e.dependencyRemovedInLastBatch[n]){e.dependencyRemovedInLastBatch[n].forEach(function(n){var t=e.mDependencies[n];if(t&&t.dependencies.length===0&&!(t.controlsDependencies&&t.controlsDependencies.length)){s.push(n);c.push(t.changeObject.getId());if(t[d]){a.push(function(){return t[d]()})}}})}return t.execPromiseQueueSequentially(a).then(function(n,t,d){delete e.dependencyRemovedInLastBatch[d];t.forEach(function(n){delete e.mDependencies[n]});n.forEach(function(n){i.resolveDependenciesForChange(e,n,d)});return!!n.length}.bind(undefined,c,s,n))}i.createEmptyDependencyMap=function(){return{aChanges:[],mChanges:{},mDependencies:{},mDependentChangesOnMe:{},mControlsWithDependencies:{},dependencyRemovedInLastBatch:{}}};i.addChangeAndUpdateDependencies=function(e,n,t){var d=p(e,n,t);h(e,n,d,t)};i.insertChange=function(e,n,t){var d=n&&n.aChanges&&n.aChanges.indexOf(t);if(d>-1){n.aChanges.splice(d+1,0,e)}};i.addRuntimeChangeAndUpdateDependencies=function(e,n,t,d){var i=p(e,n,t);h(e,n,i,d)};i.processDependentQueue=function(e,n,t){return D(e,t).then(function(t,d){if(d){return i.processDependentQueue(e,n,t)}}.bind(undefined,t))};i.addChangeApplyCallbackToDependency=function(e,n,t){e.mDependencies[n][d]=t};i.removeControlsDependencies=function(n,t){var d=n.mControlsWithDependencies[t];if(d){d.forEach(function(d){var i=n.mDependencies[d];if(i&&i.controlsDependencies&&i.controlsDependencies.length){var c=i.controlsDependencies.indexOf(t);if(c>-1){i.controlsDependencies.splice(c,1);delete n.mControlsWithDependencies[t];n.dependencyRemovedInLastBatch[t]=n.dependencyRemovedInLastBatch[t]||[];if(!e(n.dependencyRemovedInLastBatch[t],d)){n.dependencyRemovedInLastBatch[t].push(d)}}}});delete n.mControlsWithDependencies[t]}};i.resolveDependenciesForChange=function(n,t,d){var i=n.mDependentChangesOnMe[t];if(i){i.forEach(function(i){var c=n.mDependencies[i];var s=c?c.dependencies.indexOf(t):-1;if(s>-1){c.dependencies.splice(s,1);n.dependencyRemovedInLastBatch[d]=n.dependencyRemovedInLastBatch[d]||[];if(!e(n.dependencyRemovedInLastBatch[d],i)){n.dependencyRemovedInLastBatch[d].push(i)}}});delete n.mDependentChangesOnMe[t]}};i.removeChangeFromMap=function(e,n){Object.keys(e.mChanges).some(function(t){var d=e.mChanges[t];var i=d.map(function(e){return e.getId()}).indexOf(n);if(i!==-1){d.splice(i,1);return true}});var t=e.aChanges.map(function(e){return e.getId()}).indexOf(n);if(t!==-1){e.aChanges.splice(t,1)}};i.removeChangeFromDependencies=function(e,n,t){i.resolveDependenciesForChange(e,n,t);delete e.mDependencies[n]};i.getOpenDependentChangesForControl=function(e,t,d){var i=[];Object.keys(e.mDependencies).forEach(function(c){e.mDependencies[c].changeObject.getDependentSelectorList().forEach(function(s){if(n.getControlIdBySelector(s,d)===t){i.push(e.mDependencies[c].changeObject)}})});return i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger",["sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/base/Log"],function(e,t,n){"use strict";var a={addFavorite:function(e){e.setFavorite(true)},removeFavorite:function(e){e.setFavorite(false)},updateVariant:function(e,t){var n=t.getContent();if(n.executeOnSelection!==undefined){e.setExecuteOnSelection(n.executeOnSelection)}if(n.favorite!==undefined){e.setFavorite(n.favorite)}if(n.contexts){e.setContexts(n.contexts)}if(n.variantContent){e.setContent(n.variantContent,true)}var a=t.getText("variantName");if(a){e.setName(a,true)}},standardVariant:function(e,t){e.setExecuteOnSelection(t.getContent().executeOnSelect)}};function r(e){var t={};e.changes.forEach(function(e){var n=e.getSelector().variantId||e.getContent().key;if(!t[n]){t[n]=[]}t[n].push(e)});return t}function i(e,t){n.error("No change handler for change with the ID '"+t.getId()+"' and type '"+t.getChangeType()+"' defined.\n"+"The variant '"+e.getId()+"'was not modified'")}function o(n,a){var r={fileName:a.fileName,variantId:a.id||e.STANDARD_VARIANT_ID,persisted:a.persisted,content:a.content||{},texts:{variantName:{value:a.name||""}},selector:{persistencyKey:n}};if(a.favorite!==undefined){r.favorite=a.favorite}if(a.executeOnSelection!==undefined){r.executeOnSelection=a.executeOnSelection}return t.createCompVariant(r)}function f(e,t){var n=a[t.getChangeType()]||i;n(e,t);e.addChange(t)}function c(e,t){var n=t.getVariantId();if(e[n]){e[n].forEach(function(e){f(t,e)})}}return{merge:function(e,t,n){var a=t.nonPersistedVariants.concat(t.variants);var i=r(t);var f;a.forEach(function(e){if(e.getContent()&&e.getContent().standardvariant){f=e}});if(!f){f=o(e,n)}else{a=a.filter(function(e){return!e.getContent()||!e.getContent().standardvariant})}a.forEach(c.bind(undefined,i));f.setFavorite(true);f.setStandardVariant(true);t.byId[f.getVariantId()]=f;var u=t.standardVariantChange;if(u){i[f.getVariantId()]=i[f.getVariantId()]||[];i[f.getVariantId()].push(u);i[f.getVariantId()].sort(function(e,t){if(e.getCreation()<t.getCreation()){return-1}if(e.getCreation()>t.getCreation()){return 1}return 0})}c(i,f);t.standardVariant=f;return{standardVariant:f,variants:a}},createVariant:function(e,t){return o(e,t)},applyChangeOnVariant:f}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher",["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/changes/Reverter"],function(e,n,r){"use strict";function t(r){var t=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.currentVReference}));var a=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.newVReference}));var i=Object.keys(r.changesMap).reduce(function(e,n){return e.concat(r.changesMap[n])},[]);var s=i.map(function(e){return e.getId()});var c=t.reduce(function(e,n){var r=s.indexOf(n.getId());if(r>-1){e=e.concat(i[r])}return e},[]);var o=[];if(a.length>0){o=c.slice();c.some(function(e){if(a[0]&&e.getId()===a[0].getId()){a.shift();o.shift()}else{return true}})}else{o=c}var l={changesToBeReverted:o.reverse(),changesToBeApplied:a};return l}var a={switchVariant:function(e){return Promise.resolve().then(function(){e.changesMap=e.flexController._oChangePersistence.getChangesMapForComponent().mChanges;e.variantsMap=n.getContent(e.reference);var a=t(e);return r.revertMultipleChanges(a.changesToBeReverted,e).then(e.flexController.applyVariantChanges.bind(e.flexController,a.changesToBeApplied,e.appComponent)).then(n.setCurrentVariant.bind(null,e))})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState",["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/includes","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,n,a,r,i,c,o,f,s,u,g){"use strict";var l={};var v={};function d(e){var t=[];if(e.variantData.instance.getVariantReference()){t=l.getControlChangesForVariant(Object.assign(e,{vReference:e.variantData.instance.getVariantReference()}));return t.filter(function(t){return u.compareAgainstCurrentLayer(t.getLayer(),e.variantData.instance.getLayer())===-1})}return t}function p(e){var t=l.getContent(e.reference);var n=r.get([e.vmReference,"variants"],t);return n||[]}function C(e,t,n){var a=t.changeType;if(!e){e={}}if(!e[a]){e[a]=[]}if(n){e[a].push(t);return true}return e[a].some(function(n,r){if(n.fileName===t.fileName){e[a].splice(r,1);return true}})}function V(e,t){var n=m(e);t[n].push(e)}function h(e,t){var n=m(e);var a=-1;t[n].some(function(t,n){if(t.fileName===e.fileName){a=n;return true}});if(a>-1){t[n].splice(a,1)}}function m(e){switch(e.fileType){case"change":return"variantDependentControlChanges";case"ctrl_variant":return"variants";case"ctrl_variant_change":return"variantChanges";case"ctrl_variant_management_change":return"variantManagementChanges";default:}}l.addUpdateStateListener=function(e,t){v[e]=t};l.removeUpdateStateListener=function(e){delete v[e]};l.getContent=function(e){return s.getVariantsState(e)};l.addFakeStandardVariant=function(e,t,n){s.setFakeStandardVariant(e,t,n)};l.clearFakedStandardVariants=function(e,t){s.resetFakedStandardVariants(e,t)};l.getControlChangesForVariant=function(e){var t=[];var n=l.getVariant(e);if(n){t=n.controlChanges.filter(function(t){return e.includeDirtyChanges!==false||t.getState()===f.LifecycleState.PERSISTED})}return t};l.getVariantChangesForVariant=function(e){var t=l.getVariant(e);return t&&t.variantChanges||{}};l.getVariant=function(e){var t;var n=l.getContent(e.reference);e.vReference=e.vReference||n[e.vmReference].defaultVariant;var a=p(e);a.some(function(n){if(n.instance.getId()===e.vReference){t=n;return true}});return t};l.getCurrentVariantReference=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference];return n.currentVariant||n.defaultVariant};l.getVariantManagementReferences=function(e){var t=l.getContent(e);return Object.keys(t)};l.addVariantToVariantManagement=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference].variants.slice().splice(1);var a=o.getIndexToSortVariant(n,e.variantData);if(e.variantData.instance.getVariantReference()){var r=d(e);e.variantData.controlChanges=r.concat(e.variantData.controlChanges)}t[e.vmReference].variants.splice(a+1,0,e.variantData);return a+1};l.removeVariantFromVariantManagement=function(e){var t;var n=l.getContent(e.reference);var a=n[e.vmReference].variants.some(function(n,a){if(n.instance.getId()===e.variant.getId()){t=a;return true}});if(a){n[e.vmReference].variants.splice(t,1)}return t};l.setVariantData=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference].variants;var a=n[e.previousIndex];if(a.instance.getId()!==e.vmReference){n.splice(e.previousIndex,1);var r=o.getIndexToSortVariant(n.slice(1),a);n.splice(r+1,0,a);return r+1}n.splice(e.previousIndex,1,a);return e.previousIndex};l.addChangeToVariant=function(e){var t=l.getControlChangesForVariant(e);var a=t.map(function(e){return e.getId()});if(!n(a,e.change.getId())){var r=l.getVariant(e);r.controlChanges=t.concat([e.change]);return true}return false};l.removeChangeFromVariant=function(e){var t=l.getControlChangesForVariant(e);var n=l.getVariant(e);var a=false;if(n){n.controlChanges=t.filter(function(t){if(!a&&t.getId()===e.change.getId()){a=true;return false}return true})}return a};l.getInitialChanges=function(e){var t=l.getContent(e.reference);return Object.keys(t).reduce(function(n,a){if(e.vmReference&&e.vmReference===a||!e.vmReference){var r=t[a].currentVariant?"currentVariant":"defaultVariant";var i=Object.assign({},e,{vmReference:a,vReference:t[a][r],includeDirtyChanges:false});return n.concat(l.getControlChangesForVariant(i))}return n},[])};l.fillVariantModel=function(e){var t=l.getContent(e.reference);return Object.keys(t).reduce(function(n,a){n[a]={defaultVariant:t[a].defaultVariant,variants:[]};if(t[a].currentVariant){n[a].currentVariant=t[a].currentVariant}p(Object.assign(e,{vmReference:a})).forEach(function(e,t){var r=e.instance;n[a].variants[t]=JSON.parse(JSON.stringify({key:r.getId(),title:r.getName(),layer:r.getLayer(),favorite:r.getFavorite(),executeOnSelect:r.getExecuteOnSelection(),visible:r.getVisible(),author:r.getSupportInformation().user,contexts:r.getContexts()}))});return n},{})};l.updateChangesForVariantManagementInMap=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference];if(e.changeContent.fileType==="ctrl_variant_change"){n.variants.some(function(t){if(t.instance.getId()===e.changeContent.selector.id){C(t.variantChanges,e.changeContent,e.add)}})}else if(e.changeContent.fileType==="ctrl_variant_management_change"){C(n.variantManagementChanges,e.changeContent,e.add)}};l.setCurrentVariant=function(e){var t=l.getContent(e.reference);if(r.get([e.vmReference],t)){t[e.vmReference].currentVariant=e.newVReference}};l.updateVariantsState=function(e){var t=l.getContent(e.reference);if(a(t)){i.error("Variant state is not initialized yet");return}var n=s.getFlexObjectsFromStorageResponse(e.reference);if(e.changeToBeAddedOrDeleted){switch(e.changeToBeAddedOrDeleted.getState()){case f.LifecycleState.NEW:V(e.changeToBeAddedOrDeleted.convertToFileContent(),n);break;case f.LifecycleState.DELETE:h(e.changeToBeAddedOrDeleted.convertToFileContent(),n);break;default:}if(v[e.reference]){v[e.reference]()}}};l.waitForInitialVariantChanges=function(e){var t=l.getInitialChanges({vmReference:e.vmReference,reference:e.reference});var n=t.reduce(function(t,n){var a=n.getSelector();var r=c.bySelector(a,e.appComponent);if(r&&g.indexOfObject(t,{selector:r})===-1){t.push({selector:r})}return t},[]);return n.length?e.flexController.waitForChangesToBeApplied(n):Promise.resolve()};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddXml",["sap/ui/fl/changeHandler/Base","sap/base/util/LoaderExtensions","sap/ui/fl/changeHandler/common/revertAddedControls","sap/ui/fl/Utils"],function(e,t,r,n){"use strict";var a={};a.applyChange=function(r,o,i,u){var s=i.modifier;var c=i.view;var g=u.aggregationName;var f;var h=u.index;var l=[];var d=r.getFlexObjectMetadata().moduleName;var m;var v;var p=function(){var e=[];v.forEach(function(t,r){var n=function(){return Promise.resolve().then(s.insertAggregation.bind(s,o,g,t,h+r,c,u.skipAdjustIndex)).then(function(){l.push({id:s.getId(t),aggregationName:g})})};e.push(n)});return n.execPromiseQueueSequentially(e,true,true).then(function(){r.setRevertData(l);return v})};return Promise.resolve().then(s.findAggregation.bind(s,o,g)).then(function(e){f=e;if(!f){return Promise.reject(new Error("The given Aggregation is not available in the given control: "+s.getId(o)))}return t.loadResource(d,{dataType:"text"})}).then(function(t){m=t;return e.instantiateFragment(r,i)}).then(function(e){v=e;var t=[];v.forEach(function(e,r){var n=function(){return Promise.resolve().then(s.validateType.bind(s,e,f,o,m,r)).then(function(e){if(!e){a._destroyArrayOfControls(v);return Promise.reject(new Error("The content of the xml fragment does not match the type of the targetAggregation: "+f.type))}})};t.push(n)});return n.execPromiseQueueSequentially(t,true,true).then(p)})};a.revertChange=r;a._throwMissingAttributeError=function(e){throw new Error("Attribute missing from the change specific content '"+e+"'")};a._destroyArrayOfControls=function(e){e.forEach(function(e){if(e.destroy){e.destroy()}})};a.completeChangeContent=function(e,t,r){r=r||{};if(t.fragmentPath){r.fragmentPath=t.fragmentPath}else{a._throwMissingAttributeError("fragmentPath")}e.setContent(r);var n=e.getFlexObjectMetadata().reference.replace(/\.Component/g,"").replace(/\./g,"/");n+="/changes/";n+=r.fragmentPath;var o=e.getFlexObjectMetadata();o.moduleName=n;e.setFlexObjectMetadata(o)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/common/revertAddedControls",["sap/ui/fl/Utils"],function(e){"use strict";return function(r,t,n){var a=n.modifier;var o=r.getContent();var i=o.targetAggregation;var u=n.view||e.getViewForControl(t);var c=n.appComponent;var s=r.getRevertData()||[];var v=s.map(function(e){var r;if(typeof e==="string"){r=e}else{r=e.id;i=i||e.aggregationName}return a.bySelector(r,c,u)||u&&u.createId&&a.bySelector(u.createId(r))});var f=[];v.forEach(function(e){var r=function(){return Promise.resolve().then(a.removeAggregation.bind(a,t,i,e)).then(function(){if(e.destroy){e.destroy()}})};f.push(r)});return e.execPromiseQueueSequentially(f,true,true).then(function(){r.resetRevertData();return true})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/Storage",["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/initial/_internal/StorageResultMerger","sap/ui/fl/initial/_internal/storageResultDisassemble","sap/ui/fl/write/api/Version","sap/ui/fl/Utils","sap/ui/fl/write/_internal/FlexInfoSession"],function(e,n,r,t,i,a){"use strict";function l(e,n,r){if(!n.layers||n.layers[0]!=="ALL"&&n.layers.indexOf("CUSTOMER")===-1){delete e.version;return e}if(o(r.reference)){e.allContexts=true}if(r.version!==undefined){e.version=r.version;return e}var a=i.getUrlParameter(t.UrlParameter);if(a===null){delete e.version}else{e.version=parseInt(a)}return e}function o(e){var n=a.getByReference(e);return n&&n.initialAllContexts}function s(n,r){var t=r.map(function(r){var t=Object.assign({},n,{url:r.url,path:r.path});t=l(t,r,n);return r.loadConnectorModule.loadFlexData(t).then(function(n){return n||e.getEmptyFlexDataResponse()}).catch(e.logAndResolveDefault.bind(undefined,e.getEmptyFlexDataResponse(),r,"loadFlexData"))});return Promise.all(t)}function u(e){var n=[];e.forEach(function(e){if(Array.isArray(e)){n=n.concat(e)}else{n.push(e)}});return n}function f(e){return e.map(function(e){return r(e)})}function c(e){return Promise.resolve(e).then(u).then(f).then(u).then(n.merge)}function p(n){return e.getStaticFileConnector().then(s.bind(this,n))}var d={};d.completeFlexData=function(e){if(!e||!e.reference){return Promise.reject("No reference was provided")}return Promise.all([p(e),e.partialFlexData]).then(c)};d.loadFlexData=function(n){if(!n||!n.reference){return Promise.reject("No reference was provided")}return e.getLoadConnectors().then(s.bind(this,n)).then(c)};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageResultMerger",["sap/base/util/merge","sap/base/util/ObjectPath"],function(n,e){"use strict";var a={};function r(n,a){var r=n.reduce(function(n,r){if(e.get(a,r)){return n.concat(e.get(a,r))}return n},[]);var t=[];return r.filter(function(n){var e=n.fileName;var a=t.indexOf(e)!==-1;if(a){return false}t.push(e);return true})}function t(e){return e.reduce(function(e,a){return n({},e,a.ui2personalization)},{})}function i(n){return n.reduce(function(n,e){return e.cacheKey?n+=e.cacheKey:n},"")||null}function s(n){for(var e=0;e<n.length;e++){if(n[e].info){return n[e].info.allContextsProvided}}}a.merge=function(n){var e={appDescriptorChanges:r(n,"appDescriptorChanges"),changes:r(n,"changes"),ui2personalization:t(n),comp:{variants:r(n,"comp.variants"),changes:r(n,"comp.changes"),defaultVariants:r(n,"comp.defaultVariants"),standardVariants:r(n,"comp.standardVariants")},variants:r(n,"variants"),variantChanges:r(n,"variantChanges"),variantDependentControlChanges:r(n,"variantDependentControlChanges"),variantManagementChanges:r(n,"variantManagementChanges"),cacheKey:i(n)};var a=s(n);if(a!==undefined){e.info={allContextsProvided:a}}return e};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeRegistryItem",["sap/base/Log","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,r,n){"use strict";var t=function(r){if(!r.changeHandler){e.error("sap.ui.fl.registry.ChangeRegistryItem: changeHandler required")}if(!r.changeType){e.error("sap.ui.fl.registry.ChangeRegistryItem: changeType required")}if(!r.layers){e.error("sap.ui.fl.registry.ChangeRegistryItem: layers required")}if(!r.controlType){e.error("sap.ui.fl.registry.ChangeRegistryItem: ControlType required")}this._controlType=r.controlType;this._changeType=r.changeType;this._changeHandler=r.changeHandler;this._layers=r.layers};t.prototype.getChangeTypeName=function(){return this._changeType};t.prototype.getControlType=function(){return this._controlType};t.prototype.getLayers=function(){return this._layers};t.prototype.getChangeHandler=function(){var e=new n.FakePromise;if(typeof this._changeHandler==="string"){e=r(this._changeHandler.replace(/\./g,"/")).then(function(e){this._changeHandler=e}.bind(this))}return e.then(function(){if(!this._changeHandler||typeof this._changeHandler.completeChangeContent!=="function"||typeof this._changeHandler.applyChange!=="function"||typeof this._changeHandler.revertChange!=="function"){return Promise.reject(new Error("The ChangeHandler is either not available or does not have all required functions"))}return this._changeHandler}.bind(this))};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/storageResultDisassemble",["sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/merge","sap/base/util/isEmptyObject"],function(a,e,n){"use strict";function t(a,e){if(e.content.fileName!==e.content.variantManagementReference){a.push(e.content)}e.controlChanges.forEach(function(e){a.push(e)});for(var n in e.variantChanges){a=a.concat(e.variantChanges[n])}return a}function r(a){var e=true;if(a){Object.keys(a).some(function(n){if(a[n].length){e=false;return true}})}return e}return function(i){var s;if(!n(i.variantSection)){s=i.changes||[];for(var c in i.variantSection){var u=i.variantSection[c];for(var o in u.variantManagementChanges){s=s.concat(u.variantManagementChanges[o])}s=u.variants.reduce(t,s)}var f=a.getGroupedFlexObjects(s);var l=a.filterAndSortResponses(f);delete i.changes;delete i.variantSection;e(l[0]||{},i);return l}if(r(i.comp)){s=i.changes||[];i.comp={variants:[],changes:[],defaultVariants:[],standardVariants:[]};s.slice().reverse().forEach(function(a,e,n){var t=false;if(a.fileType==="variant"){i.comp.variants.unshift(a);t=true}else{switch(a.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":i.comp.changes.unshift(a);t=true;break;case"defaultVariant":i.comp.defaultVariants.unshift(a);t=true;break;case"standardVariant":i.comp.standardVariants.unshift(a);t=true;break;default:break}}if(t){var r=n.length-1-e;i.changes.splice(r,1)}})}return[i]}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/registry/Settings",["sap/ui/fl/write/_internal/Storage","sap/ui/fl/Utils","sap/base/Log","sap/base/util/UriParameters"],function(t,e,n,r){"use strict";function o(t){if(t&&t.logonUser){return Promise.resolve(t.logonUser)}var r=e.getUshellContainer();if(r){return e.getUShellService("UserInfo").then(function(t){var e=t.getUser();return e&&e.getId()}).catch(function(t){n.error("Error getting service from Unified Shell: "+t.message)})}return Promise.resolve()}var i=function(t){if(!t){throw new Error("no flex settings provided")}this._oSettings=t};i.attachEvent=function(t,e){i._oEventProvider.attachEvent(t,e)};i.detachEvent=function(t,e){i._oEventProvider.detachEvent(t,e)};i.getInstance=function(){if(i._instance){return Promise.resolve(i._instance)}if(i._oLoadSettingsPromise){return i._oLoadSettingsPromise}return i._loadSettings()};i._loadSettings=function(){var e;var r=t.loadFeatures().then(function(t){e=t;return o(e)}).then(function(t){if(!e){n.error("The request for flexibility settings failed; A default response is generated and returned to consuming APIs");e={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isVariantPersonalizationEnabled:true,isAtoAvailable:false,isAtoEnabled:false,isAppVariantSaveAsEnabled:false,isContextSharingEnabled:true,isContextSharingEnabledForComp:true,isContextBasedAdaptationEnabled:false,isCondensingEnabled:false,isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isVariantAdaptationEnabled:false,versioning:{},_bFlexChangeMode:false,_bFlexibilityAdaptationButtonAllowed:false}}e.userId=t;return i._storeInstance(e)});i._oLoadSettingsPromise=r;return r};i._storeInstance=function(t){if(!i._instance){i._instance=new i(t)}return i._instance};i.getInstanceOrUndef=function(){return i._instance};i.getDefaultLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,PUBLIC:false,USER:false}};i.getDeveloperModeLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:false,PUBLIC:false,USER:false}};i.prototype._getBooleanProperty=function(t){return this._oSettings[t]||false};i.prototype.isKeyUser=function(){return this._getBooleanProperty("isKeyUser")};i.prototype.isKeyUserTranslationEnabled=function(){return this._getBooleanProperty("isKeyUserTranslationEnabled")};i.prototype.isPublicLayerAvailable=function(){return this._getBooleanProperty("isPublicLayerAvailable")};i.prototype.isVariantAdaptationEnabled=function(){return this._getBooleanProperty("isVariantAdaptationEnabled")};i.prototype.isAppVariantSaveAsEnabled=function(){return!this.isContextBasedAdaptationEnabled()&&this._getBooleanProperty("isAppVariantSaveAsEnabled")};i.prototype.isContextBasedAdaptationEnabled=function(){var t=r.fromQuery(window.location.search);var e=t.get("sap-ui-xx-rta-adaptations");return e==="true"||this._getBooleanProperty("isContextBasedAdaptationEnabled")};i.prototype.isVersioningEnabled=function(t){return!!(this._oSettings.versioning[t]||this._oSettings.versioning["ALL"])};i.prototype.isModelS=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isAtoEnabled=function(){return this._getBooleanProperty("isAtoEnabled")};i.prototype.isAtoAvailable=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isProductiveSystem=function(){return this._getBooleanProperty("isProductiveSystem")};i.prototype.isVariantSharingEnabled=function(){return this._getBooleanProperty("isVariantSharingEnabled")};i.prototype.isPublicFlVariantEnabled=function(){return this._getBooleanProperty("isPublicFlVariantEnabled")};i.prototype.isContextSharingEnabled=function(){return this._getBooleanProperty("isContextSharingEnabled")};i.prototype.isContextSharingEnabledForComp=function(){return this._getBooleanProperty("isContextSharingEnabledForComp")};i.prototype.isVariantPersonalizationEnabled=function(){return this._getBooleanProperty("isVariantPersonalizationEnabled")};i.prototype.isCondensingEnabled=function(){return this._getBooleanProperty("isCondensingEnabled")};i.prototype.isSystemWithTransports=function(){return!!(this._oSettings.system&&this._oSettings.client)};i.prototype.isProductiveSystemWithTransports=function(){return this.isProductiveSystem()&&this.isSystemWithTransports()};i.prototype.isLocalResetEnabled=function(){return this._getBooleanProperty("isLocalResetEnabled")};i.prototype.getSystem=function(){return this._oSettings.system};i.prototype.getClient=function(){return this._oSettings.client};i.prototype._getHostname=function(){return document.location.hostname};i.prototype.isCustomerSystem=function(){var t=this._oSettings.systemType;var e={CUSTOMER:true,SAP:false}[t];var n=this._getHostname();return e!==undefined?e:!(n.endsWith(".sap"+".corp")||n==="localhost"||n==="127.0.0.1")};i.prototype.getUserId=function(){return this._oSettings.userId};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantManagement",["sap/ui/model/Context","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/VariantItem","sap/m/VariantManagement","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/registry/Settings","sap/ui/core/Control","sap/ui/core/library","sap/base/Log"],function(t,e,a,n,i,o,r,s,l,h){"use strict";var p=l.TitleLevel;var c=s.extend("sap.ui.fl.variants.VariantManagement",{metadata:{interfaces:["sap.ui.core.IShrinkable","sap.m.IOverflowToolbarContent"],library:"sap.ui.fl",designtime:"sap/ui/fl/designtime/variants/VariantManagement.designtime",properties:{updateVariantInURL:{type:"boolean",group:"Misc",defaultValue:false},resetOnContextChange:{type:"boolean",group:"Misc",defaultValue:true},modelName:{type:"string",group:"Misc",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},showSetAsDefault:{type:"boolean",group:"Misc",defaultValue:true},manualVariantKey:{type:"boolean",group:"Misc",defaultValue:false},inErrorState:{type:"boolean",group:"Misc",defaultValue:false},executeOnSelectionForStandardDefault:{type:"boolean",group:"Misc",defaultValue:false},displayTextForExecuteOnSelectionForStandardVariant:{type:"string",group:"Misc",defaultValue:""},headerLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:p.Auto},titleStyle:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:p.Auto},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},events:{initialized:{},save:{parameters:{name:{type:"string"},overwrite:{type:"boolean"},key:{type:"string"},execute:{type:"boolean"},public:{type:"boolean"},def:{type:"boolean"},tile:{type:"boolean"}}},cancel:{},manage:{parameters:{renamed:{type:"object[]"},deleted:{type:"string[]"},exe:{type:"object[]"},def:{type:"string"}}},select:{parameters:{key:{type:"string"}}}},associations:{for:{type:"sap.ui.core.Control",multiple:true}},aggregations:{_embeddedVM:{type:"sap.m.VariantManagement",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.style("max-width",e.getMaxWidth());t.openEnd();t.renderControl(e._oVM);t.close("div")}}});c.prototype.init=function(){s.prototype.init.apply(this);this.addStyleClass("sapUiFlVarMngmt");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");this.setModelName(o.getVariantModelName());this.attachModelContextChange(this._setModel,this);this._oVM=new i(this.getId()+"-vm");this.setAggregation("_embeddedVM",this._oVM,true);this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[];this._oVM.attachManage(this._fireManage,this);this._oVM.attachCancel(this._fireCancel,this);this._oVM.attachSave(this._fireSave,this);this._oVM.attachSelect(this._fireSelect,this);this._updateWithSettingsInfo()};c.prototype.getOverflowToolbarConfig=function(){return{canOverflow:false,invalidationEvents:["save","manage","select"]}};c.prototype.attachCancel=function(t,e,a){this.attachEvent("cancel",t,e,a);return this};c.prototype._findCallback=function(t,e,a){var n=-1;t.some(function(t,i){if(t.fCallback===e&&t.oObj===a){n=i}return n>=0});return n};c.prototype.detachCancel=function(t,e){var a=this._findCallback(this._aCancelEventHandlers,t,e);if(a>=0){this.detachEvent("cancel",t,e);this._aCancelEventHandlers.splice(a,1)}return this};c.prototype.fireManage=function(t){this._oVM.fireManage(t)};c.prototype.fireSave=function(t){this._oVM.fireSave(t)};c.prototype._fireCancel=function(t){for(var e=0;e<this._aCancelEventHandlers.length;e++){t.oSource=this;this._aCancelEventHandlers[e].fCallbackBound(t,this._aCancelEventHandlers[e].mProps)}};c.prototype.attachSave=function(t,e,a){this.attachEvent("save",t,e,a);return this};c.prototype.detachSave=function(t,e){var a=this._findCallback(this._aSaveEventHandlers,t,e);if(a>-1){this.detachEvent("save",t,e);this._aSaveEventHandlers.splice(a,1)}return this};c.prototype._fireSave=function(t){this._handleAllListeners(t,this._aSaveEventHandlers)};c.prototype.hasListeners=function(t){var e=["save","select","cancel","manage"];if(e.indexOf(t)>-1){var a=null;if(t==="select"){a=this._aSelectEventHandlers}else if(t==="save"){a=this._aSaveEventHandlers}else if(t==="manage"){a=this._aManageEventHandlers}else if(t==="cancel"){a=this._aCancelEventHandlers}return a.length>0}return s.prototype.hasListeners.apply(this,arguments)};c.prototype.attachEvent=function(t,e,a,n){var i=["save","select","cancel","manage"];if(i.indexOf(t)>-1){var o=null;var r=a;if(typeof e==="function"){r=e;n=a;e=undefined}n=n===this?undefined:n;if(t==="select"){o=this._aSelectEventHandlers}else if(t==="save"){o=this._aSaveEventHandlers}else if(t==="manage"){o=this._aManageEventHandlers}else if(t==="cancel"){o=this._aCancelEventHandlers}o.push({fCallback:r,fCallbackBound:n?r.bind(n):r,oObj:n,mProps:e})}else{s.prototype.attachEvent.apply(this,arguments)}};c.prototype.attachEventOnce=function(t,e,a,n){var i;if(t==="manage"){i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1&&this._aManageEventHandlers[i].bOnce){this._aManageEventHandlers.splice(i,1)}this.attachManage(e,a,n);i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1){this._aManageEventHandlers[i].bOnce=true}}else if(t==="save"){i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1&&this._aSaveEventHandlers[i].bOnce){this._aSaveEventHandlers.splice(i,1)}this.attachSave(e,a,n);i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1){this._aSaveEventHandlers[i].bOnce=true}}else if(t==="select"){i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1&&this._aSelectEventHandlers[i].bOnce){this._aSelectEventHandlers.splice(i,1)}this.attachSelect(e,a,n);i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1){this._aSelectEventHandlers[i].bOnce=true}}else{s.prototype.attachEventOnce.apply(this,arguments)}};c.prototype.attachManage=function(t,e,a){this.attachEvent("manage",t,e,a);return this};c.prototype._handleAllListeners=function(t,e){var a=0;var n=[];while(a<e.length){t.oSource=this;e[a].fCallbackBound(t,e[a].mProps);if(e[a]){if(e[a].hasOwnProperty("bOnce")&&e[a].bOnce){n.push(a)}a+=1}}for(a=n.length-1;a>-1;a--){e.splice(n[a],1)}};c.prototype._fireManage=function(t){this._handleAllListeners(t,this._aManageEventHandlers)};c.prototype.detachManage=function(t,e){var a=this._findCallback(this._aManageEventHandlers,t,e);if(a>-1){this.detachEvent("manage",t,e);this._aManageEventHandlers.splice(a,1)}return this};c.prototype.attachSelect=function(t,e,a){this.attachEvent("select",t,e,a);return this};c.prototype._fireSelect=function(t){this._handleAllListeners(t,this._aSelectEventHandlers)};c.prototype.detachSelect=function(t,e){var a=this._findCallback(this._aSelectEventHandlers,t,e);if(a>-1){this.detachEvent("select",t,e);this._aSelectEventHandlers.splice(a,1)}return this};c.prototype._createSaveAsDialog=function(){this._oVM._createSaveAsDialog()};c.prototype._handleVariantSaveAs=function(t){this._oVM._handleVariantSaveAs(t)};c.prototype.getFocusDomRef=function(){if(this._oVM){return this._oVM.oVariantPopoverTrigger.getFocusDomRef()}return null};c.prototype.getManageDialog=function(){if(this._oVM){return this._oVM.oManagementDialog}return null};c.prototype.getVariants=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype.getTitle=function(){return this._oVM.getTitle()};c.prototype.refreshTitle=function(){this._oVM.refreshTitle()};c.prototype.setPopoverTitle=function(t){this._oVM.setPopoverTitle(t);return this};c.prototype.setHeaderLevel=function(t){this.setProperty("headerLevel",t);this._oVM.setLevel(t);return this};c.prototype.setTitleStyle=function(t){this.setProperty("titleStyle",t);this._oVM.setTitleStyle(t);return this};c.prototype.setEditable=function(t){this.setProperty("editable",t);this._oVM.setShowFooter(t);return this};c.prototype.setShowExecuteOnSelection=function(t){this._oVM.setSupportApplyAutomatically(t);return this};c.prototype.setShowSetAsDefault=function(t){this.setProperty("showSetAsDefault",t);this._oVM.setSupportDefault(t);return this};c.prototype.setExecuteOnSelectionForStandardDefault=function(t){this.setProperty("executeOnSelectionForStandardDefault",t);this._oVM.setExecuteOnSelectionForStandardDefault(t);return this};c.prototype.setDisplayTextForExecuteOnSelectionForStandardVariant=function(t){this.setProperty("displayTextForExecuteOnSelectionForStandardVariant",t);this._oVM.setDisplayTextForExecuteOnSelectionForStandardVariant(t);return this};c.prototype.setManualVariantKey=function(t){this.setProperty("manualVariantKey",t);this._oVM._setShowManualVariantKey(t);return this};c.prototype.setInErrorState=function(t){this.setProperty("inErrorState",t);this._oVM.setInErrorState(t);return this};c.prototype.openManagementDialog=function(t,e,a){this._oVM.openManagementDialog(t,e,a)};c.prototype.openSaveAsDialogForKeyUser=function(t,e){this._oVM.openSaveAsDialog(t,e)};c.prototype.setEditable=function(t){this._oVM.setProperty("showFooter",t);return this};c.prototype.setCurrentVariantKey=function(t){this._oVM.setSelectedKey(t)};c.prototype.getCurrentVariantKey=function(){return this._oVM.getSelectedKey()};c.prototype.setDefaultVariantKey=function(t){this._oVM.setDefaultKey(t)};c.prototype.getDefaultVariantKey=function(){return this._oVM.getDefaultKey()};c.prototype.getModified=function(){return this._oVM.getModified()};c.prototype.setModified=function(t){this._oVM.setModified(t)};c.prototype.getStandardVariantKey=function(){return this._oVM.getStandardVariantKey()};c.prototype._getEmbeddedVM=function(){return this._oVM};c.prototype._updateWithSettingsInfo=function(){r.getInstance().then(function(t){if(this._oVM){this._oVM.setShowSaveAs(t.isVariantPersonalizationEnabled());this._oVM.setSupportPublic(t.isPublicFlVariantEnabled())}}.bind(this)).catch(function(t){h.error(t)})};c.prototype.getModelName=function(){return this.getProperty("modelName")};c.prototype.setModelName=function(t){if(this.getModelName()){this.oContext=null;this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[]}this.setProperty("modelName",t);return this};c.prototype._setModel=function(){this._setBindingContext()};c.prototype._setBindingContext=function(){var e;var a;var n=this.getModelName();if(!this.oContext){e=this.getModel(n);if(e){a=this._getLocalId(e);if(a){this.oContext=new t(e,"/"+a);this.setBindingContext(this.oContext,n);if(e.registerToModel){e.registerToModel(this)}this.fireInitialized();this._oVM.setModel(e,n);this._oVM.setSupportDefault(true);this._createItemsModel(n);this._oVM.bindProperty("selectedKey",{path:this.oContext+"/currentVariant",model:n});this._oVM.bindProperty("defaultKey",{path:this.oContext+"/defaultVariant",model:n});this._oVM.bindProperty("modified",{path:this.oContext+"/modified",model:n});this._oVM.bindProperty("supportFavorites",{path:this.oContext+"/showFavorites",model:n});this._oVM.bindProperty("supportApplyAutomatically",{path:this.oContext+"/showExecuteOnSelection",model:n});this._oVM.bindProperty("showFooter",{path:this.oContext+"/variantsEditable",model:n});this._oVM.setPopoverTitle(this._oRb.getText("VARIANT_MANAGEMENT_VARIANTS"))}}}};c.prototype._createItemsModel=function(t){var i=new n({key:"{"+t+">key}",title:"{"+t+">title}",sharing:"{"+t+">sharing}",remove:"{"+t+">remove}",favorite:"{"+t+">favorite}",originalFavorite:"{"+t+">originalFavorite}",executeOnSelect:"{"+t+">executeOnSelect}",originalExecuteOnSelect:"{"+t+">originalExecuteOnSelect}",rename:"{"+t+">rename}",originalTitle:"{"+t+">originalTitle}",visible:"{"+t+">visible}",changeable:"{"+t+">change}",author:"{"+t+">author}",contexts:"{"+t+">contexts}",originalContexts:"{"+t+">originalContexts}"});this._oVM.bindAggregation("items",{path:this.oContext+"/variants",model:t,template:i,filters:new e({path:"visible",operator:a.EQ,value1:true})})};c.prototype._getLocalId=function(t){var e=this.getModelName();if(!e){return null}if(e!==o.getVariantModelName()){return this.getId()}return t.getVariantManagementReferenceForControl(this)};c.prototype._getInnerItems=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype._getInnerItemByKey=function(t){var e=null;var a=this._getInnerItems();a.some(function(a){if(a.key===t){e=a}return e!==null});return e};c.prototype.registerApplyAutomaticallyOnStandardVariant=function(t){this._fRegisteredApplyAutomaticallyOnStandardVariant=t;return this};c.prototype.getApplyAutomaticallyOnVariant=function(t){var e=false;if(t){e=t.executeOnSelect;if(this._fRegisteredApplyAutomaticallyOnStandardVariant&&this.getDisplayTextForExecuteOnSelectionForStandardVariant()&&t.key===this._oVM.getStandardVariantKey()){try{e=this._fRegisteredApplyAutomaticallyOnStandardVariant(t)}catch(t){h.error("callback for determination of apply automatically on standard variant failed")}}}return e};c.prototype.exit=function(){this._oVM.detachManage(this._fireManage,this);this._oVM.detachCancel(this._fireCancel,this);this._oVM.detachSelect(this._fireSelect,this);this._oVM.detachSave(this._fireSave,this);s.prototype.exit.apply(this,arguments);this._oVM=undefined;this._fRegisteredApplyAutomaticallyOnStandardVariant=null;this.oContext=undefined;this._oRb=undefined;this._aCancelEventHandlers=undefined;this._aSaveEventHandlers=undefined;this._aManageEventHandlers=undefined;this._aSelectEventHandlers=undefined};c.prototype.addFor=function(t){this.addAssociation("for",t);return this};return c});
/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/FlexInfoSession",["sap/ui/fl/apply/_internal/flexState/ManifestUtils"],function(e){"use strict";var n={};var t="sap.ui.fl.info.";function r(e){return t+(e||"true")}n.get=function(t){var r=e.getFlexReferenceForControl(t);return n.getByReference(r)};n.getByReference=function(e){return JSON.parse(window.sessionStorage.getItem(r(e)))};n.set=function(t,r){var o=e.getFlexReferenceForControl(r);n.setByReference(t,o)};n.setByReference=function(e,n){window.sessionStorage.setItem(r(n),JSON.stringify(e))};n.remove=function(n){var t=e.getFlexReferenceForControl(n);window.sessionStorage.removeItem(r(t))};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Storage",["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/write/_internal/StorageFeaturesMerger","sap/ui/fl/apply/_internal/flexObjects/States","sap/base/util/ObjectPath"],function(e,t,n,r){"use strict";var i="sap/ui/fl/write/_internal/connectors/";function a(){return e.getConnectors(i,false)}function o(e,t){var n=t.filter(function(t){return t.layers.indexOf("ALL")!==-1||t.layers.indexOf(e)!==-1});if(n.length===1){return n[0]}if(n.length===0){throw new Error("No Connector configuration could be found to write into layer: "+e)}if(n.length>1){throw new Error("sap.ui.core.Configuration 'flexibilityServices' has a misconfiguration: Multiple Connector configurations were found to write into layer: "+e)}}function u(t){var n=t.map(function(t){return t.writeConnectorModule.loadFeatures({url:t.url}).then(function(e){return{features:e,layers:t.layers}}).catch(e.logAndResolveDefault.bind(null,{features:{},layers:t.layers},t,"loadFeatures"))});return Promise.all(n)}function s(e){if(!e){return Promise.reject("No layer was provided")}return a().then(o.bind(this,e))}function l(e){if(e.draft){return new Promise(function(t,n){sap.ui.require(["sap/ui/fl/write/api/FeaturesAPI"],function(r){r.isVersioningEnabled(e.layer).then(function(r){if(r){t()}else{n("Draft is not supported for the given layer: "+e.layer)}})})})}return Promise.resolve()}function c(e,t){var r=t.filter(function(t){return t.getState()===n.LifecycleState.NEW&&t.getFileType()===e.getFileType()});var i=r.findIndex(function(t){return t.getId()===e.getId()});return i}function d(e){var t;if(e.allChanges&&e.allChanges.length&&e.condensedChanges){t={namespace:e.allChanges[0].convertToFileContent().namespace,layer:e.layer};var r=0;var i=false;e.allChanges.forEach(function(a,o){var u=a.getFileType();if(u==="ctrl_variant"){return}var s=c(a,e.condensedChanges);if(a.condenserState){var l=false;if(a.condenserState==="delete"){if(a.getState()===n.LifecycleState.PERSISTED){if(!t.delete){t.delete={}}if(!t.delete[u]){t.delete[u]=[]}t.delete[u].push(a.getId())}r++}else if(e.condensedChanges.length){l=e.allChanges[o].getId()!==e.condensedChanges[o-r].getId()}if((a.condenserState==="select"&&a.getState()!==n.LifecycleState.NEW||a.condenserState==="update")&&l&&!i){var d=e.condensedChanges.slice(o-r).map(function(e){return e.getId()});if(!t.reorder){t.reorder={}}if(!t.reorder[u]){t.reorder[u]=[]}t.reorder[u]=d;i=true}if(a.condenserState==="select"&&a.getState()===n.LifecycleState.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][s]={};t.create[u][s][a.getId()]=a.convertToFileContent()}else if(a.condenserState==="update"){if(!t.update){t.update={}}if(!t.update[u]){t.update[u]=[]}var f=t.update[u].length;t.update[u][f]={};t.update[u][f][a.getId()]={content:a.getContent()}}delete a.condenserState}else if(a.getState()===n.LifecycleState.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][s]={};t.create[u][s][a.getId()]=a.convertToFileContent()}})}return t}function f(e,t){return l(t).then(s.bind(undefined,t.layer)).then(function(n){t.url=n.url;var i=r.get(e,n.writeConnectorModule);return i.call(n.writeConnectorModule,t)})}var g={};g.write=function(e){return f("write",e)};g.condense=function(e){var t=d(e);if(!t){return Promise.reject("No changes were provided")}if(t.create||t.reorder||t.update||t.delete){e.flexObjects=t;return f("condense",e)}return Promise.resolve()};g.remove=function(e){return f("remove",e)};g.update=function(e){return f("update",e)};g.reset=function(e){return f("reset",e)};g.getFlexInfo=function(e){return f("getFlexInfo",e)};g.getContexts=function(e){return f("getContexts",e)};g.loadContextDescriptions=function(e){return f("loadContextDescriptions",e)};g.isContextSharingEnabled=function(e){return f("isContextSharingEnabled",e)};g.loadFeatures=function(){return a().then(u).then(t.mergeResults)};g.publish=function(e){return f("publish",e)};g.contextBasedAdaptation={create:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.create",e))}};g.versions={load:function(e){return a().then(f.bind(undefined,"versions.load",e))},activate:function(e){return a().then(f.bind(undefined,"versions.activate",e))},discardDraft:function(e){return a().then(f.bind(undefined,"versions.discardDraft",e))},publish:function(e){return a().then(f.bind(undefined,"versions.publish",e))}};g.translation={getSourceLanguages:function(e){return a().then(f.bind(undefined,"translation.getSourceLanguages",e))},getTexts:function(e){return a().then(f.bind(undefined,"translation.getTexts",e))},postTranslationTexts:function(e){return a().then(f.bind(undefined,"translation.postTranslationTexts",e))}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/StorageFeaturesMerger",["sap/base/util/merge"],function(e){"use strict";var n={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isPublicFlVariantEnabled:false,isVariantPersonalizationEnabled:true,isContextSharingEnabled:true,isContextSharingEnabledForComp:true,isAtoAvailable:false,isAtoEnabled:false,versioning:{},isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isZeroDowntimeUpgradeRunning:false,system:"",client:""};function i(e){var n={};var i=!!e.features.isVersioningEnabled;e.layers.forEach(function(e){n[e]=i});return n}return{mergeResults:function(a){var r=n;a.forEach(function(n){Object.keys(n.features).forEach(function(e){if(e!=="isVersioningEnabled"){r[e]=n.features[e]}});r.versioning=e(r.versioning,i(n));if(n.isContextSharingEnabled!==undefined&&n.isContextSharingEnabledForComp===undefined){r.isContextSharingEnabled=n.isContextSharingEnabled;r.isContextSharingEnabledForComp=n.isContextSharingEnabled}});return r}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Versions",["sap/ui/fl/registry/Settings","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Utils","sap/ui/fl/write/api/Version","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(e,r,t,n,i,s,a){"use strict";var o={};var f=9;var l=f+1;function d(e,r){var t=v(r);var o=[];var l=i.Number.Original;var d=false;return n.getUShellService("URLParsing").then(function(u){var c=n.getParameter(i.UrlParameter,u);if(!c){if(r.length>0){c=r[0].version}else{c=i.Number.Original}}r.forEach(function(e){if(e.version===i.Number.Draft){e.type=i.Type.Draft;e.isPublished=false;o=e.filenames}else{if(l===i.Number.Original){e.type=i.Type.Active;l=e.version}else{e.type=i.Type.Inactive}if(e.version===c&&e.isPublished===false){d=true}}});var p=new s({publishVersionEnabled:d,versioningEnabled:e,versions:r,activeVersion:l,backendDraft:t,dirtyChanges:false,draftAvailable:t,activateEnabled:t,persistedVersion:c,displayedVersion:c,draftFilenames:o});p.setDefaultBindingMode(a.OneWay);p.setSizeLimit(f);p.setDirtyChanges=function(e){p.setProperty("/dirtyChanges",e);p.updateDraftVersion();p.updateBindings(true)};p.updateDraftVersion=function(){var e=p.getProperty("/versions");var r=p.getProperty("/versioningEnabled");var t=p.getProperty("/dirtyChanges");var n=p.getProperty("/backendDraft");var s=r&&(t||n);p.setProperty("/draftAvailable",s);if(t){p.setProperty("/displayedVersion",i.Number.Draft)}if(!v(e)&&s){e.splice(0,0,{version:i.Number.Draft,type:i.Type.Draft,filenames:[],isPublished:false})}if(v(e)&&!s){e.shift();p.setProperty("/displayedVersion",p.getProperty("/persistedVersion"))}var a=p.getProperty("/displayedVersion")!==p.getProperty("/activeVersion");p.setProperty("/activateEnabled",a)};return p})}function u(e,r){var t=[];var n=r.changePersistences;n.forEach(function(e){t=e.getDirtyChanges().concat();t.forEach(function(r){e.deleteChange(r,true)})});return t.length>0}function c(e){var t={dirtyChangesExist:false,changePersistences:[]};if(e.reference){var n=r.getChangePersistenceForComponent(e.reference);if(n.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(n)}}if(e.nonNormalizedReference){var i=r.getChangePersistenceForComponent(e.nonNormalizedReference);if(i.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(i)}}return t}function v(e){return e.some(function(e){return e.version===i.Number.Draft})}var p={};p.initialize=function(r){var n=r.reference;var i=r.layer;r.limit=l;return e.getInstance().then(function(e){var s=e.isVersioningEnabled(i);var a=s?t.versions.load(r):Promise.resolve([]);return a.then(function(e){return d(s,e)}).then(function(e){o[n]=o[n]||{};o[n][i]=o[n][i]||{};o[n][i]=e;return o[n][i]})})};p.getVersionsModel=function(e){var r=e.reference;var t=e.layer;if(!p.hasVersionsModel(e)){throw Error("Versions Model for reference '"+r+"' and layer '"+t+"' were not initialized.")}var n=c(e);if(n.dirtyChangesExist){o[r][t].updateDraftVersion(e)}return o[r][t]};p.hasVersionsModel=function(e){var r=e.reference;var t=e.layer;return o[r]&&o[r][t]};p.clearInstances=function(){o={}};p.onAllChangesSaved=function(e){e.reference=n.normalizeReference(e.reference);var r=p.getVersionsModel(e);var t=r.getProperty("/versioningEnabled");var i=r.getProperty("/dirtyChanges");r.setProperty("/dirtyChanges",true);r.setProperty("/backendDraft",t&&i);r.updateDraftVersion()};p.activate=function(e){var r=p.getVersionsModel(e);var n=r.getProperty("/versions");var s=v(n);var a=r.getProperty("/activeVersion");if(e.displayedVersion===a){return Promise.reject("Version is already active")}e.version=e.displayedVersion;var o=c(e);var f=o.changePersistences;var l=f.some(function(e){return e.getDirtyChanges().length>0});if(l){return Promise.reject("unsaved changes exists")}return t.versions.activate(e).then(function(e){n.forEach(function(e){e.type=i.Type.Inactive});e.type=i.Type.Active;e.isPublished=false;if(s){n.shift()}n.splice(0,0,e);r.setProperty("/publishVersionEnabled",true);r.setProperty("/backendDraft",false);r.setProperty("/dirtyChanges",false);r.setProperty("/draftAvailable",false);r.setProperty("/publishVersionEnabled",true);r.setProperty("/activateEnabled",false);r.setProperty("/activeVersion",e.version);r.setProperty("/displayedVersion",e.version);r.setProperty("/persistedVersion",e.version);r.updateBindings(true)})};p.discardDraft=function(e){var r=p.getVersionsModel(e);var n=r.getProperty("/versions");var i=c(e);var s=r.getProperty("/backendDraft");var a=s?t.versions.discardDraft(e):Promise.resolve();return a.then(function(){n.shift();r.setProperty("/backendDraft",false);r.setProperty("/dirtyChanges",false);r.setProperty("/draftAvailable",false);r.setProperty("/activateEnabled",false);r.setProperty("/displayedVersion",r.getProperty("/persistedVersion"));r.updateBindings(true);var t=u(e,i);return{backendChangesDiscarded:s,dirtyChangesDiscarded:t}})};p.publish=function(e){var r=p.getVersionsModel({reference:n.normalizeReference(e.reference),layer:e.layer});return t.versions.publish(e).then(function(t){if(t!=="Error"&&t!=="Cancel"){r.setProperty("/publishVersionEnabled",false);var n=r.getProperty("/versions");var i=false;n.forEach(function(r){if(r.isPublished){return}if(r.version===e.version){i=true}if(i&&!r.isPublished){r.isPublished=true}})}return t})};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Condenser",["sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/UIChange","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/write/_internal/condenser/classifications/LastOneWins","sap/ui/fl/write/_internal/condenser/classifications/Reverse","sap/ui/fl/write/_internal/condenser/classifications/Update","sap/ui/fl/write/_internal/condenser/UIReconstruction","sap/ui/fl/write/_internal/condenser/Utils","sap/ui/fl/Utils","sap/ui/performance/Measurement","sap/base/util/restricted/_isEqual"],function(e,n,t,r,a,i,o,s,c,f,u,d,l,p,g,h,C,v){"use strict";var E={};var y="unclassified";var S={lastOneWins:u,reverse:d,update:l};var _=["affectedControl","sourceContainer","targetContainer","updateControl"];function I(e,n){var t=e[o.Move];return n.classification===o.Create&&t&&t[t.length-1].targetContainer===n.targetContainer}function m(e,n){return n.classification===o.Move&&e[o.Destroy]}function O(e,n){return n.classification===o.Create&&e[o.Destroy]}function b(e,n,t,r){if(!m(e,t)&&!O(e,t)){var a=t.classification;if(!e[a]){t.change=r;r.condenserState="select";e[a]=[t]}else{r.condenserState="delete"}e[a][0].updateChange=r}if(I(e,t)||O(e,t)){if(e[o.Move]){e[o.Move].forEach(function(e){e.change.condenserState="delete"});delete e[o.Move]}if(e[o.Destroy]){e[o.Destroy].forEach(function(e){e.change.condenserState="delete"});delete e[o.Destroy]}}return p.addChange(n,t)}function x(e,n,t){if(!e[n.classification]){e[n.classification]={}}var r=e[n.classification];S[n.classification].addToChangesMap(r,n,t);return Promise.resolve()}function N(e,n,t,r,a){if(!e[r.type]){e[r.type]={}}var i=e[r.type];if(r.type===g.NOT_INDEX_RELEVANT){return x(i,r,a)}t.push(a);return b(i,n,r,a)}function T(e,n,t){if(!e[n]){e[n]=[]}e[n].push(t);t.condenserState="select"}function A(e,n){var t=a.getControlIdBySelector(n.getSelector(),e);var r=i.byId(t);if(r){var o={modifier:a,appComponent:e,view:h.getViewForControl(r)};var c=s.getControlIfTemplateAffected(n,r,o);return Promise.resolve(s.getChangeHandler(n,c,o)).then(function(e){if(e&&typeof e.getCondenserInfo==="function"){return e.getCondenserInfo(n,o)}return undefined}).then(function(e){if(e&&c.bTemplateAffected){M(e,n)}return e}).catch(function(){return undefined})}return Promise.resolve()}function M(e,n){var t=n.getOriginalSelector();var r=n.getSelector();_.forEach(function(n){if(e[n]&&e[n]===r){e[n]=t}})}function D(e,n,t,r){var i=n!==undefined?n.affectedControl:a.getControlIdBySelector(t.getSelector(),r);if(!e[i]){e[i]={}}if(n&&n.updateControl){var o=n.updateControl;e[i]=Object.assign(e[i],e[o]);delete e[o]}return e[i]}function R(e,n,t,r,a){return a.reduce(function(a,i){return a.then(w.bind(this,e,n,t,r,i))}.bind(this),Promise.resolve())}function w(e,n,t,r,a){return A(e,a).then(function(i){U(i,e);var o=D(n,i,a,e);if(i!==undefined){L(i);return N(o,t,r,i,a).then(function(){if(i.update){P(o,i,a)}})}T(o,y,a);n[y]=true;return undefined})}function L(e){if(S[e.classification]){e.type=g.NOT_INDEX_RELEVANT}else{e.type=g.INDEX_RELEVANT}}function U(e,n){_.forEach(function(t){if(e&&e[t]){e[t]=a.getControlIdBySelector(e[t],n)}})}function P(e,n,r){var a=t.get([g.NOT_INDEX_RELEVANT,o.Update,n.uniqueKey],e);if(a){a.change.condenserState="delete";if(r.condenserState==="delete"){return}n.update(r,a.updateContent);if(r.getState()===f.LifecycleState.PERSISTED){r.condenserState="update"}}}function j(t,r){e(t,function(e,a){if(S[e]&&S[e].getChangesFromMap){S[e].getChangesFromMap(t,e).forEach(function(e){r.push(e)})}else if(n(a)){return j(a,r)}else if(Array.isArray(a)){a.forEach(function(e){if(e instanceof c){r.push(e)}else{r.push(e.change)}})}});return r}function V(e){return j(e,[])}function X(t,r){e(t,function(e,t){if(n(t)){X(t,r)}else if(Array.isArray(t)){t.forEach(function(e){if(!(e instanceof c)){r.push(e)}})}});return r}function B(e,n){n.sort(function(n,t){return e.indexOf(n)-e.indexOf(t)})}function F(e,n){n.sort(function(n,t){return e.indexOf(n.change)-e.indexOf(t.change)})}function W(e,n){var t=e.map(function(e){return e.getId()});n.forEach(function(n){if(t.indexOf(n.getId())===-1){e.push(n)}})}function q(e,n){e.forEach(function(e){var t=e.updateChange;if(t&&!v(t.getContent(),e.change.getContent())&&t.getState()!==f.LifecycleState.NEW){var r=e.change;if(t.getId()!==r.getId()){var a=r.getContent();t.setContent(a);r.condenserState="delete";n=n.map(function(e){if(e.getId()===r.getId()){return t}return e})}else{t.setState(f.LifecycleState.DIRTY)}t.condenserState="update"}});return n}E.condense=function(e,n){C.start("Condenser_overall","Condenser overall - CondenserClass",["sap.ui.fl","Condenser"]);var t={};var a={};var i=[];var o=[];var s=[];n.slice(0).reverse().forEach(function(e){if(e instanceof c&&e.isSuccessfullyApplied()){s.push(e)}else{o.push(e)}});C.start("Condenser_defineMaps","defining of maps - CondenserClass",["sap.ui.fl","Condenser"]);return R(e,t,a,i,s).then(function(){C.end("Condenser_defineMaps");var e=t[y];if(!e){p.compareAndUpdate(t,a)}var s=V(t);if(e){i.forEach(function(e){e.condenserState="select"});W(s,i)}s=s.concat(o);B(n,s);if(!e){C.start("Condenser_handleIndexRelatedChanges","handle index related changes - CondenserClass",["sap.ui.fl","Condenser"]);var c=true;var f=X(t,[]);F(n,f);var u;try{C.start("Condenser_sort","sort index related changes - CondenserClass",["sap.ui.fl","Condenser"]);u=p.sortIndexRelatedChanges(a,f)}catch(e){r.error("Error during Condensing: "+e.message,"No Condensing performed for index-relevant changes.");c=false}C.end("Condenser_sort");if(c){s=q(f,s);B(n,s);u.forEach(function(e){p.swapChanges(e,s)})}else{i.forEach(function(e){e.condenserState="select"});W(s,i);B(n,s)}C.end("Condenser_handleIndexRelatedChanges")}C.end("Condenser_overall");return s})};return E});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/UIReconstruction",["sap/base/util/restricted/_isEqual","sap/base/util/each","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/write/_internal/condenser/classifications/Create","sap/ui/fl/write/_internal/condenser/classifications/Destroy","sap/ui/fl/write/_internal/condenser/classifications/Move","sap/ui/fl/write/_internal/condenser/Utils"],function(n,e,t,i,r,a,c){"use strict";var o={};var f={create:i,destroy:r,move:a};function u(n,t){e(n,function(n,i){e(i,function(e,r){t(i,n,r,e)})})}function s(n,e,t){n.splice(t,0,n.splice(e,1)[0])}function l(n,e){var t={};u(n,function(n,i,r,a){var o=r[c.TARGET_UI];o.forEach(function(n){e.forEach(function(e){if(n===e.affectedControl){if(!t[i]){t[i]={}}var r=t[i];if(!r[a]){r[a]=[]}var c=r[a];c.push(e)}})})});return t}function h(n){return!n.some(function(n){return n.classification!==t.Create})}function v(n){return!n.some(function(n){return c.isUnknown(n)})}function d(n){return n.getTargetIndex(n.change)}function E(n){n.sort(function(n,e){var t=d(n);var i=d(e);return t-i})}function g(n){return!n.some(function(n){return!c.isUnknown(n)})}function I(e,t){var i;if(e.length<t.length){i=t.slice(e.length);if(!g(i)){return false}t=t.slice(0,e.length)}else if(e.length>t.length){i=e.slice(t.length,e.length);if(!g(i)){return false}e=e.slice(0,t.length)}return n(e,t)}function p(n,e,t,i,r){var a={};r.forEach(function(n){var i=n.targetContainer;if(!a[i]){a[i]={}}var r=a[i];if(!r[e]){r[e]=c.initializeArrayWithPlaceholders(0,t.length-1)}f[n.classification].simulate(r[e],n,t)});var o=a[n][e];if(I(i,o)){return true}return false}function T(n,i){function r(n,e){var t=e.change.getState();e.setTargetIndex(e.change,n);e.change.setState(t)}function a(i,a,o){o[c.TARGET_UI].forEach(function(i,a){if(!c.isUnknown(i)){var o=n[i];var f=o[c.INDEX_RELEVANT];e(f,function(n,e){if(n!==t.Destroy){e.forEach(r.bind(this,a))}})}})}u(i,a)}function _(n,t){u(t,function(t,i,r,a){var o=r[c.INITIAL_UI];var f=r[c.TARGET_UI];if(I(o,f)){f.forEach(function(t){var i=n[t];if(i!==undefined){e(i[c.INDEX_RELEVANT],function(n,e){e.forEach(function(n){n.change.condenserState="delete"})});delete i[c.INDEX_RELEVANT]}});delete t[a]}})}function A(n,e){u(e,function(e,t,i){var r=i[c.INITIAL_UI];var a=i[c.TARGET_UI];r.forEach(function(e,t){var i=n[e];if(!i||!i[c.INDEX_RELEVANT]){var r=c.PLACEHOLDER+t;var o=a.indexOf(e);if(o>=0){a[o]=r}}})})}o.swapChanges=function(n,e){var t=n.map(function(n){return e.indexOf(n)}).sort();n.forEach(function(n){e[t.shift()]=n})};o.sortIndexRelatedChanges=function(n,e){var t=[];var i=l(n,e);u(i,function(e,i,r,a){var o=n[i][a][c.TARGET_UI];var f=n[i][a][c.INITIAL_UI];var u=true;if(v(o)||h(r)){E(r)}else if(!p(i,a,f,o,r)){u=false;var l=r.length;while(l!==0&&!u){var d=0;var g=1;while(g<r.length&&!u){s(r,d,g);u=p(i,a,f,o,r);d++;g++}l--}}if(!u){throw Error("no correct sorting found for the container: "+i)}t.push(r.map(function(n){return n.change}))});return t};o.addChange=function(n,e){return f[e.classification].addToReconstructionMap(n,e)};o.compareAndUpdate=function(n,e){_(n,e);A(n,e);T(n,e)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Utils",["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core"],function(e,n){"use strict";var i={};i.TARGET_UI="targetUI";i.INITIAL_UI="initialUI";i.PLACEHOLDER="X";i.INDEX_RELEVANT="indexRelevant";i.NOT_INDEX_RELEVANT="notIndexRelevant";function t(e,n){return(Math.max(e,n)||0)+1}i.getInitialUIContainerElementIds=function(e,n,t,r){if(!e[n]){e[n]={}}var a=e[n];if(!a[t]){a[t]={}}var l=a[t];if(!l[i.TARGET_UI]){l[i.TARGET_UI]=r}if(!l[i.INITIAL_UI]){l[i.INITIAL_UI]=r.slice(0)}return l[i.INITIAL_UI]};i.getContainerElementIds=function(i,t){var r=n.byId(i);return Promise.resolve().then(e.getAggregation.bind(e,r,t)).then(function(e){return e.map(function(e){return e.getId()})})};i.initializeArrayWithPlaceholders=function(e,n){var r=t(n,e);return Array(r).fill(i.PLACEHOLDER).map(function(e,n){return e+n})};i.extendArrayWithPlaceholders=function(e,n,r){var a=t(n,r);if(e.length<a){var l;for(var f=e.length;f<=a;f++){l=i.PLACEHOLDER+e.length;e.splice(e.length,0,l)}}};i.extendElementsArray=function(e,n,t,r){i.extendArrayWithPlaceholders(e,n,t);var a=e.indexOf(r);var l=e.indexOf(i.PLACEHOLDER+n);if(a!==n&&n!==undefined){if(a>=0){i.shiftElement(e,a,n)}else if(l>-1){e[l]=r}else if(i.isUnknown(e[n])){e[n]=r}}};i.shiftElement=function(e,n,i){e.splice(i,0,e.splice(n,1)[0])};i.isUnknown=function(e){if(e!==undefined&&e.indexOf(i.PLACEHOLDER)===0){var n=e.slice(1,e.length);var t=parseInt(n);if(isNaN(t)){return false}return true}return false};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Create",["sap/ui/core/Core","sap/ui/fl/write/_internal/condenser/Utils"],function(e,t){"use strict";return{addToReconstructionMap:function(n,r){var a=e.byId(r.affectedControl);var i=r.targetAggregation||a&&a.sParentAggregationName;return t.getContainerElementIds(r.targetContainer,i).then(function(e){var a=t.getInitialUIContainerElementIds(n,r.targetContainer,r.targetAggregation,e);var i=a.indexOf(r.affectedControl);if(i>-1){a.splice(i,1)}})},simulate:function(e,t){e.splice(t.getTargetIndex(t.change),0,t.affectedControl)}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Destroy",["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(n,t){return e.getContainerElementIds(t.targetContainer,t.targetAggregation).then(function(i){var r=e.getInitialUIContainerElementIds(n,t.targetContainer,t.targetAggregation,i);if(r.length-1<t.sourceIndex){while(r.length-1<t.sourceIndex){var a=r.length;r.splice(r.length,0,e.PLACEHOLDER+a)}r[t.sourceIndex]=t.affectedControl}else{r.splice(t.sourceIndex,0,t.affectedControl)}})},simulate:function(n,t,i){var r=n.indexOf(t.affectedControl);if(r===-1){var a=e.PLACEHOLDER+i.indexOf(t.affectedControl);r=n.indexOf(a)}if(r>-1){n.splice(r,1)}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/LastOneWins",[],function(){"use strict";return{addToChangesMap:function(e,n,i){if(!e[n.uniqueKey]){e[n.uniqueKey]=[i];i.condenserState="select"}else{i.condenserState="delete"}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Move",["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(t,n){return Promise.all([e.getContainerElementIds(n.sourceContainer,n.sourceAggregation),e.getContainerElementIds(n.targetContainer,n.targetAggregation)]).then(function(r){var i=r[0];var a=r[1];var o;var g;if(n.targetContainer===n.sourceContainer&&n.targetAggregation===n.sourceAggregation){o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,a);g=o.indexOf(n.affectedControl);e.shiftElement(o,g,n.sourceIndex)}else{o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,a);g=o.indexOf(n.affectedControl);o.splice(g,1);o=e.getInitialUIContainerElementIds(t,n.sourceContainer,n.sourceAggregation,i);o.splice(n.sourceIndex,0,n.affectedControl)}})},simulate:function(t,n,r){var i=n.affectedControl;var a=r.indexOf(i);e.extendElementsArray(t,a,undefined,i);var o=t.indexOf(i);var g=n.getTargetIndex(n.change);if(a===-1){t.splice(g,0,i)}else{t.splice(g,0,t.splice(o,1)[0])}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Reverse",["sap/base/util/each"],function(e){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){e[n.uniqueKey]=[]}e[n.uniqueKey].push(t)},getChangesFromMap:function(n,t){var a=[];e(n[t],function(e,n){n.reverse();var t;n.forEach(function(e,a){if(t&&t.getChangeType()!==e.getChangeType()){t=null;n[a].condenserState="delete";n[a-1].condenserState="delete"}else{t=e;if(a>0){n[a-1].condenserState="delete"}n[a].condenserState="select"}});if(t){a.push(t)}});return a}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Update",[],function(){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){n.change=t;e[n.uniqueKey]=n;t.condenserState="select"}else{t.condenserState="delete"}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/Version",[],function(){"use strict";return{Number:{Original:"-1",Draft:"0"},UrlParameter:"sap-ui-fl-version",Type:{Active:"active",Draft:"draft",Inactive:"inactive"}}});
/*!
 * SAPUI5

(c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/ui/generic/app/navigation/service/NavError",["sap/fe/navigation/NavError"],function(r){"use strict";var e=r.extend("sap.ui.generic.app.navigation.service.NavError",{metadata:{publicMethods:["getErrorCode"],properties:{},library:"sap.ui.generic.app"},constructor:function(e){r.apply(this);this._sErrorCode=e}});e.prototype.getErrorCode=function(){return this._sErrorCode};return e});
/*!
 * SAPUI5

(c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/ui/generic/app/navigation/service/SelectionVariant",["sap/fe/navigation/SelectionVariant","./NavError"],function(t,e){"use strict";var r=t.extend("sap.ui.generic.app.navigation.service.SelectionVariant",{constructor:function(r){try{t.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},getID:function(){return t.prototype.getID.apply(this)},setID:function(e){t.prototype.setID.apply(this,[e])},setText:function(r){try{t.prototype.setText.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},getText:function(){return t.prototype.getText.apply(this)},setParameterContextUrl:function(r){try{t.prototype.setParameterContextUrl.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},getParameterContextUrl:function(){return t.prototype.getParameterContextUrl.apply(this)},getFilterContextUrl:function(){return t.prototype.getFilterContextUrl.apply(this)},setFilterContextUrl:function(r){try{t.prototype.setFilterContextUrl.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},addParameter:function(r,o){try{t.prototype.addParameter.apply(this,[r,o]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},removeParameter:function(r){try{t.prototype.removeParameter.apply(this,[r]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},renameParameter:function(r,o){try{t.prototype.renameParameter.apply(this,[r,o]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},getParameter:function(r){try{return t.prototype.getParameter.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},getParameterNames:function(){return t.prototype.getParameterNames.apply(this)},addSelectOption:function(r,o,n,p,i){try{t.prototype.addSelectOption.apply(this,[r,o,n,p,i]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},removeSelectOption:function(r){try{t.prototype.removeSelectOption.apply(this,[r]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},renameSelectOption:function(r,o){try{t.prototype.renameSelectOption.apply(this,[r,o]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},getSelectOption:function(r){try{return t.prototype.getSelectOption.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},getSelectOptionsPropertyNames:function(){return t.prototype.getSelectOptionsPropertyNames.apply(this)},getPropertyNames:function(){return t.prototype.getPropertyNames.apply(this)},massAddSelectOption:function(r,o){try{t.prototype.massAddSelectOption.apply(this,[r,o]);return this}catch(t){if(t){throw new e(t._sErrorCode)}}},getValue:function(r){try{return t.prototype.getValue.apply(this,[r])}catch(t){if(t){throw new e(t._sErrorCode)}}},isEmpty:function(){return t.prototype.isEmpty.apply(this)},toJSONObject:function(){return t.prototype.toJSONObject.apply(this)},toJSONString:function(){return t.prototype.toJSONString.apply(this)}});return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/Grid",["sap/ui/core/Control","./library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/base/ManagedObjectObserver","./GridRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,n,o){"use strict";var r=e.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/Grid.designtime"},renderer:n});(function(){r.prototype.init=function(){var e=t.GridHelper.getLibrarySpecificClass();if(e){this.addStyleClass(e)}this._iBreakPointTablet=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;this._oObserver=new a(r.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]})};r.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=s.register(this,o.proxy(this._onParentResize,this));this._onParentResize()}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)}};r.prototype.onBeforeRendering=function(){this._cleanup()};r.prototype.exit=function(){this._cleanup();if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}};r.prototype._cleanup=function(){if(this._sContainerResizeListener){s.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null}this._detachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)};r.prototype._observeVisibility=function(e){this._oObserver.observe(e,{properties:["visible"]})};r.prototype._unobserveVisibility=function(e){this._oObserver.unobserve(e,{properties:["visible"]})};r.prototype._observeChanges=function(e){var t=e.object,i=e.name,s=e.mutation,a=e.child;if(t===this){if(s==="insert"){this._observeVisibility(a)}else if(s==="remove"){this._unobserveVisibility(a)}}else if(i==="visible"){var n=this.getContent().indexOf(t);o(this.$().children()[n]).toggleClass("sapUiRespGridSpanInvisible",!e.current)}};r.prototype._handleMediaChange=function(e){this._toggleClass(e.name)};r.prototype._setBreakPointTablet=function(e){this._iBreakPointTablet=e};r.prototype._setBreakPointDesktop=function(e){this._iBreakPointDesktop=e};r.prototype._setBreakPointLargeDesktop=function(e){this._iBreakPointLargeDesktop=e};r.prototype.setDefaultIndent=function(e){if(/XL/gi.test(e)){this._setIndentXLChanged(true)}return this.setProperty("defaultIndent",e)};r.prototype._setIndentXLChanged=function(e){this._indentXLChanged=e};r.prototype._getIndentXLChanged=function(){return this._indentXLChanged};r.prototype.setDefaultSpan=function(e){if(/XL/gi.test(e)){this._setSpanXLChanged(true)}return this.setProperty("defaultSpan",e)};r.prototype._setSpanXLChanged=function(e){this._spanXLChanged=e};r.prototype._getSpanXLChanged=function(){return this._spanXLChanged};r.prototype._onParentResize=function(){var e=this.getDomRef();if(!e){this._cleanup();return}if(!o(e).is(":visible")){return}var t=e.clientWidth;if(t<=this._iBreakPointTablet){this._toggleClass("Phone")}else if(t>this._iBreakPointTablet&&t<=this._iBreakPointDesktop){this._toggleClass("Tablet")}else if(t>this._iBreakPointDesktop&&t<=this._iBreakPointLargeDesktop){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}};r.prototype._toggleClass=function(e){var t=this.$();if(!t){return}if(t.hasClass("sapUiRespGridMedia-Std-"+e)){return}t.toggleClass("sapUiRespGridMedia-Std-"+e,true);if(e==="Phone"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="Tablet"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="LargeDesktop"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false)}else{t.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}this.fireEvent("mediaChanged",{media:e})};r.prototype._getLayoutDataForControl=function(e){var t=e.getLayoutData();if(!t){return undefined}else if(t.isA("sap.ui.layout.GridData")){return t}else if(t.isA("sap.ui.core.VariantLayoutData")){var i=t.getMultipleLayoutData();for(var s=0;s<i.length;s++){var a=i[s];if(a&&a.isA("sap.ui.layout.GridData")){return a}}}};r.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};r.prototype._getAccessibleRole=function(){return null};r.prototype.getAccessibilityInfo=function(){return{children:this.getContent().filter(function(e){return e.$().is(":visible")})}}})();return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridRenderer",["sap/ui/Device","sap/ui/layout/library"],function(e,s){"use strict";var a=s.GridPosition;var i={apiVersion:2};i.render=function(s,i){var r=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var t=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;s.openStart("div",i);s.class("sapUiRespGrid");var p=i._getCurrentMediaContainerRange(e.media.RANGESETS.SAP_STANDARD_EXTENDED).name;s.class("sapUiRespGridMedia-Std-"+p);var n=i.getHSpacing();if(n===.5){n="05"}else if(n!==0&&n!==1&&n!==2){n=1}s.class("sapUiRespGridHSpace"+n);var l=i.getVSpacing();if(l===.5){l="05"}else if(l!==0&&l!==1&&l!==2){l=1}s.class("sapUiRespGridVSpace"+l);var d=i.getPosition();if(d){d=d.toUpperCase();if(d===a.Center.toUpperCase()){s.class("sapUiRespGridPosCenter")}else if(d===a.Right.toUpperCase()){s.class("sapUiRespGridPosRight")}}var f=i.getWidth();if(f!=="100%"&&f!=="auto"&&f!=="inherit"){if(n===0){s.style("width",f)}else{s.style("width","-webkit-calc("+f+" - "+n+"rem)");s.style("width","calc("+f+" - "+n+"rem)")}}var v=i._getAccessibleRole();var c;if(v){c={role:v}}s.accessibilityState(i,c);s.openEnd();var g=i.getContent();var o=i.getDefaultSpan();var L=["","XL3","L3","M6","S12"];var S=["","XL0","L0","M0","S0"];var u=t.exec(o);var U=i._getSpanXLChanged();var R=i._getIndentXLChanged();var G=i.getDefaultIndent();var b=r.exec(G);for(var X=0;X<g.length;X++){s.openStart("div",i.getId()+"-wrapperfor-"+g[X].getId());var h=i._getLayoutDataForControl(g[X]);var C=false;if(!g[X].getVisible()){s.class("sapUiRespGridSpanInvisible")}if(h){var I=false;if(h.getLinebreak()===true){s.class("sapUiRespGridBreak")}else{if(h.getLinebreakXL()===true){I=true;s.class("sapUiRespGridBreakXL")}if(h.getLinebreakL()===true){if(!I&&!h._getLinebreakXLChanged()){s.class("sapUiRespGridBreakXL")}s.class("sapUiRespGridBreakL")}if(h.getLinebreakM()===true){s.class("sapUiRespGridBreakM")}if(h.getLinebreakS()===true){s.class("sapUiRespGridBreakS")}}var M;var k;var y=h.getSpan();if(!y){M=u}else{M=t.exec(y);if(/XL/gi.test(y)){C=true}}if(M){for(var _=1;_<M.length;_++){var w=M[_];if(!w){w=u[_];if(!w){w=L[_]}}if(w.substr(0,1)==="L"){k=w.substr(1,2)}var B=h.getSpanXL();var D=h.getSpanL();var V=h.getSpanM();var x=h.getSpanS();w=w.toUpperCase();if(w.substr(0,2)==="XL"&&B>0&&B<13){s.class("sapUiRespGridSpanXL"+B);C=true}else if(w.substr(0,1)==="L"&&D>0&&D<13){s.class("sapUiRespGridSpanL"+D);k=D}else if(w.substr(0,1)==="M"&&V>0&&V<13){s.class("sapUiRespGridSpanM"+V)}else if(w.substr(0,1)==="S"&&x>0&&x<13){s.class("sapUiRespGridSpanS"+x)}else{if(w.substr(0,2)!=="XL"||U||C){s.class("sapUiRespGridSpan"+w)}}}if(!U&&!C){s.class("sapUiRespGridSpanXL"+k)}}var E;var H;var A=h.getIndent();if(!A||A.length==0){E=b}else{E=r.exec(A);if(/XL/gi.test(A)){R=true}}if(!E){E=b;if(!E){E=undefined}}var P=h.getIndentXL();var m=h.getIndentL();var F=h.getIndentM();var N=h.getIndentS();if(E){for(var _=1;_<E.length;_++){var T=E[_];if(!T){if(b&&b[_]){T=b[_]}else{T=S[_]}}if(T){T=T.toUpperCase();if(T.substr(0,1)==="L"){H=T.substr(1,2)}if(T.substr(0,2)==="XL"&&P>0&&P<12){s.class("sapUiRespGridIndentXL"+P);R=true}else if(T.substr(0,1)==="L"&&m>0&&m<12){s.class("sapUiRespGridIndentL"+m);H=m}else if(T.substr(0,1)==="M"&&F>0&&F<12){s.class("sapUiRespGridIndentM"+F)}else if(T.substr(0,1)==="S"&&N>0&&N<12){s.class("sapUiRespGridIndentS"+N)}else{if(!/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(T)){s.class("sapUiRespGridIndent"+T)}}}}if(!R){if(H&&H>0){s.class("sapUiRespGridIndentXL"+H)}}}if(!h.getVisibleXL()){s.class("sapUiRespGridHiddenXL")}if(!h.getVisibleL()){s.class("sapUiRespGridHiddenL")}if(!h.getVisibleM()){s.class("sapUiRespGridHiddenM")}if(!h.getVisibleS()){s.class("sapUiRespGridHiddenS")}var $=h.getMoveBackwards();if($&&$.length>0){var W=r.exec($);if(W){for(var _=1;_<W.length;_++){var j=W[_];if(j){s.class("sapUiRespGridBwd"+j.toUpperCase())}}}}var q=h.getMoveForward();if(q&&q.length>0){var z=r.exec(q);if(z){for(var _=1;_<z.length;_++){var J=z[_];if(J){s.class("sapUiRespGridFwd"+J.toUpperCase())}}}}if(typeof h._sStylesInternal==="string"){var K=h._sStylesInternal.split(" ");for(var O=0;O<K.length;O++){s.class(K[O])}}}if(!h){var w="";if(u){for(var _=1;_<u.length;_++){w=u[_];if(!w){if(_===1&&u[_+1]){w="X"+u[_+1]}else{w=L[_]}}s.class("sapUiRespGridSpan"+w.toUpperCase())}}else{for(var _=1;_<L.length;_++){w=L[_];s.class("sapUiRespGridSpan"+w.toUpperCase())}}var T="";if(b){for(var _=1;_<b.length;_++){T=b[_];if(!T){if(_===1&&b[_+1]){T="X"+b[_+1]}else{T=S[_]}}if(T.substr(0,1)!=="X"&&T.substr(1,1)!=="0"||T.substr(0,1)=="X"&&T.substr(2,1)!=="0"){s.class("sapUiRespGridIndent"+T.toUpperCase())}}}}s.openEnd();s.renderControl(g[X]);s.close("div")}s.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayout",["sap/ui/core/Control","./library","./HorizontalLayoutRenderer"],function(e,t,a){"use strict";var o=e.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designtime:"sap/ui/layout/designtime/HorizontalLayout.designtime",dnd:{draggable:false,droppable:true}},renderer:a});o.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayoutRenderer",[],function(){"use strict";var r={apiVersion:2};r.render=function(r,a){var e=r;var n=!a.getAllowWrapping();e.openStart("div",a);e.class("sapUiHLayout");if(n){e.class("sapUiHLayoutNoWrap")}e.openEnd();var o=a.getContent();for(var t=0;t<o.length;t++){if(n){e.openStart("div");e.class("sapUiHLayoutChildWrapper");e.openEnd()}e.renderControl(o[t]);if(n){e.close("div")}}e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayout",["sap/ui/core/Control","sap/ui/core/EnabledPropagator","./library","./VerticalLayoutRenderer"],function(e,t,a,r){"use strict";var i=e.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"},renderer:r});i.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};t.call(i.prototype);return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayoutRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var i=e;i.openStart("div",t);i.class("sapUiVlt");i.class("sapuiVlt");if(t.getWidth()&&t.getWidth()!=""){i.style("width",t.getWidth())}i.openEnd();var r=t.getContent();for(var a=0;a<r.length;a++){i.openStart("div");i.class("sapUiVltCell");i.class("sapuiVltCell");i.openEnd();i.renderControl(r[a]);i.close("div")}i.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Storage",["sap/base/assert"],function(t){"use strict";var e="state.key_";var n=function(r,i){var s="unknown",u=(i||e)+"-",o;if(!r||typeof r==="string"){s=r||n.Type.session;try{o=window[s+"Storage"];if(o){var f=u+"___sapui5TEST___";o.setItem(f,"1");o.removeItem(f)}}catch(t){o=null}}else if(typeof r==="object"){s=r.getType?r.getType():"unknown";o=r}var a=function(t){try{if(this.isSupported()){t();return true}}catch(t){return false}return false}.bind(this);this.isSupported=function(){return typeof o.isSupported=="function"?o.isSupported():true};this.put=function(e,n){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");return a(function(){o.setItem(u+e,JSON.stringify(n))})};this.get=function(e){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");var n;a(function(){n=JSON.parse(o.getItem(u+e))});return n!==undefined?n:null};this.remove=function(e){t(typeof e==="string"&&e.length>0,"key must be a non-empty string");return a(function(){o.removeItem(u+e)})};this.removeAll=function(t){return a(function(){var e=u+(t||""),n=[],r,i;for(i=0;i<o.length;i++){r=o.key(i);if(r&&r.startsWith(e)){n.push(r)}}for(i=0;i<n.length;i++){o.removeItem(n[i])}})};this.clear=function(){return a(function(){o.clear()})};this.getType=function(){return s}};n.Type={local:"local",session:"session"};Object.assign(n,new n);return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/AppInfoParameters",["sap/base/Log","sap/ushell/services/AppConfiguration","sap/base/util/restricted/_curry","sap/base/util/restricted/_zipObject","sap/ui/VersionInfo","sap/ushell/Config"],function(e,n,r,t,i,a){"use strict";var o="LAUNCHPAD";function u(e){var n=e.applicationType;if(n==="TR"){n="GUI"}return n}function p(){return n.getCurrentApplication().appCapabilities||{}}function c(n){function r(e){return(e.version||"")+(" ("+(e.buildTimestamp||"")+")")||""}if(u(n)==="UI5"){return i.load().then(r).catch(function(){e.error("VersionInfo could not be loaded")})}return undefined}function s(e){return Promise.resolve().then(function(){var n=e.componentInstance;if(n){var r=n.getManifestEntry("/sap.app/applicationVersion/version");return r}return undefined})}function f(e){var n=e.getTechnicalParameter("sap-ach");return n.then(function(e){var n=e&&e[0];if(n){return n}return p().appSupportInfo})}function l(e){function r(){var e=n.getMetadata();return e.technicalName}var t={UI5:function(){var n=e.componentInstance;if(n){var t=n.getMetadata().getManifestEntry("/sap.ui5/componentName");if(!t){t=n.getMetadata().getComponentName()}return t}return r()},TR:function(){return(r()||"").replace(/\s[(]TCODE[)]$/,"")},WDA:r,NWBC:r,URL:function(){return Promise.resolve().then(function(){var e=n.getCurrentApplication();if(e.appCapabilities.technicalAppComponentId){return e.appCapabilities.technicalAppComponentId}return undefined})}};var i=e.applicationType;if(t.hasOwnProperty(i)){return t[i]()}return undefined}function d(e){var n="";return e.getTechnicalParameter("sap-fiori-id").then(function(r){if(e.homePage){if(r&&typeof r[0]==="string"){if(r[0]!==""){n=o+" ("+r[0]+")"}else{n=o}}else{n=o}}else if(r&&typeof r[0]==="string"){n=r[0]}else{n=p().appId||e.inboundPermanentKey}return n})}function m(e){return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(n){return new Promise(function(r,t){n.resolveReferences([e]).then(function(n){r(n[e])}).catch(t)})})}function h(e){return Promise.resolve().then(function(){var r=n.getCurrentApplication();var t=u(e);if(t&&t!=="URL"){return t}return r.appCapabilities&&r.appCapabilities.appFrameworkId}).then(function(e){var n={NWBC:"WDA",TR:"GUI"};return n[e]||e})}function v(e,n){return n.getSystemContext().then(function(n){return n.getProperty(e)})}function g(){var e=window.hasher&&window.hasher.getHash();if(!e){return Promise.reject("Could not identify current application hash")}return Promise.resolve().then(function(){return e})}var C={theme:m.bind(null,"User.env.sap-theme-NWBC"),languageTag:m.bind(null,"User.env.sap-languagebcp47"),appIntent:g,appFrameworkId:h,appFrameworkVersion:c,appSupportInfo:f,technicalAppComponentId:l,appId:d,appVersion:s,productName:r(v)("productName")};function I(e){return!C[e]&&/[.]/.test(e)}function P(n,i){var a=n.map(function(n){if(I(n)){C[n]=r(v)(n)}if(!C[n]){e.error(n+" is not a valid app info parameter");return undefined}return C[n](i)});return Promise.all(a).then(function(e){return t(n,e)})}return{getInfo:function(e,n){if(!n){return Promise.reject("Parameter application missing")}return P(["appFrameworkId"],n).then(function(){return P(e,n)})}}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/CanvasShapesManager",["sap/ui/Device","sap/ui/core/theming/Parameters"],function(e,t){"use strict";var n=function(e,t){this.x=e||0;this.y=t||0};n.prototype.getDistance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.floor(Math.sqrt(t*t+n*n))};n.prototype.getSegment=function(e){if(this.x<=e.x&&this.y<=e.y){return 1}if(this.x<=e.x&&this.y>=e.y){return 2}if(this.x>=e.x&&this.y>=e.y){return 3}if(this.x>=e.x&&this.y<=e.y){return 4}};n.prototype.offset=function(e,t){this.x=this.x+e;this.y=this.y+t};var i=function(e,t,n,i){this.x={min:e,max:t};this.y={min:n,max:i}};var r=window.innerWidth>0?window.innerWidth:screen.width,o=window.innerHeight>0?window.innerHeight:screen.height,s={cpr1:new i(0,r/4,0,o/4),cpr2:new i(r/2,r,0,o/4),cpr3:new i(r/4,3*r/4,o*3/4,o)},a=function(){this.init()};a.prototype={radiusRange:{min:800,max:900},init:function(){this.Id="shell-shapes";var t={cpr1:s.cpr1,cpr2:s.cpr2,cpr3:s.cpr3},n,i,r,o,a;this.shapes=[];this.bIsDirty=true;for(a in t){n=Math.random(this.radiusRange.max-this.radiusRange.min)+this.radiusRange.min;i=this.getRandomPoint(t[a]);r=this._getSquarePoints(n,i);o=this._calculatebezierCurves(n,r);this.shapes.push({bezierCurves:o,centerPoint:i})}for(var h in this.shapes){var u=this._generateRandomAmorphousShapeValues();this.shapes[h]=this.makeAmorphousShape(this.shapes[h],u.edge0.edgeNum,u.edge0.xOffSet,u.edge0.yOffSet,u.edge0.xStretch);this.shapes[h]=this.makeAmorphousShape(this.shapes[h],u.edge1.edgeNum,u.edge1.xOffSet,u.edge1.yOffSet,u.edge1.xStretch)}sap.ui.getCore().attachThemeChanged(this.onThemeChanged.bind(this));e.resize.attachHandler(this.resizeHandler,this)},_generateRandomAmorphousShapeValues:function(){var e={edge0:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0},edge1:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0}};var t=this._getRandomInt(0,3);for(var n in e){e[n].edgeNum=t;e[n].xOffSet=this._getRandomInt(200,400);e[n].yOffSet=this._getRandomInt(-200,-400);t+=this._getRandomInt(0,1)<.5?-1:1;if(t===-1){t=3}if(t===4){t=0}}t=this._getRandomInt(0,1);if(t<.5){t=t<.25?0:1;e["edge"+t].xStretch=this._getRandomInt(0,200)}return e},getPoint:function(e,t){return new n(e,t)},getRandomPoint:function(e){var t=Math.floor(Math.random()*(e.x.max-e.x.min)+e.x.min),i=Math.floor(Math.random()*(e.y.max-e.y.min)+e.y.min);return new n(t,i)},onThemeChanged:function(){var e=t.get("sapUshellShellBackgroundShapesColor");if(e&&e!=="transparent"){this.sShapesColor=e;this.bIsDirty=true;this.drawShapes()}},resizeHandler:function(){var e=document.getElementById(this.Id);if(e){e.width=window.innerWidth;e.height=window.innerHeight;this.bIsDirty=true;this.onThemeChanged()}},enableAnimationDrawing:function(e){this._enableDrawing=e},makeAmorphousShape:function(e,t,n,i){var r,o,s;switch(t){case 0:r=e.bezierCurves[0].controlPoint1;o=e.bezierCurves[3].controlPoint2;s=this._rotatePoints(n,i,r,o);e.bezierCurves[0].controlPoint1=s[0];e.bezierCurves[3].controlPoint2=s[1];break;case 1:r=e.bezierCurves[0].controlPoint2;o=e.bezierCurves[1].controlPoint1;s=this._rotatePoints(n,i,r,o);e.bezierCurves[0].controlPoint2=s[0];e.bezierCurves[1].controlPoint1=s[1];break;case 2:r=e.bezierCurves[1].controlPoint2;o=e.bezierCurves[2].controlPoint1;s=this._rotatePoints(n,i,r,o);e.bezierCurves[1].controlPoint2=s[0];e.bezierCurves[2].controlPoint1=s[1];break;case 3:r=e.bezierCurves[2].controlPoint2;o=e.bezierCurves[3].controlPoint1;s=this._rotatePoints(n,i,r,o);e.bezierCurves[2].controlPoint2=s[0];e.bezierCurves[3].controlPoint1=s[1];break}return e},_rotatePoints:function(e,t,i,r){var o,s,a=[];o=i.x+e;s=i.y+t;a.push(new n(o,s));o=r.x-e;s=r.y-t;a.push(new n(o,s));return a},_getSquarePoints:function(e,t){var i=[];i[0]=new n(t.x+e,t.y);i[1]=new n(t.x,t.y-e);i[2]=new n(t.x-e,t.y);i[3]=new n(t.x,t.y+e);return i},_getRandomInt:function(e,t){if(e==0&&t==1){return Math.random()}return Math.floor(Math.random()*(t-e+1))+e},_calculatebezierCurves:function(e,t){var i=[],r,o,s,a;a=t[0];s=t[1];r=new n(a.x,a.y-e/2);o=new n(a.x-e/2,a.y-e);i.push({startPoint:a,endPoint:s,controlPoint1:r,controlPoint2:o});a=t[1];s=t[2];r=new n(a.x-e/2,a.y);o=new n(a.x-e,a.y+e/2);i.push({startPoint:a,endPoint:s,controlPoint1:r,controlPoint2:o});a=t[2];s=t[3];r=new n(a.x,a.y+e/2);o=new n(a.x+e/2,a.y+e);i.push({startPoint:a,endPoint:s,controlPoint1:r,controlPoint2:o});a=t[3];s=t[0];r=new n(a.x+e/2,a.y);o=new n(a.x+e,a.y-e/2);i.push({startPoint:a,endPoint:s,controlPoint1:r,controlPoint2:o});return i},drawShapes:function(){var e=document.getElementById(this.Id);if(this.bIsDirty&&e&&e.getContext){var n=e.getContext("2d"),i,s,a,h;n.clearRect(0,0,r*2,o*2);if(!this.sShapesColor){this.sShapesColor=t.get("sapUshellShellBackgroundShapesColor")}if(this.sShapesColor&&this.sShapesColor!=="transparent"){for(var u=0;u<this.shapes.length;u++){n.beginPath();i=this.shapes[u].bezierCurves[0].startPoint;n.moveTo(i.x,i.y);for(var c=0;c<this.shapes[u].bezierCurves.length;c++){s=this.shapes[u].bezierCurves[c].endPoint;a=this.shapes[u].bezierCurves[c].controlPoint1;h=this.shapes[u].bezierCurves[c].controlPoint2;n.bezierCurveTo(Math.floor(a.x),Math.floor(a.y),Math.floor(h.x),Math.floor(h.y),Math.floor(s.x),Math.floor(s.y))}n.closePath();n.fillStyle=this.sShapesColor;n.fill()}}this.bIsDirty=false}}};var h=new a;return h},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/SessionHandler",["sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/json/JSONModel","sap/m/VBox","sap/ui/core/library","sap/m/library","sap/ushell/ui/launchpad/LoadingDialog","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/base/Log","sap/ushell/EventHub"],function(e,i,t,s,n,o,a,r,u,l,d,h,c,g,m){"use strict";var f=l.ButtonType;var p=u.ValueState;var S=false;var v=function(u){var l=this,v=false,T=false;this.init=function(e){g.debug("SessionHandler.oConfig.sessionTimeoutIntervalInMinutes: "+e.sessionTimeoutIntervalInMinutes,"","SessionHandler");g.debug("SessionHandler.oConfig.sessionTimeoutReminderInMinutes: "+e.sessionTimeoutReminderInMinutes,"","SessionHandler");g.debug("SessionHandler.oConfig.enableAutomaticSignout: "+e.enableAutomaticSignout,"","SessionHandler");this.oConfig=e;this.oModel=new a;this.putTimestampInStorage(this._getCurrentDate());this.initLogout();sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(e){this.oAppLifeCycleService=e;this.attachUserEvents()}.bind(this));if(e.sessionTimeoutIntervalInMinutes>0){this.initSessionTimeout()}if(e.sessionTimeoutTileStopRefreshIntervalInMinutes>0){this.initTileRequestTimeout()}m.on("nwbcUserIsActive").do(this.userActivityHandler.bind(this));v=true};this.initLogout=function(){if(T===false){sap.ushell.Container.registerLogout(this.logout);this.registerCommHandlers();T=true}};this.initSessionTimeout=function(){if(this.oConfig.enableAutomaticSignout===undefined){this.oConfig.enableAutomaticSignout=false}if(this.oConfig.sessionTimeoutReminderInMinutes===undefined){this.oConfig.sessionTimeoutReminderInMinutes=0}this.oModel.setProperty("/SessionRemainingTimeInSeconds",this.oConfig.sessionTimeoutReminderInMinutes*60);this.counter=0;this.oKeepAliveDialog=undefined;this.notifyServer();this.monitorUserIsInactive()};this.registerCommHandlers=function(){u.registerShellCommunicationHandler({"sap.ushell.sessionHandler":{oRequestCalls:{logout:{isActiveOnly:false,distributionType:["URL"]},extendSessionEvent:{isActiveOnly:false,distributionType:["all"]}},oServiceCalls:{notifyUserActive:{executeServiceCallFn:function(){if(v===true){l.userActivityHandler()}return(new h.Deferred).resolve().promise()}}}}})};this.monitorUserIsInactive=function(){g.debug("SessionHandler.monitorInactiveUser : Check started","*****","SessionHandler");var e=this.timeLastInteraction(),i=this.timePopup(),t=this.timeNow(),s=this.timeOver(),n=i-t,o=t-e,a;g.debug("SessionHandler.monitorUserIsInactive :: time since last interaction : "+o,"","SessionHandler");g.debug("SessionHandler.monitorUserIsInactive :: remaining time until dialog : "+n,"","SessionHandler");if(t<i){a=setTimeout(this.monitorUserIsInactive.bind(this),n*1e3);this.oMonitorUserIsInactiveTimer=this.oMonitorUserIsInactiveTimer||a;return}if(t>=i&&t<s&&this.oConfig.sessionTimeoutReminderInMinutes>0){this.detachUserEvents();this.oContinueWorkingDialog=this.createContinueWorkingDialog();this.oContinueWorkingDialog.open();g.debug("SessionHandler.monitorUserIsInactive :: Dialog opened","","SessionHandler");this.monitorCountdown(true);this._createSystemNotification()}if(t>=s){g.debug("SessionHandler.monitorUserIsInactive :: Session over detected","","SessionHandler");this.handleSessionOver();return}g.debug("SessionHandler.monitorInactiveUser :: Check done","*****","SessionHandler")};this.handleSessionOver=function(){clearTimeout(this.notifyServerTimer);sap.ui.getCore().getEventBus().publish("launchpad","sessionTimeout");if(this.oConfig.enableAutomaticSignout===true){g.debug("SessionHandler.handleSessionOver :: Automatic signout gets initiated","","SessionHandler");this.logout()}else{g.debug("SessionHandler.handleSessionOver :: Session expired dialog gets opened","","SessionHandler");this.createSessionExpiredDialog().open()}};this.notifyServer=function(){var e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());var i=e/(1e3*60);var s=this.oConfig.sessionTimeoutIntervalInMinutes*30*1e3;if(i<=this.oConfig.sessionTimeoutIntervalInMinutes){sap.ushell.Container.sessionKeepAlive();u.postMessageToIframeApp("sap.ushell.sessionHandler","extendSessionEvent",{})}else{}this.notifyServerTimer=setTimeout(this.notifyServer.bind(this),t.sanitizeTimeoutDelay(s))};this.monitorCountdown=function(e){if(e){g.debug("SessionHandler.monitorCountdown :: Initiated from outside","*****","SessionHandler")}else{g.debug("SessionHandler.monitorCountdown :: Initiated from internal call","**","SessionHandler")}var i=this.timeLastInteraction(),t=this.timePopup(),s=this.timeNow(),n=this.timeOver(),o=s-i;g.debug("SessionHandler.monitorCountdown :: timeNow : "+s,"","SessionHandler");g.debug("SessionHandler.monitorCountdown :: iTimeLastInteraction : "+i,"","SessionHandler");g.debug("SessionHandler.monitorCountdown :: timeSinceLastInteraction : "+o,"","SessionHandler");g.debug("SessionHandler.monitorCountdown :: iTimeOver : "+n,"","SessionHandler");if(s<t){g.debug("SessionHandler.monitorCountdown :: Auto-click","<=","SessionHandler");this.continueWorkingButtonPressHandler(true);return}var a=n-s;if(a>0){g.debug("SessionHandler.monitorCountdown :: Remaining seconds : "+a+" - iTimeOver : "+n,"","SessionHandler");this.oModel.setProperty("/SessionRemainingTimeInSeconds",a);this.remainingTimer=setTimeout(this.monitorCountdown.bind(this,false),500);return}if(a<=0){if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}this.handleSessionOver()}};this.initTileRequestTimeout=function(){this.checkStopBackendRequestRemainingTime();this.bBackendRequestsActive=true};this.checkStopBackendRequestRemainingTime=function(){var e=this._getCurrentDate()-new Date(this.getTimestampFromStorage());var i=e/(1e3*60);var s=this.oConfig.sessionTimeoutTileStopRefreshIntervalInMinutes;var n=(s-i)*60*1e3;if(i<s){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),t.sanitizeTimeoutDelay(n))}else if(s>0){this._setConnectionActive(false)}};this._setConnectionActive=function(e){if(e){setTimeout(this.checkStopBackendRequestRemainingTime.bind(this),0)}if(this.bBackendRequestsActive===e){return}sap.ui.getCore().getEventBus().publish("launchpad","setConnectionToServer",{active:e});if(!i.last("/core/spaces/enabled")){if(e){this._setTilesVisibleOnHomepage()}else{this._setTilesInvisibleOnHomepage()}}this.bBackendRequestsActive=e};this._setTilesVisibleOnHomepage=function(){sap.ui.require(["sap/ushell/utils"],function(e){e.handleTilesVisibility()})};this._setTilesInvisibleOnHomepage=function(){return new Promise(function(e,i){return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(i){i.getGroups().then(function(t){var s=sap.ui.getCore().getEventBus();t.forEach(function(e){i.getGroupTiles(e).forEach(function(e){i.setTileVisible(e,false)})});s.publish("launchpad","visibleTilesChanged",[]);e()})})})};this.getLocalStorage=function(){if(this.oLocalStorage===undefined){var e=new c(this.oConfig&&this.oConfig.sessionType||c.Type.local);if(this._isLocalStorageSupported(e)){this.oLocalStorage=e}else{this.oLocalStorage=false}}return this.oLocalStorage};this._isLocalStorageSupported=function(e){var i;try{i=e.isSupported()}catch(e){i=false}if(!i){g.warning("SessionHandler._isLocalStorageSupported :: Failed to instantiate local storage handler: "+"Might be disabled by the browser!","","SessionHandler")}return i};this._createSystemNotification=function(){var i=function(){var i=this.oModel.getProperty("/SessionRemainingTimeInSeconds");var t=new Notification(e.i18n.getText("sessionTimeoutMessage_title"),{body:this.continueWorkingFormatter(i)});t.onclick=function(e){window.focus()}}.bind(this);if(!("Notification"in window)){return}else if(Notification.permission==="granted"){i()}else if(Notification.permission!=="denied"){Notification.requestPermission().then(function(e){if(e==="granted"){i()}})}};this.continueWorkingFormatter=function(i){var t=i>60,s,n,o;s=t?e.i18n.getText("sessionTimeoutMessage_units_minutes"):e.i18n.getText("sessionTimeoutMessage_units_seconds");n=t?Math.ceil(i/60):i;if(l.oConfig.enableAutomaticSignout){o=e.i18n.getText("sessionTimeoutMessage_kioskMode_main",[n,s])}else{o=e.i18n.getText("sessionTimeoutMessage_main",[n,s])}return o};this.createContinueWorkingDialog=function(){g.debug("SessionHandler.createContinueWorkingDialog :: Continue working dialog being created","","SessionHandler");this.oMessageVBox=new r;this.oSessionKeepAliveLabel=new o({text:{parts:["/SessionRemainingTimeInSeconds"],formatter:this.continueWorkingFormatter}});this.oMessageVBox.addItem(this.oSessionKeepAliveLabel);if(this.oConfig.enableAutomaticSignout===false){this.oLostDataReminder=new o({text:e.i18n.getText("sessionTimeoutMessage_unsavedData")});this.oMessageVBox.addItem(this.oLostDataReminder)}this.oSessionKeepAliveLabel.setModel(this.oModel);this.oSessionKeepAliveDialog=new s("sapUshellKeepAliveDialog",{title:e.i18n.getText("sessionTimeoutMessage_title"),type:"Message",state:p.Warning,content:this.oMessageVBox,beginButton:this.createContinueWorkingButton(),afterClose:function(){this.oSessionKeepAliveDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");if(this.oConfig.enableAutomaticSignout===true){this.oSignOutButton=new n({text:e.i18n.getText("logoutBtn_title"),tooltip:e.i18n.getText("logoutBtn_tooltip"),press:this.logout.bind(this)});this.oSessionKeepAliveDialog.setEndButton(this.oSignOutButton)}return this.oSessionKeepAliveDialog};this.createContinueWorkingButton=function(){return new n({text:e.i18n.getText("sessionTimeoutMessage_continue_button_title"),type:f.Emphasized,press:l.continueWorkingButtonPressHandler.bind(l,false)})};this.continueWorkingButtonPressHandler=function(e){g.debug("SessionHandler.continueWorkingButtonPressHandler :: Session was extended"+e?"automatically":"by user","","SessionHandler");if(this.oSessionKeepAliveDialog){this.oSessionKeepAliveDialog.close()}clearTimeout(this.remainingTimer);if(!e){this.putTimestampInStorage(this._getCurrentDate())}this.monitorUserIsInactive();this.attachUserEvents();u.postMessageToIframeApp("sap.ushell.sessionHandler","extendSessionEvent",{})};this.createSessionExpiredDialog=function(){this.oSessionExpiredDialog=new s("sapUshellSessionTimedOutDialog",{title:e.i18n.getText("sessionExpiredMessage_title"),type:"Message",state:p.Warning,content:new o({text:e.i18n.getText("sessionExpiredMessage_main")}),beginButton:this.createReloadButton(),afterClose:function(){this.oSessionExpiredDialog.destroy()}.bind(this)}).addStyleClass("sapContrastPlus");return this.oSessionExpiredDialog};this.createReloadButton=function(){return new n({text:e.i18n.getText("sessionExpiredMessage_reloadPage_button_title"),press:function(){l.oSessionExpiredDialog.close();location.reload()}})};this.attachUserEvents=function(){h(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));h(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));h(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this));this.oAppLifeCycleService.attachAppLoaded({},this.userActivityHandler,this)};this.detachUserEvents=function(){h(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");h(document).off("keydown.sessionTimeout");h(document).off("touchstart.sessionTimeout");this.oAppLifeCycleService.detachAppLoaded(this.userActivityHandler,this)};this.putTimestampInStorage=function(e){g.debug("SessionHandler.putTimestampInStorage :: Timestamp is "+e,"","SessionHandler");var i=this.getLocalStorage();if(i){i.put("lastActivityTime",e);if(this.bBackendRequestsActive===false){this._setConnectionActive(true)}}};this.getTimestampFromStorage=function(){var e=this.getLocalStorage();if(e){return e.get("lastActivityTime")}return null};this.timeNow=function(){return Math.floor(Date.now()/1e3)};this.timeLastInteraction=function(){return Math.floor(new Date(this.getTimestampFromStorage()).getTime()/1e3)};this.timeOver=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60)};this.timePopup=function(){return Math.floor(this.timeLastInteraction()+this.oConfig.sessionTimeoutIntervalInMinutes*60-this.oConfig.sessionTimeoutReminderInMinutes*60)};this.userActivityHandler=function(){if(this.oUserActivityTimer!==undefined){return}this.oUserActivityTimer=setTimeout(function(){g.debug("SessionHandler.userActivityHandler :: Timed time stamp update","","SessionHandler");l.putTimestampInStorage(l._getCurrentDate());l.oUserActivityTimer=undefined},1e3)};this._getCurrentDate=function(){return new Date};this.logout=function(){g.debug("SessionHandler.logout :: Logout initiated","","SessionHandler");function i(i){if(v===true){l.detachUserEvents()}if(l.oUserActivityTimer){clearTimeout(l.oUserActivityTimer)}if(l.remainingTimer){clearTimeout(l.remainingTimer)}if(l.notifyServerTimer){clearTimeout(l.notifyServerTimer)}i.openLoadingScreen();i.showAppInfo(e.i18n.getText("beforeLogoutMsg"),null);sap.ushell.Container.setDirtyFlag(false);sap.ushell.Container.defaultLogout()}var t=new d({text:""}),s;u.postMessageToIframeApp("sap.ushell.sessionHandler","logout",{},true).then(function(){if(S===false){S=true;window.clearTimeout(s);i(t)}});s=window.setTimeout(function(){S=true;i(t)},4e3)}};return v},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UserActivityLog",["sap/base/Log","sap/base/util/extend","sap/ui/core/Core","sap/ui/thirdparty/hasher","sap/ushell/EventHub","sap/ushell/ui/launchpad/Tile","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,a,i,s,n,o,r){"use strict";var u=function(){};u.prototype={_maxLoggedMessages:50,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroupAt","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","addBookmarkTile"],_observedGeneralActions:["openApp"],_observedEventHubEvents:["showCatalog"],_aDoableObjects:[],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(){if(this._isActive){return}this._isActive=true;var t=a.getEventBus();this._observedLaunchpadActions.forEach(function(e){t.subscribe("launchpad",e,this._handleAction,this)}.bind(this));t.subscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach(function(e){t.subscribe(e,this._handleAction,this)}.bind(this));this._observedEventHubEvents.forEach(function(e){this._aDoableObjects.push(s.on(e).do(this._handleActionEventHub.bind(this)))}.bind(this));e.addLogListener(this);this._tileOntapOrigFunc=n.prototype.ontap;n.prototype.ontap=this._tileOnTapDecorator(this._tileOntapOrigFunc)},deactivate:function(){if(!this._isActive){return}this._isActive=false;var t=a.getEventBus();this._observedLaunchpadActions.forEach(function(e,a,i){t.unsubscribe("launchpad",e,this._handleAction,this)}.bind(this));t.unsubscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach(function(e,a,i){t.unsubscribe(e,this._handleAction,this)}.bind(this));this._aDoableObjects.forEach(function(e){e.off()});e.removeLogListener(this);n.prototype.ontap=this._tileOntapOrigFunc},addMessage:function(e,t,a){if(this._isActive){this._addMessageInternal(e,t,a)}},getLog:function(){return this._getLoggingQueueFromStorage()},getMessageInfo:function(){return{userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:o.getFormFactor()}},getMessageInfoAsString:function(e){return JSON.stringify(this.getMessageInfo(e))},onLogEntry:function(e){if(e.level<=2){var t=e.message;if(typeof e.details!=="undefined"&&e.details!==""){t=t+", "+e.details}this.addMessage(this.messageType.ERROR,t)}},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(e){var t=this;return function(){if(this.isA("sap.ushell.ui.launchpad.PlusTile")){t.addMessage(t.messageType.ACTION,"Open Catalog for empty group "+this.getGroupId())}else if(this.isA("sap.ushell.ui.launchpad.Tile")){var s=i.getHash();if(s){var n=r.parseShellHash(s);s="#"+r.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action}})}var o=t._getLastNavActionFromStorage();o.time=new Date;o.navigationHash=s;o.tileDebugInfo=this.getDebugInfo();var u=a.byId(this.getId());var l=u.getModel();var g=this.getBindingContext();var h=g.getPath();o.tileTitle=g.getModel().getProperty(h).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(o));t.addMessage(t.messageType.ACTION,"Click on Tile: "+l.getData().title+" Tile debugInfo: "+this.getDebugInfo())}e.apply(this,arguments)}},_addMessageInternal:function(e,a,i){var s=this._getLoggingQueueFromStorage();var n={type:null};for(var o in this.messageType){if(e===this.messageType[o]){n.type=o;break}}if(n.type===null){return}t(n,{messageID:i,messageText:a,time:new Date,toString:function(){var e=[this.type,this.time];if(typeof this.messageID!=="undefined"){e.push(this.messageID)}e.push(this.messageText);return e.join(" :: ")}});s.push(n);if(s.length>this._maxLoggedMessages){s.shift()}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(s))},_handleActionEventHub:function(e){this._handleAction("",e.sId,e.oData)},_handleAction:function(e,t,a){var i;switch(t){case"deleteTile":i="Delete Tile "+(a.tileId||"");break;case"moveTile":i="Move Tile "+(a.sTileId||"")+" to Group "+(a.toGroupId||"");break;case"createGroupAt":i="Create Group";break;case"changeGroupTitle":i="Change Group Title of "+(a.groupId||"")+" to "+(a.newTitle||"");break;case"deleteGroup":i="Delete Group "+(a.groupId||"");break;case"addTile":var s=a.catalogTileContext.oModel;var n=a.catalogTileContext.sPath;var o=s.getProperty(n);var r=o&&o.id||"";var u=a.groupContext.getObject();var l=u&&u.id||"";i="Add Tile "+r+" to Group "+l;break;case"moveGroup":i="Move Group from index "+(a.fromIndex||"")+" to index "+(a.toIndex||"");break;case"appOpened":i="Open application "+a.action;var g=this._getLastNavActionFromStorage();g.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(e){g.applicationInformation[e]=a[e]});if(!this._hashSegmentsEqual(g.navigationHash,a.sShellHash)){g.tileDebugInfo=""}g.navigationHash=a.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(g));break;case"addBookmarkTile":i="Add Bookmark "+(a.title||"")+" "+(a.subtitle||"")+" for URL: "+(a.url||"");break;case"showCatalog":i="Show Catalog";break;default:break}this.addMessage(this.messageType.ACTION,i)},_getUserDetails:function(){var e=sap.ushell.Container.getUser();return{fullName:e.getFullName()||"",userId:e.getId()||"",eMail:e.getEmail()||"",Language:e.getLanguage()||""}},_getShellState:function(){var e=a.byId("viewPortContainer");var t="";if(e!==undefined){var i=e.getModel();t=i.getProperty("/currentState/stateName")}return t},_getLoggingQueueFromStorage:function(){var e=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");var t=[];if(e){try{t=JSON.parse(e)}catch(e){}}return t},_getLastNavActionFromStorage:function(){var e=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return e?JSON.parse(e):{}},_hashSegmentsEqual:function(e,t){if(!e||!t){return false}return this._getHashSegment(e)===this._getHashSegment(t)},_getHashSegment:function(e){var t=e.split("~");if(t.length>1){return t[0]}t=e.split("?");if(t.length>1){return t[0]}return e},_getFromSessionStorage:function(e){var t=null;try{t=sessionStorage.getItem(e)}catch(e){}return t},_putInSessionStorage:function(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}};var l=new u;return l},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter",["sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/Log"],function(e,t,r,s){"use strict";var n=function(n,i,o){this._oAdapterConfig=o&&o.config;var a=sap.ushell.Container,u="";if(a){u=a.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:u}};this.getInbounds=function(){var r=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new t.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getSiteWithoutPersonalization()}).then(function(t){var s=t._version&&e(t._version).getMajor()===3?"sap/ushell/adapters/cdm/v3/utilsCdm":"sap/ushell/utils/utilsCdm";sap.ui.require([s],function(e){var s=e.formatSite(t)||[];r._getInboundsDeferred.resolve(s)})},function(e){r._getInboundsDeferred.reject(e)})}return this._getInboundsDeferred.promise()};this._createSIDMap=function(e){return Object.keys(e).sort().reduce(function(t,r){var s=e[r];var n="SID("+s.systemId+"."+s.client+")";if(!t.hasOwnProperty(n)&&s.hasOwnProperty("systemId")&&s.hasOwnProperty("client")){t[n]=r}return t},{})};this._getSystemAliases=function(){var e=this;if(!this.oSystemAliasesDeferred){this.oSystemAliasesDeferred=new t.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getSiteWithoutPersonalization()}).then(function(t){var s=r({},t.systemAliases||{});Object.keys(s).forEach(function(e){s[e].id=e});e.oSystemAliasesDeferred.resolve(s)},function(t){e.oSystemAliasesDeferred.reject(t)})}return this.oSystemAliasesDeferred.promise()};this.resolveSystemAlias=function(e){var n=new t.Deferred,i=this;this._getSystemAliases().done(function(t){var o,a;if(t.hasOwnProperty(e)){a=t[e];if(e===""){a.properties=r({},i._oLocalSystemAlias.properties,a.properties||{})}n.resolve(a);return}if(e===""){n.resolve(i._oLocalSystemAlias);return}e=e.toUpperCase(e);if(!i._oSIDMap){i._oSIDMap=i._createSIDMap(t)}if(i._oSIDMap.hasOwnProperty(e)){var u=t[i._oSIDMap[e]];n.resolve(u);return}o="Cannot resolve system alias "+e;s.warning(o,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");n.reject(o)}).fail(function(e){n.reject(e)});return n.promise()};this.getContentProviderDataOriginsLookup=function(){var e=this;if(!this.oContentProviderDataOriginsDeferred){this.oContentProviderDataOriginsDeferred=new t.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getSiteWithoutPersonalization()}).then(function(t){var s=null;if(t.contentProviderDataOrigins){s=r({},t.contentProviderDataOrigins)}e.oContentProviderDataOriginsDeferred.resolve(s)},function(t){e.oContentProviderDataOriginsDeferred.reject(t)})}return this.oContentProviderDataOriginsDeferred.promise()}};return n},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/CommonDataModelAdapter",["sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/Version","sap/base/util/UriParameters","sap/ui/thirdparty/jquery"],function(e,t,i,o,n){"use strict";var r=function(e,t,i){this.oAdapterConfiguration=i;if(i&&i.config&&i.config.siteData){this.oCdmSiteDataRequestPromise=(new n.Deferred).resolve(i.config.siteData)}else if(i&&i.config&&i.config.siteDataPromise){this.oCdmSiteDataRequestPromise=i.config.siteDataPromise}else{var o=this._identifySiteUrlFromConfig(i);var r=this._normalizeUrl(o,location.href);this.oCdmSiteDataRequestPromise=this._requestSiteData(r)}};r.prototype._requestSiteData=function(e){var i=new n.Deferred;if(!e){return i.reject("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter.")}n.ajax({type:"GET",dataType:"json",url:e}).done(function(e){i.resolve(e)}).fail(function(e){t.error(e.responseText);i.reject("CDM Site was requested but could not be loaded.")});return i.promise()};r.prototype._normalizeUrl=function(t,i){if(typeof t!=="string"){return t}if(t.indexOf("http")===0){return t}var o=document.getElementsByTagName("base")[0];return new e(t,o).absoluteTo(i).toString()};r.prototype.getSite=function(){var e=new n.Deferred;this.oCdmSiteDataRequestPromise.done(function(t){var i=n.extend({},t);delete i.personalization;e.resolve(i)}).fail(function(t){e.reject(t)});return e.promise()};r.prototype.getPersonalization=function(){var e=new n.Deferred,i=this;this.oCdmSiteDataRequestPromise.done(function(o){var r=n.extend({},o),a=r._version,s;if(i.oAdapterConfiguration&&i.oAdapterConfiguration.config&&i.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete r.personalization}if(r.personalization){s=r.personalization._version;if(Object.keys(r.personalization).length>0&&!i._isPersonalizationVersionValid(a,s)){t.error("Personalization version is not compatible to the site version and will not be loaded."+" Please proceed to personalize the homepage again if needed. Personalization version: "+s+"; Site version: "+a);e.resolve();return}e.resolve(r.personalization)}else{i._readPersonalizationDataFromStorage(a).done(function(o){s=o._version;if(Object.keys(o).length>0&&!i._isPersonalizationVersionValid(a,s)){t.error("Personalization version is not compatible to the site version and will not be loaded."+" Please proceed to personalize the homepage again if needed. Personalization version: "+s+"; Site version: "+a);e.resolve();return}e.resolve(o)}).fail(function(t){e.reject(t)})}}).fail(function(t){e.reject(t)});return e.promise()};r.prototype._isPersonalizationVersionValid=function(e,t){if(!e){return false}var o=new i(e).getMajor(),n=new i(t);if(o>=3){return n.getMajor()===o}return n.getMajor()<3};r.prototype.setPersonalization=function(e){var o=new n.Deferred;sap.ushell.Container.getServiceAsync("Personalization").then(function(n){var r,a={keyCategory:n.constants.keyCategory.FIXED_KEY,writeFrequency:n.constants.writeFrequency.LOW,clientStorageAllowed:true},s={container:"sap.ushell.cdm.personalization",item:"data"},l=new i(e.version);if(l.inRange("3.1.0","4.0.0")){s={container:"sap.ushell.cdm3-1.personalization",item:"data"}}var u=n.getPersonalizer(s,a,r);u.setPersData(e).done(function(){t.info("Personalization data has been stored successfully.");o.resolve()}).fail(function(){o.reject("Writing personalization data failed.")})});return o.promise()};r.prototype._readPersonalizationDataFromStorage=function(e){var t=new n.Deferred;sap.ushell.Container.getServiceAsync("Personalization").then(function(o){var n={keyCategory:o.constants.keyCategory.FIXED_KEY,writeFrequency:o.constants.writeFrequency.LOW,clientStorageAllowed:true};var r={container:"sap.ushell.cdm.personalization",item:"data"};if(e){var a=new i(e);if(a&&a.inRange("3.1.0","4.0.0")){r={container:"sap.ushell.cdm3-1.personalization",item:"data"}}}o.getPersonalizer(r,n).getPersData().done(function(e){t.resolve(e||{})}).fail(function(){t.reject("Fetching personalization data failed.")})});return t.promise()};r.prototype._identifySiteUrlFromConfig=function(e){var t=o.fromQuery(window.location.search);var i=t.get("sap-ushell-cdm-site-url");var n=e&&e.config;if(n&&!n.allowSiteSourceFromURLParameter&&i){i=null}if(n&&!i){i=n.siteDataUrl||n.cdmSiteUrl}this.sCdmSiteUrl=i;return i};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/ContainerAdapter",["sap/ushell/utils","sap/ushell/User","sap/ushell/System","sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,t,r,i,o,s,n){"use strict";var a=o.getLogger("sap/ushell/adapters/cdm/ContainerAdapter",o.Level.INFO);var u=function(u,l,d){var f="/sap/public/bc/icf/logoff",c=P(d.config,f),p=s.get("systemProperties.logoutMethod",d.config)||"GET",m=s.get("systemProperties.csrfTokenUrl",d.config),g=v(d.config),h=b(u,d.config),y=R(d.config);function P(e,t){if(e.systemProperties&&e.systemProperties.logoutUrl){return e.systemProperties.logoutUrl}return t}function v(e){var r,i=e.userProfile;if(i){r=T(i.defaults,e.userProfilePersonalization,i.metadata)}return new t(r||A())}function b(e,t){var i=t.systemProperties,o=e.getAlias(),s=e.getPlatform(),n=e.getBaseUrl(),a,u,l,d,f,c,p;if(i){o=i.alias||o;s=i.platform||s;a=i.SID;u=i.client;l=i.productName;d=i.productVersion;f=i.systemName;c=i.systemRole;p=i.tenantRole}return new r({alias:o,platform:s,baseUrl:n,system:a,client:u,productName:l,productVersion:d,systemName:f,systemRole:c,tenantRole:p})}function T(e,t,r){var i=n.extend(A(),e,t);i.bootTheme=i.bootTheme||{theme:i.theme,root:""};delete i.theme;if(r){if(r.editablePropterties){i.setThemePermitted=r.editablePropterties.indexOf("theme")>-1;i.setAccessibilityPermitted=r.editablePropterties.indexOf("accessibility")>-1;i.setContentDensityPermitted=r.editablePropterties.indexOf("contentDensity")>-1}if(r.ranges){i.ranges=r.ranges}}return i}function A(){return{setThemePermitted:false,setAccessibilityPermitted:false,setContentDensityPermitted:false}}function R(e){var t=e&&e.systemProperties&&e.systemProperties.sessionKeepAlive;if(!t){return null}if(!t.url){a.error("Mandatory parameter 'url' missing in 'sessionKeepAlive' configuration.");return null}if(t.method!=="HEAD"&&t.method!=="GET"){t.method="HEAD"}return t}this._getLogoutUrl=function(){return c};this._setDocumentLocation=function(e){document.location=e};this._setWindowLocation=function(e){window.location.href=e};this.getSystem=function(){return h};this.getUser=function(){return g};this.load=function(){return n.when()};this.getCurrentUrl=function(){return window.location.href};this.logout=function(t){var r;if(!t){throw new Error("Not implemented")}if(e.hasNativeLogoutCapability()){r=new i(this._getLogoutUrl()).absoluteTo(this.getCurrentUrl()).search("").toString();e.getPrivateEpcm().doLogOff(r)}else{return this.logoutRedirect()}return n.when()};this.logoutRedirect=function(){var e=h.adjustUrl(this._getLogoutUrl()),t=new n.Deferred,r=this;if(p==="POST"){o.info("performing logout from system via POST",undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");n.ajax({type:"HEAD",url:m,headers:{"X-CSRF-Token":"Fetch"},success:function(i,s,a){n.ajax({type:"POST",url:e,headers:{"X-CSRF-Token":a.getResponseHeader("X-CSRF-Token")},success:function(e){r._setWindowLocation(e);t.resolve()},error:function(){o.error("Logging out via POST failed",undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");t.resolve()}})},error:function(){o.error("fetching X-CSRF-Token for logout via POST failed for system: "+h.getAlias(),undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");t.resolve()}})}else{o.info("performing logout from system via GET (redirect)",undefined,"sap.ushell.adapters.cdm.ContainerAdapter::logoutRedirect");this._setDocumentLocation(e);t.resolve()}return t.promise()};this.sessionKeepAlive=function(){if(!y){return}var e=new XMLHttpRequest;e.open(y.method,y.url,true);e.onreadystatechange=function(){if(this.readyState===4){a.debug("Server session was extended")}};e.send()};this._getSessionKeepAliveConfig=function(){return y}};return u},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/MenuAdapter",["sap/ushell/library","sap/ushell/Config"],function(e,t){"use strict";var n=e.ContentNodeType;var r=function(){};r.prototype.isMenuEnabled=function(){if(!t.last("/core/menu/enabled")){return Promise.resolve(false)}return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getMenuEntries("main").then(function(e){return e.length>0})})};r.prototype.getMenuEntries=function(){return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getMenuEntries("main")})};r.prototype.getContentNodes=function(){return this.getMenuEntries().then(this._normalizeMenuEntries.bind(this)).then(this._buildContentNodes.bind(this))};r.prototype._normalizeMenuEntries=function(e){var t=[];return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(n){e.forEach(function(e){if(this._isSpaceOrPage(e)&&e.menuEntries===undefined){var r=e.target.parameters.find(function(e){return e.name==="pageId"});var i=r&&r.value;e.menuEntries=[{title:i,type:"IBN",target:e.target}];t.push(n.getPage(i).then(function(t){e.menuEntries[0].title=t.identification.title}))}}.bind(this));return Promise.allSettled(t)}.bind(this)).then(function(){return e})};r.prototype._buildContentNodes=function(e){return e.filter(this._isSpaceOrPage).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="spaceId"}).value;var r={id:t,label:e.title,type:n.Space,isContainer:false};r.children=e.menuEntries.filter(this._isSpaceOrPage).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="pageId"});var r=t&&t.value;if(!r){return null}return{id:r,label:e.title,type:n.Page,isContainer:true,children:[]}}).filter(function(e){return!!e});return r}.bind(this))};r.prototype._isSpaceOrPage=function(e){return e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"&&Array.isArray(e.target.parameters)};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/PagesCommonDataModelAdapter",["sap/base/Log","sap/base/util/deepExtend","sap/ushell/adapters/cdm/util/cdmSiteUtils","sap/base/util/extend","sap/base/util/Version","sap/ui/thirdparty/jquery","sap/ushell/Config"],function(e,t,i,n,a,r,s){"use strict";var o=function(){this._oCDMPagesRequests={};this._oUnstableVisualizations={};this._sComponent="sap/ushell/adapters/cdm/PagesCommonDataModelAdapter";this.oSitePromise=new Promise(function(e,t){this.fnSiteResolve=e;this.fnSiteReject=t}.bind(this))};o.prototype.getSite=function(){var e=new r.Deferred;sap.ushell.Container.getServiceAsync("NavigationDataProvider").then(function(e){return e.getNavigationData()}).then(function(e){var n={};var a=e.inbounds;for(var r=0;r<a.length;r++){var s=a[r].permanentKey||a[r].id;n[s]=a[r]}var o={_version:"3.1.0",site:{},catalogs:{},groups:{},visualizations:{},applications:i.getApplications(n),vizTypes:{},systemAliases:t({},e.systemAliases),pages:{}};this.fnSiteResolve(o);return o}.bind(this)).then(e.resolve).catch(function(t){e.reject(t);this.fnSiteReject(t)}.bind(this));return e.promise()};o.prototype.getPage=function(t){if(!t){var i="PagesCommonDataModelAdapter: getPage was called without a pageId";e.fatal(i,null,this._sComponent);return Promise.reject(i)}var n=s.last("/core/stableIDs/enabled");return this.oSitePromise.then(function(i){if(i.pages[t]){return i.pages[t]}return Promise.all([sap.ushell.Container.getServiceAsync("PagePersistence"),sap.ushell.Container.getServiceAsync("NavigationDataProvider")]).then(function(e){var i=e[0];var n=e[1];return Promise.all([i.getPage(t),n.getNavigationData(),sap.ushell.Container.getServiceAsync("URLParsing")])}).then(function(e){var t=e[0];var a=e[1];var r=e[2];this._addVisualizationsToSite(i,t.visualizations,r);this._addVizTypesToSite(i,t);this._addPageToSite(i,t.page,a);if(n){this._storeUnstableVisualizations(t.page.id,t.unstableVisualizations)}return i.pages[t.page.id]}.bind(this)).catch(function(t){e.fatal("PagesCommonDataModelAdapter encountered an error while fetching required services: ",t,this._sComponent);return Promise.reject(t)}.bind(this))}.bind(this))};o.prototype._storeUnstableVisualizations=function(e,t){if(!t){return}this._oUnstableVisualizations[e]=t};o.prototype._addVizTypesToSite=function(e,t){var a={};Object.keys(t.vizTypes).forEach(function(i){if(!e.vizTypes[i]){a[i]=t.vizTypes[i]}});n(e.vizTypes,i.getVizTypes(a))};o.prototype._addVisualizationsToSite=function(e,t,a,r){var s;if(r){s={};Object.keys(t).forEach(function(i){if(!e.visualizations[i]){s[i]=t[i]}})}else{s=t}n(e.visualizations,i.getVisualizations(s,a))};o.prototype._addPageToSite=function(t,i,n){var a={};var r=n.inbounds;for(var s=0;s<r.length;s++){var o=r[s].permanentKey||r[s].id;a[o]=r[s]}var l=t.pages[i.id]={identification:{id:i.id,title:i.title},payload:{layout:{sectionOrder:i.sections.map(function(e){return e.id})},sections:{}}};var u;var c;for(var d=0;d<i.sections.length;d++){u=i.sections[d];c=l.payload.sections[u.id]={id:u.id,title:u.title,layout:{vizOrder:u.viz.map(function(e){return e.id})},viz:{}};var v,p;for(var h=0;h<u.viz.length;h++){v=u.viz[h];p=!t.visualizations[v.vizId];if(p){var f=c.layout.vizOrder;f.splice(f.indexOf(v.id),1);if(p){e.error("Tile "+v.id+" with vizId "+v.vizId+" has no matching visualization. As the tile cannot be used to start an app it is removed from the page.")}continue}c.viz[v.id]={id:v.id,vizId:v.vizId,displayFormatHint:v.displayFormatHint}}}};o.prototype.getPages=function(t){if(!(t&&Array.isArray(t)&&t.length!==0)){var i="PagesCommonDataModelAdapter: getPages is not an array or does not contain any Page id";e.fatal(i,null,this._sComponent);return Promise.reject(i)}return this.oSitePromise.then(function(i){var n;var a=[];for(var r=0;r<t.length;r++){n=t[r];if(!i.pages[n]){a.push(t[r])}}if(a.length===0){return i.pages}return Promise.all([sap.ushell.Container.getServiceAsync("PagePersistence"),sap.ushell.Container.getServiceAsync("NavigationDataProvider")]).then(function(e){var t=e[0];var i=e[1];return Promise.all([t.getPages(a),i.getNavigationData(),sap.ushell.Container.getServiceAsync("URLParsing")])}).then(function(e){var t=e[0];var n=e[1];var a=e[2];for(var r=0;r<t.length;r++){this._addVisualizationsToSite(i,t[r].visualizations,a,true);this._addVizTypesToSite(i,t[r]);this._addPageToSite(i,t[r].page,n);if(s.last("/core/stableIDs/enabled")){this._storeUnstableVisualizations(t[r].page.id,t[r].unstableVisualizations)}}return i.pages}.bind(this)).catch(function(t){e.fatal("PagesCommonDataModelAdapter encountered an error while fetching required services: ",t,this._sComponent);return Promise.reject(t)}.bind(this))}.bind(this)).then(function(e){var i={};t.forEach(function(t){var n=e[t];if(n){i[t]=n}});return i})};o.prototype.getPersonalization=function(e){var t=new r.Deferred;sap.ushell.Container.getServiceAsync("Personalization").then(function(i){var n;var r=new a(e);n={container:"sap.ushell.cdm.personalization",item:"data"};if(r.inRange("3.1.0","4.0.0")){n={container:"sap.ushell.cdm3-1.personalization",item:"data"}}var s={validity:"Infinity",keyCategory:i.constants.keyCategory.GENERATED_KEY,writeFrequency:i.constants.writeFrequency.HIGH,clientStorageAllowed:false};i.getPersonalizer(n,s).getPersData().done(function(e){t.resolve(e||{})}).fail(function(e){t.reject(e)})}).catch(function(){t.reject("Personalization Service could not be loaded")});return t.promise()};o.prototype.setPersonalization=function(e){var t=new r.Deferred;sap.ushell.Container.getServiceAsync("Personalization").then(function(i){var n;var r=new a(e.version);n={container:"sap.ushell.cdm.personalization",item:"data"};if(r.inRange("3.1.0","4.0.0")){n={container:"sap.ushell.cdm3-1.personalization",item:"data"}}var s={validity:"Infinity",keyCategory:i.constants.keyCategory.GENERATED_KEY,writeFrequency:i.constants.writeFrequency.HIGH,clientStorageAllowed:false};i.getPersonalizer(n,s).setPersData(e).done(function(){t.resolve(e)}).fail(t.reject)}).catch(function(){t.reject("Personalization Service could not be loaded")});return t.promise()};o.prototype.getVisualizations=function(){return sap.ushell.Container.getServiceAsync("VisualizationDataProvider").then(function(e){return Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),e.getVisualizationData(),this.oSitePromise]).then(function(e){var t=e[0];var i=e[1];var n=e[2];this._addVisualizationsToSite(n,i.visualizations,t);return n.visualizations}.bind(this))}.bind(this))};o.prototype.getVizTypes=function(){return sap.ushell.Container.getServiceAsync("VisualizationDataProvider").then(function(e){return Promise.all([e.getVisualizationData(),this.oSitePromise]).then(function(e){var t=e[0];var i=e[1];this._addVizTypesToSite(i,t);return i.vizTypes}.bind(this))}.bind(this))};o.prototype.getVizType=function(e){return this.oSitePromise.then(function(t){var a=t.vizTypes[e];if(a){return a}if(!e.startsWith("X-SAP-UI2-CHIP:")){return}return sap.ushell.Container.getServiceAsync("VisualizationDataProvider").then(function(t){return t.loadVizType(e)}).then(function(a){if(!a){return}var r={};r[e]=a;n(t.vizTypes,i.getVizTypes(r));return t.vizTypes[e]})})};o.prototype.getCachedVisualizations=function(){return this.oSitePromise.then(function(e){return e.visualizations})};o.prototype.getCachedVizTypes=function(){return this.oSitePromise.then(function(e){return e.vizTypes})};o.prototype.migratePersonalizedPages=function(e){var t=[];e.forEach(function(e){var i=e.identification.id;var n=this._oUnstableVisualizations[i];if(!n){return}Object.keys(e.payload.sections).forEach(function(a){var r=e.payload.sections[a];Object.keys(r.viz).forEach(function(e){var a=r.viz[e];var s=n[a.vizId];if(s){a.vizId=s.vizId;if(!t.includes(i)){t.push(i)}}})});this._oUnstableVisualizations[i]=null}.bind(this));return Promise.resolve(t)};return o},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/PersonalizationAdapter",["sap/ushell/adapters/cdm/_Personalization/internals","sap/ushell/utils/HttpClient"],function(a,e){"use strict";return a.PersonalizationAdapter.bind(null,e,null)},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/Ui5ComponentLoaderAdapter",[],function(){"use strict";function e(){}return e},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/modifyHome",["sap/ushell/adapters/cdm/_LaunchPage/readHome","sap/ui/thirdparty/jquery"],function(e,i){"use strict";function r(e){return t(e,"Home",true)}function t(e,i,r){var t={identification:{id:e,namespace:"",title:i},payload:{isPreset:false,locked:false,tiles:[],links:[],groups:[]}};if(r){t.payload.isDefaultGroup=true}return t}function o(i,r,t){var o=e.getGroupId(r);i.groups[o]=r;if(t!==undefined){i.site.payload.groupsOrder.splice(t,0,o)}else{i.site.payload.groupsOrder.push(o)}return i}function u(e,i,r){if(e&&e.groups&&e.groups[r]){e.groups[r]=i}return e}function s(e,r){if(e&&e.groups&&e.groups[r.identification.id]){delete e.groups[r.identification.id]}if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder){e.site.payload.groupsOrder=i.grep(e.site.payload.groupsOrder,function(e){return e!==r.identification.id})}return e}function a(e,i){e.site.payload.groupsOrder=i;return e}function n(e,i){e.identification.title=i}function p(e,i){if(i){delete e.identification.isVisible}else{e.identification.isVisible=false}}return{createDefaultGroup:r,createEmptyGroup:t,addGroupToSite:o,overwriteGroup:u,removeGroupFromSite:s,setGroupsOrder:a,setGroupTitle:n,setGroupVisibility:p}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/readHome",["sap/ushell/utils/type"],function(i){"use strict";function e(i){var e=[];i.site.payload.groupsOrder.forEach(function(t,n){var r=i.groups[t];if(r){r.payload=r.payload||{};e.push(r)}});return e}function t(i){return i.groups}function n(i){return i.site.payload.groupsOrder}function r(i,e){return i.groups[e]}function u(i){var e=i.filter(function(i){return i.payload.hasOwnProperty("isDefaultGroup")});if(e.length>0){return e[0]}return undefined}function o(i){return i.identification&&i.identification.id}function l(i){return i.identification.title}function s(i){if(!i.payload.hasOwnProperty("isPreset")){return true}return!!i.payload.isPreset}function a(i){return!!i.payload.locked}function f(i){return!!(i.identification.isVisible===undefined||i.identification.isVisible===true)}function d(e){if(e.payload.tiles&&i.isArray(e.payload.tiles)&&e.payload.tiles.length>0){return e.payload.tiles}return[]}function p(e){if(e.payload.links&&i.isArray(e.payload.links)&&e.payload.links.length>0){return e.payload.links}return[]}function c(i){return i.id}function g(i,e){var t;if(e&&e.isBookmark){return e.title}t=i[e.id];if(t){return e.title||t.tileResolutionResult.title}return undefined}function y(i,e){var t;if(e.isBookmark){return e.subTitle}t=i[e.id];if(t){return e.subTitle||t.tileResolutionResult.subTitle}return undefined}function k(i,e){var t;if(e.isBookmark){return e.info}t=i[e.id];return e.info||t.tileResolutionResult.info}function T(i,e){var t;if(e.isBookmark){return e.icon}t=i[e.id];if(t){return e.icon||t.tileResolutionResult.icon}return undefined}function R(i,e){var t;if(e.isBookmark){return e.icon}t=i[e.id];if(t){return e.icon||t.tileResolutionResult.icon}return undefined}function G(i,e){var t=i[e.id];if(t&&t.tileResolutionResult&&t.tileResolutionResult.size){return t.tileResolutionResult.size}}function m(i,e){var t=i[e.id];if(t){return!!t.isLink}return false}function v(i){return!!(i&&i.id&&!i.isCatalogTile)}function h(i,e){return i.deviceTypes&&i.deviceTypes[e]}return{getGroupsArrayFromSite:e,getGroupsMapFromSite:t,getGroupIdsFromSite:n,getGroupFromSite:r,getDefaultGroup:u,getGroupId:o,getGroupTitle:l,isGroupPreset:s,isGroupLocked:a,isGroupVisible:f,getGroupTiles:d,getGroupLinks:p,getTileId:c,getTileTitle:g,getTileSubtitle:y,getTileInfo:k,getTileIcon:T,getTileIndicatorDataSource:R,getTileSize:G,isLink:m,isGroupTile:v,supportsFormFactor:h}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_LaunchPage/uri.transform",["sap/ui/thirdparty/URI"],function(r){"use strict";function e(e,n,f,c){var v=l(e)?new r(e):null;if(!v){return{error:"Error: Parameter sUri is empty or not a string, use case not supported."}}if(!i(v)){return t(e,null,null,null,e)}var h=l(n)?new r(n):null;if(h&&!i(h)){return t(e,n,null,null,v.absoluteTo(h))}var m=(new r).search("");if(m.toString()===""){m=new r("https://x.y.z:8443/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/shells/cdm/fioriCDM.html?params")}var p=l(f)?new r(s(f)):m;if(!i(p)&&!c){return t(e,n,r.joinPaths(h,v),a(p),r.joinPaths(h,v).absoluteTo(p))}var b=l(c)?new r(c):m;if(!p||!b.toString()){return{error:"Error: Parameter sUriNewBase is empty or not a string, use case not supported."}}if(i(b)){return{error:"Error: Parameter sUriNewBase is a relative uri, but must be absolute."}}if(i(p)&&!i(b)){p=p.absoluteTo(b)}if(!i(p)&&!i(b)){if(p.host()&&b.host()&&p.host()!=b.host()){return{error:"Error: Hosts of the parameters sUriBase and sUriNewBase are given but do not match."}}var g=new r(u(p)).relativeTo(u(b));var d;if(l(n)){d=v.absoluteTo(h.absoluteTo(g.absoluteTo(b)));var w=o(g,h);var P=o(w,v);return t(v,w,P,a(b),d)}d=v.absoluteTo(g.absoluteTo(b));var T=o(g,v);T.query(v.query());return t(T,null,T,a(b),d)}return{error:"Error: Parameter combination not supported."}}function t(r,e,t,n,i){var a={};if(r){a.uri=r.toString()}if(e){a.uriParent=e.toString()}if(t){a.uriRelative=t.toString()}if(n){a.uriBase=n.toString()}if(i){a.uriAbsolute=i.toString()}return a}function n(r){if(!r.is("relative")){return false}return r.toString()[0]==="/"}function i(r){return!r.is("absolute")&&!n(r)}function a(r){return r.filename("").search("").fragment("")}function o(){var e=new r("/1/2/3/4/5/6/7/8/9/");var t=e;for(var n=0;n<arguments.length;n++){t=r.joinPaths(t,arguments[n])}return t.relativeTo(e)}function u(e){var t=e.directory();if(t==="/"){return"/"}return r.joinPaths(t,"/").toString()}function s(e){var t=e;if(e){var n=new r(e);if(n.filename()&&n.filename().indexOf(".")===-1&&n.filename().slice(-1)!=="/"){t+="/"}}return t}function l(r){return r&&typeof r==="string"}return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/_Personalization/internals",["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,n,r){"use strict";return{PersonalizationAdapter:i,getStorageResourceRoot:a,getContainerPath:l,delAdapterContainer:c,createContainerData:f,getAdapterContainer:p,getContainerCategory:m,isCategoryPContainer:y,trimContainerKey:u,save:h,load:I,del:_,clearContainerData:v,getItemKeys:P,containsItem:R,setItemValue:b,getItemValue:A,delItem:C,addPrefixToItemKey:w,stripPrefixFromItemKey:E,getHttpHeaderValue:z};function i(e,t,n,r,i){var o,s;var l={cache:{},headers:{"sap-client":n.getClient()}};i=i&&i.config;if(!i){throw new Error("PersonalizationAdapter: missing configuration.")}if(!t){t={}}o=a(i);s=new e(o,l);return{getAdapterContainer:p.bind(null,i,t,s),delAdapterContainer:c.bind(null,i,t,s)}}function a(e){var t=!e||!e.storageResourceRoot;if(t){throw new Error("Configuration error: storage resource root is not defined.")}return e.storageResourceRoot}function o(e){var t=!e||!e.relativeUrlReadOptimized;if(t){throw new Error("Configuration error: relative URL for read optimization is not defined.")}return e.relativeUrlReadOptimized}function s(e){var t=!e||!e.relativeUrlWriteOptimized;if(t){throw new Error("Configuration error: relative URL for write optimization is not defined.")}return e.relativeUrlWriteOptimized}function l(e,t,n){return g(e,t)+"/"+encodeURIComponent(u(n))+".json"}function u(e){var i=t.S_CONTAINER_PREFIX,a,o;if(n.type(e)!=="string"||e.length===0){throw new Error("Personalization container key must be a non-empty string")}if(e.substring(0,i.length)===i){a=e.substring(i.length)}else{r.error("Unexpected personalization container key: "+e,"should always be prefixed with "+i,"sap.ushell.adapters.cdm.PersonalizationAdapter");a=e}if(a.length<=40){o=a}else{o=a.substring(0,40);r.error("Invalid personalization container key: '"+a+"'"+" exceeds maximum key length (40 characters) and is shortened to '"+o+"'",undefined,"sap.ushell.adapters.cdm.PersonalizationAdapter")}return o}function d(){return{validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false}}function c(e,t,n,r,i){var a=l(e,i,r);var o=t&&t[a];if(o){delete t[a]}return _(n,a)}function f(e,t){var n;if(!t&&t!==""||t.constructor!==String){r.warning("Personalization container has an invalid app name; must be a non-empty string",null,"sap.ushell.adapters.cdm.PersonalizationAdapter")}if(!e){e=d()}n={items:{},__metadata:{appName:t,expiry:Date.now()+e.validity*60*1e3,validity:e.validity,category:m(e)}};return n}function p(e,t,n,r,i,a){var o,s,u=l(e,i,r);if(t&&t[u]){return t[u]}s=f(i,a);o=s.items;return{save:h.bind(null,n,s,u),load:I.bind(null,n,s,u),del:_.bind(null,n,s,u),setItemValue:b.bind(null,o),getItemValue:A.bind(null,o),getItemKeys:P.bind(null,o),containsItem:R.bind(null,o),delItem:C.bind(null,o)}}function m(e){return y(e)?"p":"u"}function g(e,t){return y(t)?o(e):s(e)}function y(t){return t&&t.keyCategory===e.keyCategory.FIXED_KEY&&t.writeFrequency===e.writeFrequency.LOW&&t.clientStorageAllowed}function h(e,t,i){return new n.Deferred(function(n){e.put(i,{data:t}).then(function(e){n.resolve()}).catch(function(e){r.error("Failed to save personalization container; response: "+(typeof e==="object"?JSON.stringify(e):e),e.stack?e.stack:null,"sap.ushell.adapters.cdm.PersonalizationAdapter");n.reject(e)})}).promise()}function I(e,t,r){function i(e){v(e.items)}return new n.Deferred(function(n){e.get(r).then(function(e){var r,a;if(e.status===200&&z(e.responseHeaders,"content-length")==="0"&&z(e.responseHeaders,"content-type").indexOf("text/plain")===0){i(t)}else{r=JSON.parse(e.responseText);if(r.data){r.items=r.data;delete r.data;r.__metadata=t.__metadata}a=r.items;v(t.items);Object.keys(a).forEach(function(e){t.items[e]=a[e]});t.__metadata=r.__metadata}n.resolve()}).catch(function(e){if(e.status===404){i(t);n.resolve()}else{v(t.items);n.reject(e)}})}).promise()}function _(e,t){return new n.Deferred(function(n){e.delete(t).then(function(){n.resolve()}).catch(function(e){n.reject(e)})}).promise()}function v(e){Object.keys(e).forEach(function(t){delete e[t]})}function w(e){if(e==="__metadata"){return undefined}else if(e.indexOf(t.S_VARIANT_PREFIX)===0||e.indexOf(t.S_ADMIN_PREFIX)===0){return e}return t.S_ITEM_PREFIX+e}function E(e){if(e.indexOf(t.S_ITEM_PREFIX)===0){return e.substring(t.S_ITEM_PREFIX.length)}else if(e.indexOf(t.S_VARIANT_PREFIX)===0||e.indexOf(t.S_ADMIN_PREFIX)===0){return e}throw new Error("Illegal item key for personalization container: '"+e+"'; must be prefixed with one of the following: ["+t.S_ITEM_PREFIX+", "+t.S_VARIANT_PREFIX+", "+t.S_ADMIN_PREFIX+"] ")}function P(e){return Object.keys(e).map(w).filter(function(e){return!!e})}function R(e,t){return e.hasOwnProperty(E(t))}function b(e,t,n){e[E(t)]=n}function A(e,t){return e[E(t)]}function C(e,t){delete e[E(t)]}function z(e,t){var n=e&&e.filter(function(e){return e.name.toLowerCase()===t});return n&&n[0]&&n[0].value}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/util/AppForInbound",["sap/base/util/ObjectPath","sap/base/Log"],function(e,t){"use strict";var i={};i.get=function(i,n){var s={};switch(n.resolutionResult.applicationType){case"SAPUI5":s=this._getUI5App(i,n);break;case"TR":s=this._getTRApp(i,n);break;case"WDA":s=this._getWDAApp(i,n);break;case"URL":s=this._getURLApp(i,n);break;case"WCF":s=this._getWCFApp(i,n);break;default:t.error("Unable to get CDM app for inbound: Application type '"+n.resolutionResult.applicationType+"' of app '"+i+"' is unknown and not supported.");throw new Error("Unknown application type: "+n.applicationType)}if(n.resolutionResult.systemAlias){e.set(["sap.app","destination"],{name:n.resolutionResult.systemAlias,semantics:"applied"},s)}return s};i._getURLApp=function(e,t){return{"sap.app":{id:e,crossNavigation:{inbounds:{"Shell-launchURL":{semanticObject:"Shell",action:"launchURL",signature:{parameters:{"sap-external-url":{required:true,filter:{value:t.resolutionResult.url,format:"plain"}}}}}}}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};i._getUI5App=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui5":{componentName:t.resolutionResult.ui5ComponentName},"sap.ui":{technology:"UI5",deviceTypes:t.deviceTypes},"sap.platform.runtime":{componentProperties:{url:t.resolutionResult.url}}}};i._getApplicationInbound=function(e){var t={};t[e.id]={semanticObject:e.semanticObject,action:e.action,signature:e.signature};return t};i._getTRApp=function(e,i){var n,s=i.resolutionResult.url.match(/transaction=(.+?)[&?]/);if(s){n=s[1]}else{t.error("Unable to determine ABAP transaction from inbound URL of app '"+e+"': "+i.resolutionResult.url+".")}return{"sap.app":{id:e,title:i.resolutionResult.text,subTitle:i.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(i)}},"sap.ui":{technology:"GUI",deviceTypes:i.deviceTypes},"sap.flp":{type:"application"},"sap.gui":{transaction:n}}};i._getWDAApp=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};i._getWCFApp=function(e,t){return{"sap.app":{id:e,title:t.resolutionResult.text,subTitle:t.resolutionResult.information,crossNavigation:{inbounds:this._getApplicationInbound(t)}},"sap.ui":{technology:"URL",deviceTypes:t.deviceTypes},"sap.url":{uri:t.resolutionResult.url}}};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/util/cdmSiteUtils",["sap/ushell/adapters/cdm/util/AppForInbound","sap/base/Log","sap/ushell/adapters/cdm/v3/utilsCdm"],function(i,e,t){"use strict";var a={_VISUALIZATION_TYPES:{STATIC_TILE:"sap.ushell.StaticAppLauncher",DYNAMIC_TILE:"sap.ushell.DynamicAppLauncher"}};a.getVisualizations=function(i,e){var a={};Object.keys(i).forEach(function(n){var s=i[n];var r;if(s.isCustomTile){r=s.vizType}else if(s.indicatorDataSource){r=this._VISUALIZATION_TYPES.DYNAMIC_TILE}else{r=this._VISUALIZATION_TYPES.STATIC_TILE}var p={vizType:r,vizConfig:{"sap.app":{title:s.title,subTitle:s.subTitle,info:s.info,tags:{keywords:s.keywords}},"sap.ui":{icons:{icon:s.icon}},"sap.flp":{tileSize:s.size,indicatorDataSource:s.indicatorDataSource,numberUnit:s.numberUnit,target:t.toTargetFromHash(s.url,e)}}};if(s.isCustomTile){p.vizConfig["sap.flp"]._instantiationData=s._instantiationData}a[n]=p}.bind(this));return a};a.getApplications=function(t){return Object.keys(t).reduce(function(a,n){var s=t[n],r=s.permanentKey||s.id;try{a[r]=i.get(n,s)}catch(i){e.error("Unable to dereference app '"+n+"' of CDM page.");a[n]={}}return a},{})};a.getVizTypes=function(i){return Object.keys(i).reduce(function(e,t){var a=i[t].id;if(!e[a]){e[a]={"sap.app":{id:a,type:"chipVizType"},"sap.flp":{vizOptions:i[t].vizOptions,tileSize:i[t].tileSize}}}return e},{})};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/AdapterBase",["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/m/GenericTile","sap/ui/core/ComponentContainer","sap/ushell/adapters/cdm/_LaunchPage/uri.transform","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/navigationMode","sap/ushell/resources","sap/ushell/utils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/base/util/Version","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/deepClone","sap/base/Log","sap/ushell/UI5ComponentType"],function(e,t,i,r,o,n,s,a,l,u,p,d,c,f,g,h,m,v,T,y,R){"use strict";var _=y.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter");var C=y.Level;var b="sap.ushell.components.tiles.cdm.applauncher";var I="sap.ushell.components.tiles.cdm.applauncherdynamic";function D(e,t,i){this.oAdapterConfiguration=i;this._mResolvedTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};this._mContentProviders={};this.TileType={Tile:"tile",Link:"link",Card:"card"}}D.prototype.getGroups=function(){var e=new f.Deferred;this._ensureLoaded().done(function(t){p.setPerformanceMark("FLP - homepage groups processed");e.resolve(t)}).fail(function(){e.resolve([])});return e.promise()};D.prototype._ensureLoaded=function(){var t=this,i;if(this._ensureLoadedDeferred){return this._ensureLoadedDeferred.promise()}i=new f.Deferred;this._ensureLoadedDeferred=i;this._getSiteData().done(function(i){if(!t.isSiteSupported(i)){throw new Error("Invalid CDM site version: Check the configuration of the launchpage adapter and the version of the FLP site")}var r=[];var o=e.getGroupsArrayFromSite(i);o=t._addDefaultGroup(o,i);o.forEach(function(e){r=t._ensureGroupItemsResolved(e,i).concat(r)});t._allPromisesDone(r).done(function(){t._ensureLoadedDeferred.resolve(o);delete t._ensureLoadedDeferred;t._logTileResolutionFailures(t._mFailedResolvedTiles)})}).fail(function(e){_.error("Delivering hompage groups failed - "+e);t._ensureLoadedDeferred.resolve([]);delete t._ensureLoadedDeferred});return i.promise()};D.prototype._ensureGroupItemsResolved=function(e,t){var i=[],r,o;if(e.payload&&e.payload.tiles){r=this._ensureGroupTilesResolved(e.payload.tiles,t);Array.prototype.push.apply(i,r)}if(e.payload&&e.payload.links){o=this._ensureGroupLinksResolved(e.payload.links,t);Array.prototype.push.apply(i,o)}return i};D.prototype._ensureGroupTilesResolved=function(e,t){return(e||[]).map(function(e,i){return this._resolveGroupTile(e,t).then(function(e){e.isLink=false;return e})},this)};D.prototype._ensureGroupLinksResolved=function(e,t){return(e||[]).map(function(e){return this._resolveGroupTile(e,t).then(function(e){e.isLink=true;return e})},this)};D.prototype._resolveGroupTile=function(e,t){var i=this._mResolvedTiles;var r=this._mFailedResolvedTiles;var o;function n(t){i[e.id]=t;if(r[e.id]){delete r[e.id]}return t}function s(e){var t=e.target;return t&&t.semanticObject==="Shell"&&t.action==="launchURL"}if(i[e.id]){return(new f.Deferred).resolve(i[e.id]).promise()}if(e.target&&e.target.url){o=f.when(this._getTileForUrl(e))}else if(e.isBookmark&&e.vizType===undefined){o=this._resolveTileByIntent(e,t)}else if(s(e)){o=this._resolveTileByIntent(e,t)}else{o=this._resolveTileByVizId(e,t)}var a=new f.Deferred;o.done(function(e){a.resolve(n(e))}).fail(function(t){r[e.id]=t;a.reject(t)});return a.promise()};D.prototype._resolveTileByVizId=function(r,o){var n,a,u,c,h,m,y,R,_,b,I,D,S;function L(e,t){return(new f.Deferred).reject({logLevel:e,message:t}).promise()}var P=new f.Deferred;if(!g(o)){return L(C.ERROR,"Cannot resolve tile: oSite must be an object")}if(!g(r)){return L(C.ERROR,"Cannot resolve tile: oTile must be an object")}a=r.vizId;n=T(t.get(o,a||"")||{});c=r.vizType||t.getTypeId(n);u=t.getType(o,c);if(!u){return L(C.ERROR,"Cannot resolve tile '"+r.id+"': no visualization type found for vizTypeId '"+c+"'")}h=t.getAppId(n);if(h){m=t.getAppDescriptor(o,h);if(!m){return L(C.INFO,"Tile '"+r.id+"' filtered from result: no app descriptor found for appId '"+h+"' (dangling app reference)")}y=e.getInbound(m,t.getTarget(n).inboundId);if(!y){return L(C.ERROR,"Cannot resolve tile '"+r.id+"': app '"+h+"' has no navigation inbound")}R=d.mapOne(y.key,y.inbound,m,n,u,o);var G=R.resolutionResult.applicationType,F=R.resolutionResult.additionalInformation,w=s.last("/core/navigation/enableInPlaceForClassicUIs"),k=w?w[G]:false;_=l.computeNavigationModeForHomepageTiles(G,F,k);D=t.getOutbound(n,y.inbound);I=this._toHashFromOutbound(D)}else{n.vizConfig=v({},n.vizConfig,r.vizConfig);R=d.mapOne(undefined,undefined,undefined,n,u,o);if(t.startsExternalUrl(n)){S=p.getMember(n.vizConfig,"sap|flp.target.url")}}b=R.tileResolutionResult;b.navigationMode=_;b.isLink=false;if(!this._isFormFactorSupported(b)){return L(C.INFO,"Tile '"+r.id+"' filtered from result: form factor not supported")}if(S||I){P.resolve({tileResolutionResult:b,tileIntent:S||I})}else{if(!this._oUrlParsingPromise){this._oUrlParsingPromise=sap.ushell.Container.getServiceAsync("URLParsing")}this._oUrlParsingPromise.then(function(e){if(r.target){var t=T(r.target);I=d.toHashFromTarget(i.harmonizeTarget(t),e)}P.resolve({tileResolutionResult:b,tileIntent:I})})}return P.promise()};D.prototype._isFormFactorSupported=function(t){var i=p.getFormFactor();return e.supportsFormFactor(t,i)};D.prototype._getFirstInbound=function(e){var t=Object.keys(e["sap.app"].crossNavigation.inbounds).shift(),i=e["sap.app"].crossNavigation.inbounds[t];return{key:t,inbound:i}};D.prototype._resolveTileByIntent=function(e){var t=this._prepareTileHash(e);return this._getTileFromHash(t)};D.prototype._allPromisesDone=function(e){var t=new f.Deferred,i;if(e.length===0){t.resolve([])}else{var r=e.map(function(e){i=new f.Deferred;e.always(i.resolve.bind(i));return i.promise()});f.when.apply(this,r).done(function(){var e=Array.prototype.slice.call(arguments);t.resolve(e)})}return t.promise()};D.prototype._logTileResolutionFailures=function(e){var t={};if(!e){return}Object.keys(C).filter(function(e){var t=C[e];return t>=C.FATAL&&t<=C.ALL}).forEach(function(e){t[C[e]]=""});Object.keys(e).forEach(function(i){var r=e[i];if(r.logLevel){t[r.logLevel]=t[r.logLevel].concat(r.message).concat("\n")}});if(t[C.FATAL]){_.fatal(t[C.FATAL])}if(t[C.ERROR]){_.error(t[C.ERROR])}if(t[C.WARNING]){_.warning(t[C.WARNING])}if(t[C.INFO]){_.info(t[C.INFO])}if(t[C.DEBUG]){_.debug(t[C.DEBUG])}if(t[C.TRACE]){_.trace(t[C.TRACE])}};D.prototype._isValidTitle=function(e){return typeof e==="string"&&e};D.prototype._isGroupPreset=function(t){return e.isGroupPreset(t)};D.prototype._isGroupLocked=function(t){return e.isGroupLocked(t)};D.prototype.getGroupTitle=function(t){return e.getGroupTitle(t)};D.prototype.getGroupId=function(t){return e.getGroupId(t)};D.prototype.isGroupVisible=function(t){return e.isGroupVisible(t)};D.prototype.getTileTitle=function(t){return e.getTileTitle(this._mResolvedTiles,t)};D.prototype.getTileContentProviderId=function(t){return e.getContentProviderId(t)};D.prototype.getTileSubtitle=function(t){return e.getTileSubtitle(this._mResolvedTiles,t)};D.prototype.getTileIcon=function(t){return e.getTileIcon(this._mResolvedTiles,t)};D.prototype.getTileInfo=function(t){return e.getTileInfo(this._mResolvedTiles,t)};D.prototype.getTileIndicatorDataSource=function(e){var t=this._mResolvedTiles[e.id],i={},r;if(e.indicatorDataSource){i.indicatorDataSource=v({},e.indicatorDataSource);if(e.dataSource){i.dataSource=v({},e.dataSource)}return i}if(!t){return i}r=t.tileResolutionResult;if(r.indicatorDataSource){i.indicatorDataSource=v({},r.indicatorDataSource);if(r.indicatorDataSource.hasOwnProperty("dataSource")){var o=r.indicatorDataSource.dataSource,s=r.dataSources;if(s&&s.hasOwnProperty(o)){i.dataSource=v({},s[o])}else{y.warning("datasource referenced but not found for tile: "+t.tileIntent)}}if(p.getMember(r,"runtimeInformation.componentProperties.url")){var a=p.getMember(i,"indicatorDataSource.path");var l=p.getMember(i,"dataSource.uri");var u=p.getMember(r,"runtimeInformation.componentProperties.url");var d=n(a,l,u,this.getWindowLocationHref());if(!d.error){if(a){i.indicatorDataSource.path=d.uri}if(l){i.dataSource.uri=d.uriParent}}}}return i};D.prototype.getWindowLocationHref=function(){return window.location.href};D.prototype.isGroupRemovable=function(e){return!this._isGroupPreset(e)};D.prototype.isGroupLocked=function(e){return this._isGroupLocked(e)};D.prototype.getGroupTiles=function(t){return e.getGroupTiles(t).concat(e.getGroupLinks(t))};D.prototype.getTileType=function(t){if(e.isLink(this._mResolvedTiles,t)){return this.TileType.Link}if(e.isCard(this._mResolvedTiles,t)){return this.TileType.Card}return this.TileType.Tile};D.prototype.getTileId=function(t){return e.getTileId(t)};D.prototype.getTileSize=function(t){return e.getTileSize(this._mResolvedTiles,t)||"1x1"};D.prototype.getTileTarget=function(t){var i=e.getTileId(t),r=this._mResolvedTiles[i];if(t.target&&t.target.url){return t.target.url}if(r){return r.tileIntent}y.warning("Could not find a target for Tile with id '"+i+"'","sap.ushell.adapters.cdm.LaunchPageAdapter");return""};D.prototype.isTileIntentSupported=function(e){return this._mFailedResolvedTiles[e.id]===undefined};D.prototype.setTileVisible=function(e,t){var i=this._mResolvedTiles[e.id];if(i){if(i.tileComponent){this._notifyTileAboutVisibility(i.tileComponent,t,i.visibility)}i.visibility=t}};D.prototype.getCardManifest=function(e){var t,i=this._mResolvedTiles[e.id];t=i.tileResolutionResult;return t.tileComponentLoadInfo};D.prototype._getTileUiComponentContainer=function(e,t,i){var n=this,s,l,p,d,c,g,h=new f.Deferred;sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(r){l=r;var o=this._createTileComponentData(e,i,t);return o}.bind(this)).then(function(t){return this._enhanceTileComponentData(e,t)}.bind(this)).then(function(f){s=t.tileResolutionResult;if(t.isLink){p=s.navigationMode;h.resolve(n._createLinkInstance(e,i,p,r,u));return}var m=this._createTileComponentProperties(f,s.tileComponentLoadInfo);if(!m.name){return Promise.reject("Cannot find name of tile component for tile with id: '"+e.id+"'")}if(m.manifest){f.properties=f.properties||{};f.properties.manifest=m.manifest}g=this._isCustomTileComponent(m.name);var v=function(t){var r;d=t.componentHandle.getInstance();c=new o({component:d,height:"100%"});if(!i){r=n._mResolvedTiles[e.id];r.tileComponent=d;if(typeof r.visibility==="boolean"){n._notifyTileAboutVisibility(d,r.visibility)}}return c};var T=function(){return l.createComponent({loadCoreExt:g,loadDefaultDependencies:false,componentData:f,url:m.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:m,ui5ComponentName:m.name},{},[],R.Visualization).then(v)};if(g){a.once("CoreResourcesComplementLoaded").do(function(){T().then(function(e){h.resolve(e)}).fail(function(e){h.reject(e)})})}else{T().then(function(e){h.resolve(e)}).fail(function(e){h.reject(e)})}}.bind(this)).catch(function(e){h.reject(e)});return h.promise()};D.prototype._createTileComponentProperties=function(e,t){var i={};if(!t||h(t)){if(e.properties.indicatorDataSource&&e.properties.indicatorDataSource.path){i.name=I}else{i.name=b}}else{i=t.componentProperties||{};i.name=t.componentName}return i};D.prototype.getTileView=function(e){var t=this;return new f.Deferred(function(i){return t._getTileView(e,false).then(function(e){i.resolve(e)},function(t){var r="Tile with ID '"+e.id+"' could not be initialized"+(t?":\n"+t:".");y.error(r,null,e.tileType);i.reject(r)})}).promise()};D.prototype._getTileView=function(e){var t,i,r=new f.Deferred;if(typeof e!=="object"||!e.id){i="Invalid input parameter passed to _getTileView: "+e;y.error(i);return r.reject(i).promise()}t=this._mResolvedTiles[e.id];if(!t){i="No resolved tile found for tile ID: "+e.id;y.error(i);return r.reject(i).promise()}return this._getTileUiComponentContainer(e,t,false)};D.prototype._createTileComponentData=function(e,t,i){var r=t?this.getCatalogTileTitle(e):this.getTileTitle(e),o=t?this.getCatalogTilePreviewSubtitle(e):this.getTileSubtitle(e),n=t?this.getCatalogTilePreviewIcon(e):this.getTileIcon(e),s=t?this.getCatalogTilePreviewInfo(e):this.getTileInfo(e),a=t?this.getCatalogTileTargetURL(e):this.getTileTarget(e),l=this.getTileIndicatorDataSource(e),u=e.numberUnit||i.tileResolutionResult&&i.tileResolutionResult.numberUnit,p={properties:{},startupParameters:{}};if(i.tileResolutionResult&&i.tileResolutionResult.isCustomTile===true&&i.tileResolutionResult.startupParameters){p.startupParameters=i.tileResolutionResult.startupParameters}if(r){p.properties.title=r}if(s){p.properties.info=s}if(o){p.properties.subtitle=o}if(n){p.properties.icon=n}if(a){p.properties.targetURL=a}if(u){p.properties.numberUnit=u}if(l.indicatorDataSource){p.properties.indicatorDataSource=l.indicatorDataSource;if(l.dataSource){p.properties.dataSource=l.dataSource}}if(i.tileResolutionResult){p.properties.navigationMode=i.tileResolutionResult.navigationMode;p.properties.contentProviderId=i.tileResolutionResult.contentProviderId||""}return p};D.prototype._enhanceTileComponentData=function(e,t){var i=Promise.resolve();var r=this.getTileContentProviderId(e);if(r){i=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(r)}).then(function(e){t.properties.indicatorDataSource.path=e.getFullyQualifiedXhrUrl(t.properties.indicatorDataSource.path)}).catch(function(){y.error("System Context not available")})}return i.then(function(){return t})};D.prototype._isGroupTile=function(t){return e.isGroupTile(t)};D.prototype._isCatalogTile=function(e){return!!(e&&e.isCatalogTile)};D.prototype._isFailedGroupTile=function(t){return!!(t&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[e.getTileId(t)])};D.prototype.getCatalogTileId=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return undefined}if(e.isBookmark&&m.get("target.url",e)){return e.target.url}return e.vizId||e.target&&e.target.url}if(this._isCatalogTile(e)){return e.id}return undefined};D.prototype.getCatalogTilePreviewTitle=function(e){if(this._isGroupTile(e)){return this.getTileTitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.title||""};D.prototype.getCatalogTileTargetURL=function(e){if(!e){throw new Error("The given tile is falsy")}if(this._isCatalogTile(e)){if(e.tileResolutionResult&&e.tileResolutionResult.isCustomTile){if(!e.tileResolutionResult.targetOutbound){return""}return this._toHashFromOutbound(e.tileResolutionResult.targetOutbound)}return e.tileIntent||""}return this.getTileTarget(e)};D.prototype.isGroupFeatured=function(e){return!!e.isFeatured};D.prototype._getMember=function(e,t){return p.getMember(e,t)};D.prototype.getCdmVersionsSupported=function(){return{min:c("3.0.0"),max:c("3.1.0")}};D.prototype.isSiteSupported=function(e){if(!e._version||c(e._version).compareTo(this.getCdmVersionsSupported().min)<0||c(e._version).compareTo(this.getCdmVersionsSupported().max)>0){y.fatal("Invalid CDM site version: Only version 3.0.0 is supported");return false}return true};D.prototype._isCustomTileComponent=function(e){return!(e===b||e===I)};return D},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/LaunchPageAdapter",["sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/_LaunchPage/modifyHome","sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs","sap/m/library","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/utils/UrlParsing","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/components/tiles/utils","sap/ushell/adapters/cdm/v3/AdapterBase","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/navigationMode","sap/ushell/Config","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/Log"],function(e,t,i,r,n,o,s,a,l,u,f,d,c,p,h,v,g,m){"use strict";var T=r.GenericTileMode;var b="sap.ushell.components.tiles.cdm.applauncher";var S="sap.ushell.components.tiles.cdm.applauncherdynamic";function R(r,R,y){u.call(this,r,R,y);Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("CommonDataModel")]).then(function(e){this.oURLParsingService=e[0];this.oCDMService=e[1]}.bind(this));this._getTileFromHashInContextOfSite=function(e,t,i){var r=new h.Deferred,n=t[i];if(!n){n=e(i);t[i]=n}n.done(function(e){var t={tileIntent:i,tileResolutionResult:e};r.resolve(t)}).fail(function(e){r.reject("Hash '"+i+"' could not be resolved to a tile. "+e)});return r.promise()};this._getTileFromHash=function(e){var t=new h.Deferred;sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(i){var r=i.resolveTileIntent.bind(i);this._getTileFromHashInContextOfSite(r,this._mCatalogTilePromises,e).done(t.resolve).fail(t.reject)}.bind(this));return t.promise()};this._getTileForUrl=function(e){var t={componentName:e.indicatorDataSource?S:b};return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:t,isCustomTile:false}}};this._prepareTileHash=function(e){var t={},i,r;if(this._isCatalogTile(e)){return e.tileIntent}if(this._isGroupTile(e)&&e.target){r=e.target.parameters||[];r.forEach(function(e){if(e.name&&e.value){t[e.name]=[e.value]}});i={target:{semanticObject:e.target.semanticObject,action:e.target.action},params:t,appSpecificRoute:e.target.appSpecificRoute};return"#"+s.constructShellHash(i)}return undefined};this.getDefaultGroup=function(){var e=new h.Deferred,t;var i=this;if(!this._oDefaultGroup){t=this._ensureLoaded()}if(t){t.done(function(){e.resolve(i._oDefaultGroup)}).fail(function(t){e.reject("Failed to access default group. "+t)})}else{e.resolve(i._oDefaultGroup)}return e.promise()};this.addGroup=function(i){var r=new h.Deferred,o,s,a=this;if(!this._isValidTitle(i)){return r.reject("No valid group title").promise()}s="Failed to add the group with title '"+i+"' to the homepage. ";this.oCDMService.getSite().done(function(s){o=n.generateUniqueId(e.getGroupIdsFromSite(s));t.addGroupToSite(s,t.createEmptyGroup(o,i));a.oCDMService.save().done(function(){delete a._ensureLoadedDeferred;r.resolve(s.groups[o],o)}).fail(function(e){r.reject(e)})}).fail(function(e){r.reject(s+e)});return r.promise()};this.setGroupTitle=function(i,r){var n=this,o=new h.Deferred,s,a;if(typeof i!=="object"||!e.getGroupId(i)){return o.reject("Unexpected group value").promise()}if(!n._isValidTitle(r)){return o.reject("Unexpected oGroup title value").promise()}a="Failed to set new title for group with id '"+e.getGroupId(i)+"'. ";s=e.getGroupTitle(i);this.oCDMService.getSite().done(function(e){if(i){t.setGroupTitle(i,r)}n.oCDMService.save().done(function(){o.resolve()}).fail(function(e){m.error(e);o.reject(s)})}).fail(function(e){o.reject(s,a+e)});return o.promise()};this.hideGroups=function(i){var r=new h.Deferred,n=this.oCDMService,o;if(i&&Array.isArray(i)){o="Failed to hide group. ";n.getSite().done(function(o){e.getGroupsArrayFromSite(o).forEach(function(r){var n=Array.prototype.indexOf.call(i,e.getGroupId(r))===-1;t.setGroupVisibility(r,n)});n.save().done(function(){r.resolve()}).fail(function(e){r.reject("Hiding of groups did not work as expected - "+e)})}).fail(function(e){r.reject(o+e)})}else{r.reject("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter.")}return r.promise()};this.moveGroup=function(i,r){var o=new h.Deferred,s=this.oCDMService,a,l;if(!i||!e.getGroupId(i)||r<0){return o.reject("Unable to move groups - invalid parameters").promise()}l="Failed to move group with id '"+i.identification.id+"'. ";s.getSite().done(function(l){var u=e.getGroupIdsFromSite(l),f=e.getGroupId(i);if(!u){return o.reject("groupsOrder not found - abort operation of adding a group.")}else if(u.indexOf(f)===r){return o.resolve()}a=n.moveElementInsideOfArray(u,u.indexOf(f),r);if(!a){return o.reject("invalid move group operation - abort.")}t.setGroupsOrder(l,a);s.save().done(function(){o.resolve()}).fail(function(e){o.reject(e)});return undefined}).fail(function(e){o.reject(l+e)});return o.promise()};this.removeGroup=function(i){var r=new h.Deferred,n=this.oCDMService,o,s;if(typeof i!=="object"){return r.reject("invalid group parameter").promise()}s=e.getGroupId(i);if(!s){return r.reject("group without id given").promise()}o="Failed to remove group with id '"+s+"'. ";n.getSite().done(function(e){t.removeGroupFromSite(e,i);n.save().done(function(){r.resolve()}).fail(function(e){r.reject(e)})}).fail(function(e){r.reject(o+e)});return r.promise()};this.resetGroup=function(i){var r=new h.Deferred,n=this.oCDMService,o=[],s=this,a,l;if(typeof i==="object"&&e.getGroupId(i)){l=e.getGroupId(i);a="Failed to reset group with id '"+l+"'. ";n.getSite().done(function(a){h.extend(true,o,e.getGroupsArrayFromSite(a));if(s.isGroupRemovable(i)===false){n.getGroupFromOriginalSite(l).done(function(i){if(typeof a==="object"&&e.getGroupFromSite(a,l)){t.overwriteGroup(a,i,l)}n.save().done(function(){r.resolve(i)}).fail(function(e){r.reject("Group could not be reset - "+e,o)})}).fail(function(e){r.reject("Group could not be reset - "+e,o)})}else{r.reject("Group could not be reset as it was created by the user",o)}}).fail(function(e){r.reject(a+e,[])})}return r.promise()};this.getLinkTiles=function(t){return e.getGroupLinks(t)};this.isLinkPersonalizationSupported=function(){return true};this._notifyTileAboutRefresh=function(e){if(typeof e.tileRefresh==="function"){e.tileRefresh()}};this.refreshTile=function(e){var t=this._mResolvedTiles[e.id];if(t){if(t.tileComponent){this._notifyTileAboutRefresh(t.tileComponent)}}};this._notifyTileAboutVisibility=function(e,t,i){if(typeof e.tileSetVisible==="function"&&i!==t){e.tileSetVisible(t)}};this.getTileView=function(e){var t=this;return new h.Deferred(function(i){return t._getTileView(e,false).then(function(e){i.resolve(e)},function(t){var r="Tile with ID '"+e.id+"' could not be initialized"+(t?":\n"+t:".");m.error(r,null,e.tileType);i.reject(r)})}).promise()};this._getCatalogTileViewControl=function(e){var t=new h.Deferred;if(typeof e!=="object"){var i="Invalid input parameter passed to _getCatalogTileView: "+e;m.error(i);return t.reject(i).promise()}return this._getTileUiComponentContainer(e,e,true)};this._createLinkInstance=function(e,t,i,r,n){var s,a,l,u=this.getTileSubtitle(e);var f=r;if(t===true){s=this.getCatalogTileTitle(e)}else{s=this.getTileTitle(e)}a=new f({mode:T.LineMode,subheader:u,header:s,url:o.getLeanURL(this.getTileTarget(e)),press:function(t){this._genericTilePressHandler(e,t)}.bind(this)});if(i){l=n.i18n.getText(i+"NavigationMode");a.setAriaLabel(l+" "+s+" "+u)}this._mResolvedTiles[e.id].linkTileControl=a;return a};this._genericTilePressHandler=function(e,t){var i;if(t.getSource().getScope&&t.getSource().getScope()==="Display"){i=this.getTileTarget(e);if(i){if(i[0]==="#"){hasher.setHash(i)}else{o.openURL(i,"_blank")}}}};this.addTile=function(e,t){var i=new h.Deferred,r,n=this.oCDMService,o;if(!t){t=this._oDefaultGroup}if(e.contentProviderId){if(e.externalUrl){return this.addBookmark(this._getBookmarkDataForExtensionCatalogTile(e),t)}return i.reject("Extension Tile without URL").promise()}o=k();o.vizId=e.vizId;this._mResolvedTiles[o.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};n.getSite().done(function(e){e.groups[t.identification.id].payload.tiles.push(o);n.save().done(function(){i.resolve(o)}).fail(function(e){i.reject(e)})}).fail(function(e){r="Failed to add tile with id '"+o.id+"' to group with id '"+t.identification.id+"'. ";i.reject(r+e)});return i.promise()};this._getBookmarkDataForExtensionCatalogTile=function(e){var t={title:e.tileResolutionResult.title,subtitle:e.tileResolutionResult.subTitle,icon:e.tileResolutionResult.icon,info:e.tileResolutionResult.info,url:e.externalUrl};if(e.tileResolutionResult.indicatorDataSource&&e.tileResolutionResult.indicatorDataSource.path){t.serviceUrl=e.tileResolutionResult.indicatorDataSource.path;t.serviceRefreshInterval=e.tileResolutionResult.indicatorDataSource.refresh}return t};this.removeTile=function(e,t,i){var r=this.oCDMService,n,o=new h.Deferred,s=this;if(!e||typeof e!=="object"||!e.identification||!e.identification.id||!t||typeof t!=="object"||!t.id){return o.reject({},"Failed to remove tile. No valid input parameters passed to removeTile method.").promise()}n="Failed to remove tile with id '"+t.id+"' from group with id '"+e.identification.id+"'. ";r.getSite().done(function(a){var l,u;i=+i;try{l=a.groups[e.identification.id].payload}catch(t){o.reject(a.groups[e.identification.id],n)}u=s.getTileType(t)===s.TileType.Link?"links":"tiles";if(s.getTileType(t)===s.TileType.Link){i-=l.tiles.length}if(i>=0){l[u].splice(i,1)}else{l[u]=l[u].filter(function(e){return e.id!==t.id})}r.save().done(function(){o.resolve()}).fail(function(t){m.error(t);o.reject(a.groups[e.identification.id],t)})}).fail(function(e){o.reject({},n+e)});return o.promise()};this.moveTile=function(e,t,i,r,n,o){var s=new h.Deferred,a=this.oCDMService,l=this,u;if(!e||v(e)||t===undefined||t<0||i===undefined||i<0||!r||!r.identification||!r.identification.id||!n||!n.identification||!n.identification.id){return s.reject("Invalid input parameters").promise()}u="Failed to move tile with id '"+e.id+"'. ";a.getSite().done(function(f){var d,c,p=l.getTileType(e)===l.TileType.Link?"links":"tiles";if(!o){o=l._mResolvedTiles[e.id].isLink?"link":"tile"}d=o==="link"?"links":"tiles";if(p!==d&&l._mResolvedTiles[e.id]){l._mResolvedTiles[e.id].isLink=o==="link"}if(d==="links"){i-=f.groups[n.identification.id].payload.tiles.length}if(p==="links"){t-=f.groups[r.identification.id].payload.tiles.length}if(r.identification.id===n.identification.id){if(t!==i||p!==d){c=f.groups[n.identification.id].payload;c[p].splice(t,1);c[d].splice(i,0,e)}else{return s.resolve(e).promise()}}else{f.groups[r.identification.id].payload[p].splice(t,1);f.groups[n.identification.id].payload[d].splice(i,0,e)}a.save().done(function(){s.resolve(e)}).fail(function(e){m.error(u+e);s.reject(u+e)});return undefined}).fail(function(e){m.error(u+e);s.reject(u+e)});return s.promise()};this._compareCatalogs=function(e,t){return(e.identification.title||"").toLowerCase()>(t.identification.title||"").toLowerCase()?1:-1};this.getCatalogs=function(){var e=this,t=new h.Deferred,i=[];function r(e,t,i,r,n,o){var s=e.catalogs[t];if(n&&o){s.contentProviderId=n;o.catalogsMap[t]=s}i.push(s);r.notify(s)}sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(n){n.getSite().done(function(o){Object.keys(o.catalogs).forEach(function(e){r(o,e,i,t)});n.getExtensionSites().progress(function(n){var o=n.providerId;var s=n.site;var a=Promise.resolve(s);var l={sitePromise:a,site:s,catalogsMap:{}};Object.keys(s.catalogs).forEach(function(n){e._mContentProviders[o]=l;r(s,n,i,t,o,l)})}).done(function(r){r.filter(function(e){return!e.success}).forEach(function(e){i.push({identification:{id:e.providerId},contentProviderId:e.providerId,error:"The following content providers could not provide catalogs: "+e.providerId+(e.error?" -> "+e.error:"")})});t.resolve(i.sort(e._compareCatalogs))})})});return t.promise()};this._isStartableInbound=function(e){if(!e.semanticObject||!e.action){return false}var t=["Shell-plugin","Shell-bootConfig"];if(t.indexOf(e.semanticObject+"-"+e.action)>-1){return false}return true};this._isStartableVisualization=function(e,t){var i=g.get("signature.parameters",t);if(!i){return true}var r=g.get("parameters",f.getTarget(e));return Object.keys(i).every(function(e){var t=i[e];if(e==="sap-external-url"){return true}if(!t.filter||t.filter.format!=="plain"){return true}var n=t.filter.value;var o=g.get([e,"value","value"],r);if(n!==o){return false}return true})};this._isHiddenInbound=function(e){return!!e.hideLauncher};this._toHashFromInbound=function(e){var t=a.toHashFromInbound(e);if(!t){return undefined}return"#"+t};this._getExternalUrlFromInbound=function(e){return g.get("signature.parameters.sap-external-url.launcherValue.value",e)||null};this._toHashFromOutbound=function(e){var t=a.toHashFromOutbound(e);if(!t){return undefined}return"#"+t};this.getCatalogTiles=function(e){var t=this,i=new h.Deferred;if(typeof e!=="object"||e===null){return i.reject("Invalid input parameter '"+e+"' passed to getCatalogTiles.").promise()}if(e.contentProviderId&&this._mContentProviders[e.contentProviderId]){this._mContentProviders[e.contentProviderId].sitePromise.then(function(r){C.call(t,e,r).done(i.resolve).fail(i.reject)},function(e){i.reject("Failed to get site: "+e)})}else{this.oCDMService.getSite().done(function(r){C.call(t,e,r).done(i.resolve).fail(i.reject)}).fail(function(e){i.reject("Failed to get site: "+e)})}return i.promise()};function C(t,i){var r=this,o=new h.Deferred;setTimeout(function(){var s=(t.payload&&t.payload.viz||[]).reduce(function(o,s){var l,u,p,h,v,g,m,T,b,S,R,y,C,_,k,I,j;if(!s){return o}u=f.get(i,s);if(!u){return o}p=f.getTypeId(u);h=f.getType(i,p);l=f.getAppId(u);if(l){v=f.getAppDescriptor(i,l);if(!v){return o}g=e.getInbound(v,f.getTarget(u).inboundId);if(!g){return o}if(!r._isStartableInbound(g.inbound)||!r._isStartableVisualization(u,g.inbound)||r._isHiddenInbound(g.inbound)){return o}T=a.mapOne(g.key,g.inbound,v,u,h,i);if(!T||!T.tileResolutionResult){return o}_=T.resolutionResult.applicationType;k=T.resolutionResult.additionalInformation;j=c.last("/core/navigation/enableInPlaceForClassicUIs");I=j?j[_]:false;b=d.computeNavigationModeForHomepageTiles(_,k,I);S=f.getOutbound(u,g.inbound);m=r._toHashFromOutbound(S)}else{var D=f.getConfig(u);if(D===undefined){return o}T=a.mapOne(undefined,undefined,undefined,u,h,i);if(n.getMember(D,"sap|flp.target.type")==="URL"){C=n.getMember(D,"sap|flp.target.url")}}R=T.tileResolutionResult;R.navigationMode=b;if(!r._isFormFactorSupported(R)){return o}if(t.contentProviderId){C=r._getMember(v,"sap|app.crossNavigation.inbounds.Shell-launchURL.signature.parameters.sap-external-url.launcherValue.value")}y={id:s,vizId:s,tileIntent:C||m,tileResolutionResult:R,isCatalogTile:true};if(t.contentProviderId&&C){y.contentProviderId=t.contentProviderId;y.externalUrl=C}o.push(y);return o},[]);o.resolve(s)},0);return o.promise()}this.getCatalogError=function(e){if(e.error){return e.error}return undefined};this.getCatalogId=function(e){return i.getId(e)};this.getCatalogTitle=function(e){return i.getTitle(e)};this._isFailedCatalogTile=function(t){return!!(t&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[e.getTileId(t)])};this.getCatalogTileTitle=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return""}return this._mResolvedTiles[e.id].tileResolutionResult.title}if(this._isCatalogTile(e)){if(this._isFailedCatalogTile(e)){return undefined}return e.tileResolutionResult.title}return undefined};this.getCatalogTileSize=function(e){return e.tileResolutionResult.size||"1x1"};this.getCatalogTileViewControl=function(e){return this._getCatalogTileViewControl(e)};this.getCatalogTilePreviewSubtitle=function(e){if(this._isGroupTile(e)){return this.getTileSubtitle(e)}return e.tileResolutionResult&&e.tileResolutionResult.subTitle||""};this.getCatalogTilePreviewIcon=function(e){if(this._isGroupTile(e)){return this.getTileIcon(e)}return e.tileResolutionResult&&e.tileResolutionResult.icon||""};this.getCatalogTilePreviewInfo=function(e){if(this._isGroupTile(e)){return this.getTileInfo(e)}return e.tileResolutionResult&&e.tileResolutionResult.info||""};this.getCatalogTilePreviewIndicatorDataSource=function(e){return e.tileResolutionResult&&e.tileResolutionResult.indicatorDataSource};this.getCatalogTileKeywords=function(e){var t=[],i=e;if(!i){m.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return t}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){i=this._mResolvedTiles[e.id]}if(i&&i.tileResolutionResult&&Array.isArray(i.tileResolutionResult.keywords)){Array.prototype.push.apply(t,i.tileResolutionResult.keywords)}if(i&&i.tileResolutionResult&&i.tileResolutionResult.title){t.push(i.tileResolutionResult.title)}if(i&&i.tileResolutionResult&&i.tileResolutionResult.subTitle){t.push(i.tileResolutionResult.subTitle)}return t};this._visitBookmarks=function(e,t,i,r){var n;var o=s.parseShellHash(e);if(o){n=G(o)}else{n=P(e)}return this.oCDMService.getSite().then(function(e){var o=e.groups;var s=Object.keys(o).filter(function(e){return!o[e].payload.locked}).map(function(e){return o[e].payload.tiles.filter(function(e){return e.isBookmark&&e.vizType===i&&(e.contentProvider||"")===(r||"")&&j(n,e.target)})}).reduce(function(e,t){Array.prototype.push.apply(e,t);return e},[]);if(!t){return s.length}return h.when(s.map(t)).then(function(){return s.length})})};this.addBookmark=function(e,t,i){var r=this;return new h.Deferred(function(n){var o=r.oCDMService;h.when(t||r.getDefaultGroup(),o.getSite()).done(function(t,a){var l,u,f=s.parseShellHash(e.url),d,c=false;if(!f){u=P(e.url);c=true}else{u=G(f)}l=_(e,u,i);if(c){d=new h.Deferred;d.resolve(r._getTileForUrl(l))}else{d=r._getTileFromHash(e.url)}d.done(function(e){e.isLink=false;r._mResolvedTiles[l.id]=e;a.groups[t.identification.id].payload.tiles.push(l);o.save().done(function(){n.resolve(l)}).fail(function(e){n.reject(e)})}).fail(function(e){n.reject("Bookmark creation failed because: "+e)})}).fail(function(e){n.reject(e)})}).promise()};this.addCustomBookmark=function(e,t,i){var r=new h.Deferred;Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("CommonDataModel")]).then(function(o){var s=o[0];var a=o[1];h.when(t||this.getDefaultGroup(),a.getSite()).done(function(t,o){var l,u=s.parseShellHash(e.url),f=u===undefined;l=f?P(e.url):G(u);var d={id:n.generateUniqueId([]),vizType:e.vizType,title:e.title,subTitle:e.subtitle,icon:e.icon,info:e.info,numberUnit:e.numberUnit,target:l,indicatorDataSource:{path:e.serviceUrl,refresh:e.serviceRefreshInterval},vizConfig:e.vizConfig,isBookmark:true};if(i){d.contentProvider=i}this._resolveTileByVizId(d,o).done(function(e){e.isLink=false;this._mResolvedTiles[d.id]=e;o.groups[t.identification.id].payload.tiles.push(d);a.save().done(function(){r.resolve(d)}).fail(r.reject)}.bind(this)).fail(function(e){r.reject("Bookmark creation failed because: "+e)})}.bind(this)).fail(r.reject)}.bind(this));return r.promise()};this.countBookmarks=function(e,t){return this._visitBookmarks(e,undefined,undefined,t)};this.countCustomBookmarks=function(e){if(!e.vizType){return Promise.reject("countCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}return new Promise(function(t,i){this._visitBookmarks(e.url,undefined,e.vizType,e.contentProviderId).done(t).fail(i)}.bind(this))};this.updateBookmarks=function(e,t,i,r){var n=this.oCDMService;var o=this._mResolvedTiles;function a(i){return new h.Deferred(function(r){var n,a;var l;var u=false;var f={};if(t.url||t.url===""){n=s.parseShellHash(t.url);if(!n){a=P(t.url)}else{a=G(n)}}if(i.icon!==t.icon){f.icon=t.icon;u=true}if(i.title!==t.title){f.title=t.title;u=true}if(i.subTitle!==t.subtitle){f.subtitle=t.subtitle;u=true}if(t.url&&e!==t.url){f.targetURL=t.url;u=true}if(i.info!==t.info){f.info=t.info;u=true}I(i,t,a);if(u&&o[i.id]){l=o[i.id].tileComponent;if(l){l.tileSetVisualProperties(f)}}r.resolve(i)}).promise()}return this._visitBookmarks(e,a,i,r).then(function(e){return n.save().then(function(){return e})})};this.updateCustomBookmarks=function(e,t){if(!e.vizType){return Promise.reject("updateCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}if(t.title===""){return Promise.reject("updateCustomBookmarks: The bookmark title cannot be an empty string")}if(t.url===""){return Promise.reject("updateCustomBookmarks: The bookmark url cannot be an empty string")}return new Promise(function(i,r){this.updateBookmarks(e.url,t,e.vizType,e.contentProviderId).done(i).fail(r)}.bind(this))};this.deleteBookmarks=function(e,t,i){var r=this.oCDMService;var n=s.parseShellHash(e);var o;if(n){o=G(n)}else{o=P(e)}return r.getSite().then(function(e){var n=e.groups;var s=Object.keys(n).map(function(e){var r=n[e].payload;var s=0;r.tiles=r.tiles.filter(function(e){if(e.isBookmark&&e.vizType===t&&(e.contentProvider||"")===(i||"")&&j(o,e.target)){++s;return false}return true});return s}).reduce(function(e,t){e+=t;return e},0);return r.save().then(function(){return s})})};this.deleteCustomBookmarks=function(e){if(!e.vizType){return Promise.reject("deleteCustomBookmarks: Required parameter is missing: oIdentifier.vizType")}return new Promise(function(t,i){this.deleteBookmarks(e.url,e.vizType,e.contentProviderId).done(t).fail(i)}.bind(this))};this.onCatalogTileAdded=function(e){};this._onTileSettingsSave=function(e,t){var i=new h.Deferred,r,n,o,s,a,l,u;if(!e||!e.id||!t){return i.reject().promise()}n=t.oTitleInput.getValue();s=t.oSubTitleInput.getValue();o=t.oInfoInput.getValue();a=this.getTileTitle(e);l=this.getTileInfo(e);u=this.getTileSubtitle(e);if(a===n&&u===s&&l===o){return i.resolve().promise()}r={};if(a!==n){r.title=n;e.title=n}if(u!==s){r.subtitle=s;e.subTitle=s}if(l!==o){r.info=o;e.info=o}if(this._mResolvedTiles[e.id].tileComponent){this._mResolvedTiles[e.id].tileComponent.tileSetVisualProperties(r)}else if(this._mResolvedTiles[e.id].linkTileControl){if(r.title){this._mResolvedTiles[e.id].linkTileControl.setHeader(r.title)}if(r.subtitle){this._mResolvedTiles[e.id].linkTileControl.setSubheader(r.subtitle)}if(r.title||r.subtitle){this._mResolvedTiles[e.id].linkTileControl.rerender()}}sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){e.save().fail(function(e){m.error(e);i.reject("Could not save personalization changes: "+e)}).done(function(){i.resolve()})});return i.promise()};this.getTileActions=function(e){var t=[],i,r;if(this._isGroupTile(e)&&!this._isFailedGroupTile(e)){r=new p({config:{display_title_text:this.getTileTitle(e),display_subtitle_text:this.getTileSubtitle(e),display_info_text:this.getTileInfo(e)}});i=l.getTileSettingsAction(r,this._onTileSettingsSave.bind(this,e),this.getTileType(e));t.push(i)}return t};function _(e,t,i){var r=k(e,t);r.isBookmark=true;if(i){r.contentProvider=i}return r}function k(e,t){var i={id:n.generateUniqueId([])};I(i,e,t);return i}function I(e,t,i){t=h.extend(true,{},t);if(i){e.target=i}if(t.title||t.title===""){e.title=t.title}if(t.icon||t.icon===""){e.icon=t.icon}if(t.subtitle||t.subtitle===""){e.subTitle=t.subtitle}if(t.info||t.info===""){e.info=t.info}if(t.numberUnit||t.numberUnit===""){e.numberUnit=t.numberUnit}if(t.dataSource){e.dataSource={};h.extend(true,e.dataSource,t.dataSource);delete t.serviceUrl}else if(t.dataSource===null){delete e.dataSource;delete e.indicatorDataSource;delete t.serviceUrl}if((t.dataSource||e.dataSource)&&t.serviceUrlPath){e.indicatorDataSource={path:t.serviceUrlPath}}if(t.serviceUrl||t.serviceUrl===""){if(e.dataSource){m.warning("`serviceUrl` is marked for deprecation in the future."+"It is not the preferred means for defining a dynamic "+"tile's data source. Please use `oParameter.dataSource`");delete e.dataSource}e.indicatorDataSource={path:t.serviceUrl}}else if(t.serviceUrl===null&&!e.dataSource){delete e.indicatorDataSource}if(t.serviceRefreshInterval||t.serviceRefreshInterval===0){e.indicatorDataSource.refresh=t.serviceRefreshInterval}if(t.vizConfig){e.vizConfig=t.vizConfig}}function j(e,t){if(e&&t){if(e.url){return e.url===t.url}return e.semanticObject===t.semanticObject&&e.action===t.action&&D(e.parameters,t.parameters)&&e.appSpecificRoute===t.appSpecificRoute}return e===t}function D(e,t){var i,r;e=e||[];t=t||[];if(e.length===t.length){i=w(e);r=w(t);return i===r}return false}function w(e){return e.map(function(e){return e.name+e.value}).sort().join()}function P(e){return{url:e}}function G(e){var t={semanticObject:e.semanticObject,action:e.action,parameters:F(e.params)};if(e.appSpecificRoute){t.appSpecificRoute=e.appSpecificRoute}return t}function F(e){return Object.keys(e).map(function(t){var i=e[t]&&e[t][0];return{name:t,value:i||""}})}this._getSiteData=function(){var e=new h.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(t){t.getSite().done(e.resolve).fail(e.reject)});return e.promise()};this._addDefaultGroup=function(i,r){var o=e.getDefaultGroup(i);if(!o){o=t.createDefaultGroup(n.generateUniqueId(e.getGroupIdsFromSite(r)));r=t.addGroupToSite(r,o,0);i=e.getGroupsArrayFromSite(r)}this._oDefaultGroup=o;return i}}R.prototype=u.prototype;return R},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readCatalogs",[],function(){"use strict";function t(t){return t.identification.id}function e(t){return t.identification.title}return{getId:t,getTitle:e}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readHome",["sap/ushell/utils/type","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications"],function(i,e){"use strict";var t={};t.getGroupsArrayFromSite=function(i){var e=[];i.site.payload.groupsOrder.forEach(function(t,n){var r=i.groups[t];if(r){r.payload=r.payload||{};e.push(r)}});return e};t.getGroupsMapFromSite=function(i){return i.groups};t.getGroupIdsFromSite=function(i){return i.site.payload.groupsOrder};t.getGroupFromSite=function(i,e){return i.groups[e]};t.getDefaultGroup=function(i){var e=i.filter(function(i){return i.payload.hasOwnProperty("isDefaultGroup")});if(e.length>0){return e[0]}};t.getGroupId=function(i){return i.identification&&i.identification.id};t.getGroupTitle=function(i){return i.identification.title};t.isGroupPreset=function(i){if(!i.payload.hasOwnProperty("isPreset")){return true}return!!i.payload.isPreset};t.isGroupLocked=function(i){return!!i.payload.locked};t.isGroupVisible=function(i){return!!(i.identification.isVisible===undefined||i.identification.isVisible===true)};t.getGroupTiles=function(e){if(e.payload.tiles&&i.isArray(e.payload.tiles)&&e.payload.tiles.length>0){return e.payload.tiles}return[]};t.getGroupLinks=function(e){if(e.payload.links&&i.isArray(e.payload.links)&&e.payload.links.length>0){return e.payload.links}return[]};t.getTileId=function(i){return i.id};t.getTileVizId=function(i){return i.vizId};t.getTileTitle=function(i,e){var t;if(e&&e.isBookmark){return e.title}t=i[e.id];if(t){return e.title||t.tileResolutionResult.title}};t.getContentProviderId=function(i){return i.contentProvider||undefined};t.getTileSubtitle=function(i,e){var t;if(e.isBookmark){return e.subTitle}t=i[e.id];if(t){return e.subTitle||t.tileResolutionResult.subTitle}};t.getTileInfo=function(i,e){var t;if(e.isBookmark){return e.info}t=i[e.id];if(t){return e.info||t.tileResolutionResult.info}};t.getTileIcon=function(i,e){var t;if(e.isBookmark){return e.icon}t=i[e.id];if(t){return e.icon||t.tileResolutionResult.icon}};t.getTileIndicatorDataSource=function(i,e){var t;if(e.isBookmark){return e.icon}t=i[e.id];if(t){return e.icon||t.tileResolutionResult.icon}};t.getTileSize=function(i,e){var t=i[e.id];if(t&&t.tileResolutionResult&&t.tileResolutionResult.size){return t.tileResolutionResult.size}};t.isLink=function(i,e){var t=i[e.id];if(t){return!!t.isLink}return false};t.isCard=function(i,e){var t=i[e.id];if(t){return!!t.tileResolutionResult.isCard}return false};t.isGroupTile=function(i){return!!(i&&i.id&&!i.isCatalogTile)};t.supportsFormFactor=function(i,e){return i.deviceTypes&&i.deviceTypes[e]};t.getInbound=function(i,t){var n=e.getInbound(i,t);return n&&{key:t,inbound:n}};return t},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils",["sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readHome","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/Config","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ushell/library"],function(a,t,e,i,r,o,n,s,u,p,d){"use strict";var c={};var l=d.DisplayFormat;c.getVizData=function(r,n,s,p){if(n.isBookmark&&n.url){n=o(n);n.subTitle=n.subtitle;n.target=i.toTargetFromHash(n.url)}var d=this.getCdmParts(r,n);var c=d&&d[1]||{};var l=d&&d[3]||{};var v=a.get(r,e.getTileVizId(n))||{};var g={id:e.getTileId(n),vizId:e.getTileVizId(n)||"",vizType:n.vizType||a.getTypeId(v)||"",vizConfig:u({},c,n.vizConfig),title:a.getTitle(d)||"",subtitle:a.getSubTitle(d)||"",icon:a.getIcon(d)||"",keywords:a.getKeywords(d)||[],info:a.getInfo(d)||"",target:n.target||a.getTarget(v)||{},indicatorDataSource:this._getIndicatorDataSource(n,v,p),isBookmark:n.isBookmark||false,contentProviderId:n.contentProviderId||t.getContentProviderId(l)||"",displayFormatHint:n.displayFormatHint,numberUnit:a.getNumberUnit(d),_instantiationData:a.getInstantiationData(v)};g.target=this.harmonizeTarget(g.target);g.targetURL=i.toHashFromVizData(g,r.applications);if(g.indicatorDataSource){if(g.indicatorDataSource.dataSource){g.dataSource=a.getDataSource(d,g.indicatorDataSource.dataSource)}else if(n.isBookmark&&n.dataSource){g.dataSource=n.dataSource}}if(n.isBookmark){this._addBookmarkInstantiationData(g,r)}if(!g._instantiationData||!Object.keys(g._instantiationData)){g._instantiationData={platform:"CDM",vizType:a.getType(r,g.vizType)}}this._evaluateDisplayFormat(g,r);return g};c._getIndicatorDataSource=function(t,e,i){if(t.indicatorDataSource&&t.indicatorDataSource.path){if(t.contentProviderId&&i){t.indicatorDataSource.path=i.getFullyQualifiedXhrUrl(t.indicatorDataSource.path)}return t.indicatorDataSource}return a.getIndicatorDataSource(e)};c.getVizRef=function(a){var t={id:a.id,vizId:a.vizId,title:a.title,subTitle:a.subtitle,icon:a.icon,keywords:a.keywords,info:a.info,target:a.target,indicatorDataSource:a.indicatorDataSource,contentProviderId:a.contentProviderId,displayFormatHint:a.displayFormatHint,numberUnit:a.numberUnit};if(t.indicatorDataSource&&t.indicatorDataSource.originalPath){t.indicatorDataSource.path=t.indicatorDataSource.originalPath;delete t.indicatorDataSource.originalPath}if(a.isBookmark){t.isBookmark=a.isBookmark;if(a.vizConfig!==undefined&&!p(a.vizConfig)){t.vizType=a.vizType;if(a.cdmVizType){t.vizType=a.cdmVizType}t.vizConfig=a.vizConfig}}return t};c.getCdmParts=function(i,r){var o=a.get(i,e.getTileVizId(r))||{};var n=a.getConfig(o);var s=a.getAppDescriptor(i,a.getAppId(o));var u=t.getInbound(s,a.getInboundId(o));return[r,n,u,s]};c.harmonizeTarget=function(a){var t=a.parameters;if(!t||n(t)){return a}var e={};t.forEach(function(a){if(e[a.name]){if(!Array.isArray(e[a.name].value.value)){e[a.name].value.value=[e[a.name].value.value]}e[a.name].value.value.push(a.value)}else{e[a.name]={value:{value:a.value,format:"plain"}}}});a.parameters=e;return a};c._evaluateDisplayFormat=function(t,e){var i=t.displayFormatHint;var r=a.getType(e,t.vizType);var o=a.getTileSize(r);var n=o==="1x2"?l.StandardWide:l.Standard;var s=[n,l.Compact];t.supportedDisplayFormats=a.getSupportedDisplayFormats(r)||s;var u=a.getDefaultDisplayFormat(r)||n;if(t.supportedDisplayFormats.indexOf(i)===-1){t.displayFormatHint=u}};c._addBookmarkInstantiationData=function(t,e){if(t.vizType){var i=a.getType(e,t.vizType);var r=s.get(["sap.app","type"],i||{});if(i&&r!=="chipVizType"){t._instantiationData={platform:"CDM",vizType:i}}else{var n=a.getChipConfigFromVizReference(t);t._instantiationData={platform:"ABAP",chip:o(n),simplifiedChipFormat:true};t.cdmVizType=t.vizType;t.vizType=n.chipId}}else if(t.indicatorDataSource&&t.indicatorDataSource.path){t.vizType="sap.ushell.DynamicAppLauncher"}else{t.vizType="sap.ushell.StaticAppLauncher"}};c.getBookmarkVizTypeIds=function(t){var e=["sap.ushell.StaticAppLauncher","sap.ushell.DynamicAppLauncher"];var i=t.vizType;if(i&&!e.includes(i)){e.push(i)}var r=a.getChipConfigFromVizReference(t);var o=r&&r.chipId;if(o&&!e.includes(o)){e.push(o)}return e};return c},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations",["sap/ushell/utils","sap/base/util/ObjectPath"],function(t,e){"use strict";var n={};n.getMap=function(t){return t.visualizations};n.get=function(t,n){return e.get(["visualizations",n],t)};n.getTypeMap=function(t){return t.vizTypes};n.getType=function(t,n){return e.get(["vizTypes",n],t)};n.getTypeId=function(t){return e.get("vizType",t||{})};n.isStandardVizType=function(t){return t==="sap.ushell.StaticAppLauncher"||t==="sap.ushell.DynamicAppLauncher"};n.getSupportedDisplayFormats=function(t){return e.get(["sap.flp","vizOptions","displayFormats","supported"],t||{})};n.getDefaultDisplayFormat=function(t){return e.get(["sap.flp","vizOptions","displayFormats","default"],t||{})};n.getTileSize=function(t){return e.get(["sap.flp","tileSize"],t||{})};n.getConfig=function(t){return e.get("vizConfig",t||{})};n.getTarget=function(t){var n=this.getConfig(t);return e.get(["sap.flp","target"],n||{})};n.getAppId=function(t){var n=this.getTarget(t);return e.get("appId",n||{})};n.getInboundId=function(t){var n=this.getTarget(t);return e.get("inboundId",n||{})};n.getOutbound=function(t,e){var n={semanticObject:e.semanticObject,action:e.action,parameters:this.getTarget(t).parameters||{}};n.parameters["sap-ui-app-id-hint"]={value:{format:"plain",value:this.getAppId(t)}};return n};n.startsExternalUrl=function(t){var e=this.getTarget(t);return e&&e.type==="URL"};n.getAppDescriptor=function(t,n){return e.get(["applications",n],t)};n.getKeywords=function(e){var n=t.clone(e);n.splice(2,1);n.splice(0,1);return t.getNestedObjectProperty(n,["sap|app.tags.keywords","sap|app.tags.keywords"])};n.getTitle=function(e){return t.getNestedObjectProperty(e,["title","sap|app.title","title","sap|app.title"])};n.getSubTitle=function(e){return t.getNestedObjectProperty(e,["subTitle","sap|app.subTitle","subTitle","sap|app.subTitle"])};n.getIcon=function(e){return t.getNestedObjectProperty(e,["icon","sap|ui.icons.icon","icon","sap|ui.icons.icon"])};n.getNumberUnit=function(e){var n=t.clone(e);n.splice(2,2);return t.getNestedObjectProperty(n,["numberUnit","sap|flp.numberUnit"])};n.getInfo=function(e){return t.getNestedObjectProperty(e,["info","sap|app.info","info","sap|app.info"])};n.getShortTitle=function(e){var n=t.clone(e);n.splice(0,1);return t.getNestedObjectProperty(n,["sap|app.shortTitle","shortTitle","sap|app.shortTitle"])};n.getInstantiationData=function(t){return e.get(["vizConfig","sap.flp","_instantiationData"],t)};n.getIndicatorDataSource=function(t){return e.get(["vizConfig","sap.flp","indicatorDataSource"],t)};n.getDataSource=function(e,n){var i=t.clone(e);i.splice(2,1);i.splice(0,1);var r=t.getNestedObjectProperty(i,["sap|app.dataSources","sap|app.dataSources"])||{};return r[n]};n.getChipConfigFromVizReference=function(t){return e.get(["vizConfig","sap.flp","chipConfig"],t)};return n},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/utilsCdm",["sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/util/merge","sap/base/util/deepEqual","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/utils/UrlParsing","sap/base/Log"],function(e,t,a,i,r,s,n,p,o,u,l){"use strict";var c={};c.getMember=function(t,a){return e.getMember(t,a)};c.getNestedObjectProperty=function(t,a,i){return e.getNestedObjectProperty(t,a,i)};c.mapOne=function(e,s,p,u,l,c){var m=false;s=i({},s);p=i({},p);u=i({},u);l=i({},l);u=u||{};l=l||{};var f={};f.semanticObject=this.getMember(s,"semanticObject");f.action=this.getMember(s,"action");var d=t.getConfig(u);f.title=t.getTitle([undefined,d,s,p]);f.info=t.getInfo([undefined,d,s,p]);f.icon=t.getIcon([undefined,d,s,p]);f.subTitle=t.getSubTitle([undefined,d,s,p]);f.shortTitle=t.getShortTitle([undefined,d,s,p]);f.keywords=t.getKeywords([undefined,d,s,p]);f.numberUnit=t.getNumberUnit([undefined,d,undefined,undefined]);f.deviceTypes=this.getMember(p,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(function(e){if(Object.prototype.hasOwnProperty.call(this.getMember(s,"deviceTypes")||{},e)){f.deviceTypes[e]=s.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(f.deviceTypes,e)){f.deviceTypes[e]=true}f.deviceTypes[e]=!!f.deviceTypes[e]}.bind(this));f.signature=this.getMember(s,"signature")||{};f.signature.parameters=this.getMember(f,"signature.parameters")||{};f.signature.additionalParameters=this.getMember(s,"signature.additionalParameters")||"allowed";var h=this.getMember(f,"signature.parameters.sap-hide-intent-link");if(h&&h.hasOwnProperty("defaultValue")){f.hideIntentLink=h.defaultValue.value==="true"}if(h&&!h.required&&h.hasOwnProperty("defaultValue")){delete f.signature.parameters["sap-hide-intent-link"]}var g=this.getMember(p,"sap|platform|runtime");f.resolutionResult=a.extend(true,{},g);if(g){f.resolutionResult["sap.platform.runtime"]=a.extend(true,{},g)}if(this.getMember(p,"sap|ui.technology")==="GUI"){f.resolutionResult["sap.gui"]=this.getMember(p,"sap|gui")}if(this.getMember(p,"sap|ui.technology")==="WDA"){f.resolutionResult["sap.wda"]=this.getMember(p,"sap|wda")}if(this.getMember(p,"sap|ui.technology")==="URL"){if(p["sap.url"]){f.resolutionResult["sap.platform.runtime"]=f.resolutionResult["sap.platform.runtime"]||{};f.resolutionResult.url=p["sap.url"].uri;f.resolutionResult["sap.platform.runtime"].url=p["sap.url"].uri}else if(g&&g.uri){f.resolutionResult["sap.platform.runtime"].url=g.uri;f.resolutionResult.url=g.uri}}if(!f.resolutionResult["sap.ui"]){f.resolutionResult["sap.ui"]={}}f.resolutionResult["sap.ui"].technology=this.getMember(p,"sap|ui.technology");f.resolutionResult.applicationType=this._formatApplicationType(f.resolutionResult,p);f.resolutionResult.systemAlias=f.resolutionResult.systemAlias||this.getMember(s,"systemAlias");f.resolutionResult.systemAliasSemantics="apply";f.resolutionResult.text=f.title;f.resolutionResult.appId=this.getMember(p,"sap|app.id");var b,y;var v=this.getMember(u,"vizConfig.sap|flp.indicatorDataSource");var M={};if(!r(l)){var O=this.getMember(l,"sap|app.type");if(O==="card"){m=true;M=n({},l,u.vizConfig)}else{M.componentName=this.getMember(l,"sap|ui5.componentName");var T=this.getMember(l,"sap|platform|runtime.componentProperties");if(T){M.componentProperties=T}if(this.getMember(l,"sap|platform|runtime.includeManifest")){M.componentProperties=M.componentProperties||{};M.componentProperties.manifest=n({},l,u.vizConfig);delete M.componentProperties.manifest["sap.platform.runtime"]}}}if(this.getMember(p,"sap|app.type")==="plugin"||this.getMember(p,"sap|flp.type")==="plugin"){return undefined}var R=this.getNestedObjectProperty([d,p,l],"sap|flp.tileSize");var P=this.getNestedObjectProperty([d,p,l],"sap|app.description");if(this.getMember(p,"sap|ui.technology")==="GUI"&&this.getMember(p,"sap|gui.transaction")){b=this.getMember(p,"sap|gui.transaction")}if(this.getMember(p,"sap|ui.technology")==="WDA"&&this.getMember(p,"sap|wda.applicationId")){b=this.getMember(p,"sap|wda.applicationId")}var j=this.getNestedObjectProperty([d,p,l],"sap|app.dataSources");if(this.getMember(p,"sap|app.id")){y=this.getMember(p,"sap|app.id")}var I=o.getContentProviderId(p)||"";f.tileResolutionResult={appId:y,title:f.title,subTitle:f.subTitle,icon:f.icon,size:R,info:f.info,keywords:f.keywords,tileComponentLoadInfo:M,indicatorDataSource:v,dataSources:j,description:P,runtimeInformation:g,technicalInformation:b,deviceTypes:f.deviceTypes,isCard:m,contentProviderId:I,numberUnit:f.numberUnit};var S=this.getMember(p,"sap|integration.urlTemplateId");var A=this.getTemplatePayloadFromSite(S,c);if(A){f.templateContext={payload:A,site:c,siteAppSection:p}}return f};c.getTemplatePayloadFromSite=function(e,t){if(!t||typeof e!=="string"){return null}var a=e.replace(/[.]/g,"|");return this.getMember(t.urlTemplates,a+".payload")};c._formatApplicationType=function(e,t){var a=e.applicationType;if(a){return a}var i=this.getMember(t,"sap|platform|runtime.componentProperties.self.name")||this.getMember(t,"sap|ui5.componentName");if(this.getMember(t,"sap|flp.appType")==="UI5"||this.getMember(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation="SAPUI5.Component="+i;e.url=this.getMember(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=this.getMember(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(this.getMember(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=this.getMember(t,"sap|gui");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"TR"}if(this.getMember(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=this.getMember(t,"sap|wda");e.systemAlias=this.getMember(t,"sap|app.destination.name");return"WDA"}if(this.getMember(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=this.getMember(t,"sap|app.destination.name")}return"URL"};c.formatSite=function(e){var t=this;if(!e){return[]}var a=[];try{var i=Object.keys(e.applications||{}).sort();i.forEach(function(i){try{var r=e.applications[i];var s=this.getMember(r,"sap|app.crossNavigation.inbounds");if(s){var n=Object.keys(s).sort();n.forEach(function(i){var n=s[i];var p=t.mapOne(i,n,r,undefined,undefined,e);if(p){p.contentProviderId=o.getContentProviderId(r)||"";a.push(p)}})}}catch(e){l.error("Error in application "+i+": "+e,e.stack)}}.bind(this))}catch(e){l.error(e);l.error(e.stack);return[]}return a};c.toHashFromInbound=function(e){var t,a,i;t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};a=s.get("signature.parameters",e)||{};Object.keys(a).forEach(function(e){if(a[e].filter&&Object.prototype.hasOwnProperty.call(a[e].filter,"value")&&(a[e].filter.format===undefined||a[e].filter.format==="plain")){t.params[e]=[a[e].filter.value]}if(a[e].launcherValue&&Object.prototype.hasOwnProperty.call(a[e].launcherValue,"value")&&(a[e].launcherValue.format===undefined||a[e].launcherValue.format==="plain")){t.params[e]=[a[e].launcherValue.value]}});i=u.constructShellHash(t);if(!i){return undefined}return i};c.toHashFromOutbound=function(e){var t,a,i;t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};a=e.parameters||{};Object.keys(a).forEach(function(e){if(a.hasOwnProperty(e)&&typeof a[e].value==="object"){t.params[e]=[a[e].value.value]}});i=u.constructShellHash(t);if(!i){return undefined}return i};c.toHashFromVizData=function(e,t){var a,i;if(!e.target){return undefined}a=e.target;if(a.type==="URL"){return a.url}var r=a.appId;var s=a.inboundId;if(r&&s){var n=o.getInboundTarget(t,r,s);i={};if(n){i.semanticObject=n.semanticObject;i.action=n.action;i.parameters=a.parameters||{};i.parameters["sap-ui-app-id-hint"]={value:{value:r,format:"plain"}};i.appSpecificRoute=a.appSpecificRoute||""}}else if(a.semanticObject&&a.action){i=a}return c.toHashFromTarget(i)};c.toHashFromTarget=function(e){try{var t={};var a=s.get("parameters",e)||{};Object.keys(a).forEach(function(e){t[e]=Array.isArray(a[e].value.value)?a[e].value.value:[a[e].value.value]});var i={target:{semanticObject:e.semanticObject,action:e.action},params:t,appSpecificRoute:e.appSpecificRoute};return"#"+u.constructShellHash(i)}catch(e){return undefined}};c.toTargetFromHash=function(e){var t=u.parseShellHash(e);if(t!==undefined){var a=t.params||{};if(Object.keys(a).length>0){t.parameters=[];Object.keys(a).forEach(function(e){var i=Array.isArray(a[e])?a[e]:[a[e]];i.forEach(function(a){var i={name:e,value:a};t.parameters.push(i)})})}delete t.params}else{t={type:"URL",url:e}}return t};c.isSameTarget=function(e,t){var a;if(e.type!==t.type){return false}if(e.type==="URL"){a=e.url===t.url}else{a=e.semanticObject===t.semanticObject&&e.action===t.action&&e.appSpecificRoute===t.appSpecificRoute&&p(e.parameters,t.parameters)}return a};return c},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/NavTargetResolutionAdapter",["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils"],function(e,n,i,t,r){"use strict";var s=function(s,o,a){var l=n.create("config.applications",a);var f=e.getInbounds();u(f,l);function u(e,n){e.forEach(function(e){var i=e.semanticObject+"-"+e.action;n[i]=e.resolutionResult})}this.resolveHashFragment=function(e){var n=new i.Deferred,s,o,a,f;if(e&&e.charAt(0)!=="#"){throw new r.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell")}e=e.substring(1);if(!e&&!l[e]){n.resolve(undefined)}else{t.info("Hash Fragment: "+e);s=e.indexOf("&/");if(s>=0){e=e.slice(0,s)}s=e.indexOf("?");if(s>=0){f=e.slice(s+1);e=e.slice(0,s)}o=l[e];if(o){a={additionalInformation:o.additionalInformation,applicationType:o.applicationType,url:o.url,text:o.text,fullWidth:o.fullWidth};if(f){a.url+=a.url.indexOf("?")<0?"?":"&";a.url+=f}if(o.navigationMode!==undefined){a.navigationMode=o.navigationMode}n.resolve(a)}else{n.reject("Could not resolve link '"+e+"'")}}return n.promise()};this.getSemanticObjectLinks=function(e,n){var r,s=[],o=0,a=new i.Deferred,f;if(!e){setTimeout(function(){a.resolve([])},0)}else{sap.ushell.Container.getServiceAsync("URLParsing").then(function(i){f=i.paramsToString(n);t.info("getSemanticObjectLinks: "+e);for(r in l){if(l.hasOwnProperty(r)&&r.substring(0,r.indexOf("-"))===e){s[o]=l[r];s[o].id=r;s[o].text=s[o].text||s[o].description||"no text";s[o].intent="#"+r;if(f!==""){if(s[o].intent.indexOf("?")!==-1){s[o].intent+="&"+f}else{s[o].intent+="?"+f}}o+=1}}if(s){a.resolve(s)}else{a.reject("Could not get links for  '"+e+"'")}})}return a.promise()};this.isIntentSupported=function(e){var n=new i.Deferred,t={},r=[],s=this;function o(e,n){t[e]={supported:n}}e.forEach(function(e,n){var t=new i.Deferred;r.push(t.promise());s.resolveHashFragment(e).fail(function(n){o(e,false);t.resolve()}).done(function(n){o(e,true);t.resolve()})});if(e.length>0){i.when.apply(i,r).always(function(){n.resolve(t)})}else{n.resolve(t)}return n.promise()}};return s},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter",["sap/ui/thirdparty/jquery","sap/base/Log"],function(e,r){"use strict";var t=function(e,r,t){this._oConfig=t&&t.config;this._oContainerPromises={}};t.prototype._getPersonalizationService=function(){return sap.ushell.Container.getServiceAsync("Personalization")};t.prototype.saveParameterValue=function(t,n,a){var o=new e.Deferred;if(!(typeof t==="string"&&t.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(t))){r.error('Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"'+t+'"')}this._getUDContainer(a).done(function(e){e.setItemValue(t,n);e.saveDeferred(50).done(o.resolve.bind(o)).fail(o.reject.bind(o))}).fail(function(e){r.error(e);o.reject(e)});return o.promise()};t.prototype.deleteParameter=function(t,n){var a=new e.Deferred;if(!(typeof t==="string"&&t.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(t))){r.error('Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :"'+t+'"')}this._getUDContainer(n).done(function(e){e.delItem(t);e.save().done(a.resolve.bind(a)).fail(a.reject.bind(a))}).fail(function(e){r.error(e);a.reject(e)});return a.promise()};t.prototype.loadParameterValue=function(t,n){var a=new e.Deferred;this._getUDContainer(n).done(function(e){var r=e.getItemValue(t);if(r){a.resolve(r)}else{a.reject("no value ")}}).fail(function(e){r.error(e);a.reject(e)});return a.promise()};t.prototype.getStoredParameterNames=function(t){var n=new e.Deferred;this._getUDContainer(t).done(function(e){var r=e.getItemKeys();n.resolve(r)}).fail(function(e){r.error(e);n.reject(e)});return n.promise()};t.prototype._getUDContainer=function(r){var t=r.id;if(t!==""){t="."+t}if(!this._oContainerPromises[r.id]){var n=new e.Deferred;this._oContainerPromises[r.id]=n.promise();this._getPersonalizationService().then(function(e){e.getContainer("sap.ushell.UserDefaultParameter"+t,{keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true}).done(n.resolve).fail(n.reject)})}return this._oContainerPromises[r.id]};return t},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/local/UserInfoAdapter",["sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(e,t,n){"use strict";var r=function(r,a,s){var i;function o(e){var n=[{id:"sap_belize",name:"SAP Belize"}];var r=t.get("config.themes",e);return r===undefined?n:r}this.updateUserPreferences=function(t){var r=new e.Deferred;function a(e){var t="Failed to update user preferences: "+(e&&e.message?e.message:e);n.error(t,e&&e.stack,"com.sap.ushell.adapters.local.UserInfo")}sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var n={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true};function s(e,t){var n=t.getChangedProperties()||[];n.forEach(function(t){e.setItemValue(t.propertyName,t.newValue)})}e.getContainer("sap.ushell.UserProfile",n,undefined).done(function(e){s(e,t);e.save().fail(function(e){a(e);r.reject(e)}).done(function(){r.resolve()})}).fail(function(e){a(e);r.reject(e)})});return r.promise()};this.getThemeList=function(){var t=new e.Deferred;if(i===undefined){i=o(s)}if(i.length===0){t.reject("no themes were configured")}else{t.resolve({options:i})}return t.promise()};this.getLanguageList=function(){var t=new e.Deferred;t.resolve([{text:"Browser Language",key:"default"},{text:"American English",key:"en-US"},{text:"British English",key:"en-GB"},{text:"English",key:"en"},{text:"German",key:"de"},{text:"Hebrew",key:"he"},{text:"Russian",key:"ru"}]);return t.promise()}};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/SchedulingAgent",["sap/ushell/bootstrap/_SchedulingAgent/FLPScheduler","sap/ushell/bootstrap/_SchedulingAgent/EventProcessor","sap/ushell/bootstrap/_SchedulingAgent/FLPLoader","sap/ushell/bootstrap/_SchedulingAgent/logger","sap/ushell/bootstrap/_SchedulingAgent/state","sap/ushell/EventHub"],function(e,t,o,n,i,a){"use strict";var s={CONTINUE_ON_EVENT:"continueOnEvent",BY_EVENT:"byEvent",BY_COMPONENT_CREATE:"byComponentCreate",BY_REQUIRE:"byRequire",WAIT_IN_MS:"waitInMs"};var d={WAIT:"wait",ERROR:"error",DONE:"done",STEP:"step",BLOCKDONE:"blockDone",SKIPPED:"skip"};var g={oComponentsLoading:{},oPathsLoading:{},_initialize:function(){i.clear();n.clearHistory();i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initializing,"Scheduling Agent starting");var o=e.initializeSchedule();o.then(function(e){if(!e){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Configuration error!");return}t.initializeStepDoneListener(this);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Initialized,"Scheduling Agent ready");this.eventReceived()}.bind(this))},_processStepConfiguration:function(e){var t={sStepType:"",oData:{},sStepName:"",bConfigOk:false};if(e.oConfig.loadingMode===s.CONTINUE_ON_EVENT){t.sStepType=s.CONTINUE_ON_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.continueOnEvent&&e.oConfig.continueOnEvent.eventName;t.oData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.eventName&&t.oData.stepName)}else if(e.oConfig.loadingMode===s.BY_EVENT){t.sStepType=s.BY_EVENT;t.sStepName=e.oContent.LoadingStep;t.oData.eventName=e.oConfig.byEvent&&e.oConfig.byEvent.eventName;t.oData.eventData={};t.oData.eventData.data=e.oConfig.byEvent.eventData;t.oData.eventData.stepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.eventName}else if(e.oConfig.loadingMode===s.BY_COMPONENT_CREATE){t.sStepType=s.BY_COMPONENT_CREATE;t.sStepName=e.oContent.LoadingStep;t.oData=e.oConfig.byComponentCreate&&e.oConfig.byComponentCreate.ui5ComponentOptions||{};t.bConfigOk=!!t.oData}else if(e.oConfig.loadingMode===s.BY_REQUIRE){t.sStepType=s.BY_REQUIRE;t.sStepName=e.oContent.LoadingStep;t.oData={};t.oData.sPath=e.oConfig.byRequire.path;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!t.oData.sPath}else if(e.oConfig.loadingMode===s.WAIT_IN_MS){t.sStepType=s.WAIT_IN_MS;t.sStepName=e.oContent.LoadingStep;t.oData.iWaitingTime=e.oConfig.waitInMs&&e.oConfig.waitInMs.waitingTime;t.oData.sStepName=e.oContent.LoadingStep;t.bConfigOk=!!(t.oData.iWaitingTime&&t.oData.sStepName)}return t},dumpState:function(){i.dump()},dumpHistory:function(){n.dumpHistory()},dumpSchedule:function(){e.dumpSchedule()},dumpAll:function(){n.dumpHistory();e.dumpSchedule();i.dump()},eventReceived:function(){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Working,"Agent is active");var n;do{n=e.getNextLoadingStep();if(n.sStatus===d.ERROR){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,"Fatal loading error. Loading aborted.");t.unregisterStepDoneListener();a.emit("FLPLoadingDone");return}if(n.sStatus===d.DONE){i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Done,"Loading finished");t.unregisterStepDoneListener();a.emit("FLPLoadingDone");return}if(n.sStatus===d.BLOCKDONE){}if(n.sStatus===d.SKIPPED){}if(n.sStatus===d.STEP){var g=this._processStepConfiguration(n);if(!g.bConfigOk){i.setForLoadingStep(g.sStepName,i.id.loadingStep.Abort,"","Step configuration error");i.setForLoadingStep(g.sStepName,i.id.loadingStep.Skipped,"","Step configuration error");i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.FatalError,g,"Step configuration error!")}else if(g.sStepType===s.CONTINUE_ON_EVENT){t.listenToEvent(g.oData);i.setForLoadingStep(g.sStepName,i.id.loadingStep.InProgress,g.oData.eventName,"continueOnEvent step sent to Event Processor")}else if(g.sStepType===s.BY_EVENT){o.loadComponentByEvent(g.oData);i.setForLoadingStep(g.sStepName,i.id.loadingStep.InProgress,g.oData,"byEvent step sent to FLP Loader")}else if(g.sStepType===s.WAIT_IN_MS){o.waitInMs(g.oData);i.setForLoadingStep(g.sStepName,i.id.loadingStep.InProgress,g.oData.iWaitingTime+"ms","WaitInMs step sent to FLP Loader")}else if(g.sStepType===s.BY_REQUIRE){var p=o.loadComponentByRequire(g.oData.sPath);this.oPathsLoading[g.sStepName]=p;i.setForLoadingStep(g.sStepName,i.id.loadingStep.InProgress,g.oData.sPath,"byRequire step sent to FLP Loader");var r=g.sStepName;p.then(function(){i.setForLoadingStep(r,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oPathsLoading[r];a.emit("StepDone",r)}.bind(this),function(){i.setForLoadingStep(r,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oPathsLoading[r];a.emit("StepFailed",r)}.bind(this))}else if(g.sStepType===s.BY_COMPONENT_CREATE){var l=o.loadComponentByComponentCreate(g);this.oComponentsLoading[g.sStepName]=l;i.setForLoadingStep(g.sStepName,i.id.loadingStep.InProgress,g.oData,"byComponentCreate step sent to FLP Loader");l.then(function(e){i.setForLoadingStep(e,i.id.loadingStep.InProgress,"","Step's promise has resolved");delete this.oComponentsLoading[e];a.emit("StepDone",e)}.bind(this),function(e){i.setForLoadingStep(e,i.id.loadingStep.FatalError,"","Step's promise failed");delete this.oComponentsLoading[e];a.emit("StepFailed",e)}.bind(this))}}}while(n.sStatus!==d.WAIT);i.setForModule(i.id.module.schedulingAgent.id,i.id.module.schedulingAgent.Waiting,"Agent waits")}};return g},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/_SchedulingAgent/EventProcessor",["sap/ushell/bootstrap/_SchedulingAgent/state","sap/ushell/EventHub"],function(e,t){"use strict";var n={SchedulingAgent:{},aDoableObjects:[],initializeStepDoneListener:function(n){this.SchedulingAgent=n;this.aDoableObjects=[t.on("StepDone").do(function(t){e.setForLoadingStep(t,e.id.loadingStep.Done,"","Step event received");this.SchedulingAgent.eventReceived()}.bind(this)),t.on("StepFailed").do(function(t){e.setForLoadingStep(t,e.id.loadingStep.Skipped,"","Step event received");this.SchedulingAgent.eventReceived()}.bind(this))]},listenToEvent:function(n){t.once(n.eventName).do(function(){e.setForLoadingStep(n.stepName,e.id.loadingStep.Done,n.eventName,"Event received");this.SchedulingAgent.eventReceived()}.bind(this))},unregisterStepDoneListener:function(){this.aDoableObjects.forEach(function(e){e.off()})},setTimeOut:function(){}};return n},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/_SchedulingAgent/FLPLoader",["sap/ushell/EventHub","sap/ui/core/Component"],function(e,n){"use strict";var t={loadComponentByEvent:function(n){e.emit(n.eventName,n.eventData)},loadComponentByComponentCreate:function(e){return n.create(e.oData).then(function(){return Promise.resolve(e.sStepName)},function(){return Promise.reject(e.sStepName)})},loadComponentByRequire:function(e){return new Promise(function(n,t){sap.ui.require([e],function(e){n(e)})})},waitInMs:function(n){setTimeout(function(){e.emit("StepDone",n.sStepName)},n.iWaitingTime)},directLoading:function(){}};return t},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/_SchedulingAgent/FLPScheduler",["sap/ushell/bootstrap/_SchedulingAgent/state","sap/base/util/LoaderExtensions","sap/base/Log","sap/ushell/Config"],function(e,o,n,t){"use strict";var i={Loaded:"loaded",Wait:"wait",Step:"step",Error:"error",BlockDone:"blockDone",Start:"start",Done:"done",Skipped:"skipped"};var d="sap/ushell/bootstrap/_SchedulingAgent/LoadingConfiguration.json";var a="sap/ushell/bootstrap/_SchedulingAgent/StepConfiguration.json";function s(){return t.last("/core/shell/model/currentState/stateName")}var r={oSchedule:{iBlockIndex:0,aBlocksLoading:[]},initializeSchedule:function(){var n=o.loadResource(a,{async:true});var t=o.loadResource(d,{async:true});var i=Promise.all([n,t]).then(function(o){var n=o[0];var t=o[1];var i=this._validateConfig(t,n);if(i){this.oSchedule.oBlocks=t.LoadingBlocks;this.oSchedule.oSteps=n;this.oSchedule.aBlockOrder=t.OrderOfLoadingBlocks;this.oSchedule.iBlockIndex=0;e.setForModule(e.id.module.flpScheduler.id,e.id.module.flpScheduler.Initialized,"Schedule validated")}else{e.setForModule(e.id.module.flpScheduler.id,e.id.module.flpScheduler.WrongConfiguration,"Configuration error")}return i}.bind(this));return i},getNextLoadingStep:function(){var o={sStatus:i.Start,oContent:{}};if(this.oSchedule.aBlocksLoading.length===0){var n=this._startLoadingBlock();if(n){o.sStatus=i.Done;return o}}var t=this.oSchedule.aBlocksLoading[this.oSchedule.aBlocksLoading.length-1];var d=this.oSchedule.aBlockOrder.indexOf(t);var a=this.oSchedule.aBlockOrder[d+1];if(this.oSchedule.oBlocks[t].bCanBeLoadedConcurrently&&a){this._startLoadingBlock()}var s=true;var r=false;var l,c,u,p,g,S,h,f,L;for(var k=0;k<this.oSchedule.aBlocksLoading.length;k++){l=this.oSchedule.aBlocksLoading[k];c=this.oSchedule.oBlocks[l];u=c.iStepIndex;p=c.LoadingSteps[u];g=u===c.LoadingSteps.length-1;S=this._checkAndUpdateAsyncQueue(c);L=e.isStepLoaded(p.LoadingStep)||e.isStepSkipped(p.LoadingStep);f=e.isStepLoading(p.LoadingStep);s=S.bAllStepsDone&&L;r=S.bAStepIsLoading||f;if(f&&!p.canBeLoadedAsync||r&&g){o.sStatus=i.Wait;continue}if(!g||!L&&!f){if(L||p.canBeLoadedAsync&&f){u+=1}o=this._prepareStepForLoading(c,l,u)}if(s&&g){h=this.oSchedule.aBlocksLoading.indexOf(l);this.oSchedule.aBlocksLoading.splice(h,1);o.sStatus=i.BlockDone;e.setForLoadingBlock(l,e.id.loadingBlock.Done,"","Block removed from loading queue")}if(o.sStatus!==i.wait){break}}return o},dumpSchedule:function(){n.debug(JSON.stringify(this.oSchedule))},_loadingIsEnabled:function(e){var o;if(Array.isArray(e.oConfig.excludedFLPStates)){if(e.oConfig.excludedFLPStates.indexOf(s())>-1){return false}}if(Array.isArray(e.oConfig.mandatoryFLPStates)&&e.oConfig.mandatoryFLPStates.length!==0){if(e.oConfig.mandatoryFLPStates.indexOf(s())===-1){return false}}function n(e){return e.path&&t.last(e.path)!==e.assertionValue}if(e.oConfig.configSwitch){o=[].concat(e.oConfig.configSwitch);if(o.some(n)){return false}}return true},_checkAndUpdateAsyncQueue:function(o){var n=[];var t,i,d;var a=true;var s=false;for(var r=0;r<o.aAsyncStepsLoading.length;r++){d=o.aAsyncStepsLoading[r];t=e.isStepLoaded(d)||e.isStepSkipped(d);i=e.isStepLoading(d);if(i){n.push(d)}a=a&&t;s=s||i}o.aAsyncStepsLoading=n;return{bAllStepsDone:a,bAStepIsLoading:s}},_startLoadingBlock:function(){var o=false;if(this.oSchedule.iBlockIndex<this.oSchedule.aBlockOrder.length){var n=this.oSchedule.aBlockOrder[this.oSchedule.iBlockIndex];this.oSchedule.aBlocksLoading.push(n);this.oSchedule.oBlocks[n].iStepIndex=0;this.oSchedule.oBlocks[n].aAsyncStepsLoading=[];this.oSchedule.iBlockIndex+=1;e.setForLoadingBlock(n,e.id.loadingBlock.Prepared,"","Block added to the loading queue.")}else{o=true}return o},_prepareStepForLoading:function(o,n,t){var d;var a={sStatus:i.Step,oContent:o.LoadingSteps[t],oConfig:this.oSchedule.oSteps[o.LoadingSteps[t].LoadingStep]};if(!this._loadingIsEnabled(a)){a.sStatus=i.Skipped;o.iStepIndex=t;e.setForLoadingStep(a.oContent.LoadingStep,e.id.loadingStep.Skipped,"","Step set to skipped");return a}var s=this._checkDependencies(a,n);if(s.bMissing){a.sStatus=i.Error}else if(s.bAllLoaded){e.setForLoadingStep(a.oContent.LoadingStep,e.id.loadingStep.Prepared,"","Step prepared for control unit");d=a.oContent.canBeLoadedAsync;o.iStepIndex=t;if(d){e.setForLoadingStep(a.oContent.LoadingStep,e.id.loadingStep.Prepared,"","Step set on the async loading queue");o.aAsyncStepsLoading.push(a.oContent.LoadingStep)}}else{a.sStatus=i.Wait;e.setForLoadingStep(a.oContent.LoadingStep,e.id.loadingStep.WaitingForDependencies,"","Step missing dependencies")}return a},_checkDependencies:function(o,n){var t={bAllLoaded:true,bMissing:false};if(o.oConfig.Dependencies){for(var i=0;i<o.oConfig.Dependencies.length;i++){t.bAllLoaded=t.bAllLoaded&&e.isStepLoaded(o.oConfig.Dependencies[i]);if(!e.isStepLoaded(o.oConfig.Dependencies[i])&&!e.isStepLoading(o.oConfig.Dependencies[i])){e.setForLoadingStep(o.oContent.LoadingStep,e.id.loadingStep.Aborted,o.oConfig.Dependencies[i],"Missing a dependency");e.setForLoadingBlock(n,e.id.loadingBlock.Aborted,o.oConfig.Dependencies[i],"A step is missing a dependency");e.setForModule(e.id.module.flpScheduler.id,e.id.module.flpScheduler.LoadingAborted,"Dependencies can not be resolved: a dependency isn't loading before it is required.");t.bMissing=true;t.bAllLoaded=false;break}}}return t},_validateConfig:function(e,o){var n=e&&e.OrderOfLoadingBlocks&&e.LoadingBlocks&&e.OrderOfLoadingBlocks.length&&o;if(!n){return false}var t=e.OrderOfLoadingBlocks.reduce(function(n,t){n=n&&e.LoadingBlocks[t];if(n){var i=e.LoadingBlocks[t];var d=true;if(i.LoadingSteps){var a;for(var s=0;s<i.LoadingSteps.length;s++){a=i.LoadingSteps[s].LoadingStep;d=d&&o[a]}}n=n&&d}return!!n},true);return t}};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/_SchedulingAgent/logger",["sap/base/Log"],function(t){"use strict";var r=[];var e=true;var n="FLPScheduler";return{getHistory:function(){return r},verboseOn:function(){e=true;return e===true},verboseOff:function(){e=false;return e===false},isVerboseOn:function(){return e===true},clearHistory:function(){r.length=0},dumpHistory:function(t){var e;if(t){e=r.filter(function(r){return r.id===t});console.table(e)}else{console.table(r)}return e||r},logError:function(e){t.error(this.stateToString(e),undefined,n);r.push(e);return true},logWarning:function(u){if(e){t.warning(this.stateToString(u),n);r.push(u)}return e},logStatus:function(u){if(e){t.info(this.stateToString(u),n);r.push(u)}return e},stateToString:function(t){return"FLP Bootstrap Scheduling Agent :: "+t.type+" '"+t.id+"' /"+t.status+(t.remark?"/ : "+t.remark:"/")}}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/_SchedulingAgent/state",["sap/ushell/bootstrap/_SchedulingAgent/logger","sap/base/util/now","sap/base/util/deepClone"],function(e,t,o){"use strict";var i={module:{schedulingAgent:{id:"schedulingAgent",FatalError:"FATAL_ERROR",Idle:"IDLE",Initialized:"INITIALIZED",Initializing:"INITIALIZING",Waiting:"WAITING",WokeUp:"WOKE_UP",Working:"WORKING"},state:{id:"state",FatalError:"FATAL_ERROR",Available:"AVAILABLE"},flpScheduler:{id:"flpScheduler",Initialized:"INITIALIZED",WrongConfiguration:"WRONG_CONFIGURATION",LoadingAborted:"LOADING_ABORTED"},flpLoader:{id:"flpLoader"},logger:{id:e,Block:"BLOCK",Step:"STEP",Module:"MODULE"}},loadingStep:{Prepared:"STEP_PREPARED",WaitingForDependencies:"STEP_WAITING_FOR_DEPENDENCIES",InProgress:"STEP_IN_PROGRESS",Done:"STEP_DONE",Aborted:"STEP_ABORTED",Skipped:"STEP_SKIPPED"},loadingBlock:{Prepared:"BLOCK_PREPARED",WaitingForDependencies:"BLOCK_WAITING_FOR_DEPENDENCIES",InProgress:"BLOCK_IN_PROGRESS",TimedOut:"BLOCK_TIMEDOUT",Done:"BLOCK_DONE",Aborted:"BLOCK_ABORTED"}};var n={id:i,oState:{ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}},clear:function(){this.oState={ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}}},getIdBase:function(){return i},setForLoadingBlock:function(o,n,a,r,d){this.oState.ofLoadingBlock[o]={time:t(),status:n,parameter:a,remark:r,byModule:d};e.logStatus({time:this.oState.ofLoadingBlock[o].time,type:i.module.logger.Block,id:o,status:n,parameter:a,remark:r,byModule:d})},getForLoadingBlock:function(e){return this.oState.ofLoadingBlock[e]},setForLoadingStep:function(o,n,a,r,d){this.oState.ofLoadingStep[o]={time:t(),status:n,parameter:a,remark:r,byModule:d};e.logStatus({time:this.oState.ofLoadingStep[o].time,type:i.module.logger.Step,id:o,status:n,parameter:a,remark:r,byModule:d})},getForLoadingStep:function(e){return this.oState.ofLoadingStep[e]},setForModule:function(o,n,a){this.oState.ofModule[o]={time:t(),status:n,remark:a,byModule:undefined};e.logStatus({time:this.oState.ofModule[o].time,type:i.module.logger.Module,id:o,status:n,parameter:undefined,remark:a,byModule:undefined})},getForModule:function(e){return this.oState.ofModule[e]},isBlockWaitingForDependencies:function(e){var t=this.getForLoadingBlock(e);return!!(t&&t.status===i.loadingBlock.WaitingForDependencies)},isBlockLoading:function(e){var t=this.getForLoadingBlock(e);return!!(t&&t.status===i.loadingBlock.InProgress)},isBlockLoaded:function(e){var t=this.getForLoadingBlock(e);return!!(t&&t.status===i.loadingBlock.Done)},isBlockLoadingAborted:function(e){var t=this.getForLoadingBlock(e);return!!(t&&t.status===i.loadingBlock.Aborted)},hasBlockLoadingTimedOut:function(e){var t=this.getForLoadingBlock(e);return!!(t&&t.status===i.loadingBlock.TimedOut)},isStepWaitingForDependencies:function(e){var t=this.getForLoadingStep(e);return!!(t&&t.status===i.loadingStep.WaitingForDependencies)},isStepLoading:function(e){var t=this.getForLoadingStep(e);return!!(t&&t.status===i.loadingStep.InProgress)},isStepLoaded:function(e){var t=this.getForLoadingStep(e);return!!(t&&t.status===i.loadingStep.Done)},isStepLoadingAborted:function(e){var t=this.getForLoadingStep(e);return!!(t&&t.status===i.loadingStep.Sborted)},isStepSkipped:function(e){var t=this.getForLoadingStep(e);return!!(t&&t.status===i.loadingStep.Skipped)},isAgentIdle:function(){var e=this.getForModule(i.module.schedulingAgent.id);return!!(e&&e.status===i.module.schedulingAgent.Idle)},isAgentWaiting:function(){var e=this.getForModule(i.module.schedulingAgent.id);return!!(e&&e.status===i.module.schedulingAgent.Waiting)},agentWokeUp:function(){var e=this.getForModule(i.module.schedulingAgent.id);return!!(e&&e.status===i.module.schedulingAgent.WokeUp)},dump:function(){console.log(JSON.parse(JSON.stringify(this.oState)));var e=o(this.oState);return e},iStartingTime:t()};n.setForModule(i.module.state.id,i.module.state.Available);return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.model",["sap/base/util/extend","sap/ui/core/Configuration","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config"],function(e,n,i,t,o){"use strict";var s;function a(){var a=o.last("/core");var l={groups:[],rtl:n.getRTL(),personalization:a.shell.enablePersonalization,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableHelp:a.extension.enableHelp,enableTileActionsIcon:i.system.desktop?a.home.enableTileActionsIcon:false};l=e({},a.catalog,a.home,l);s=new t(l);s.setSizeLimit(1e4)}function l(e){s.setProperty("/isPhoneWidth",!e.matches)}function r(){var e=window.matchMedia("(min-width: 800px)");if(e.addListener){e.addListener(l);l(e)}}return{getModel:function(){if(!s){a();r()}return s},_resetModel:function(){if(s!=undefined){s.destroy();s=undefined}}}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/ComponentKeysHandler",["sap/ui/core/Core","sap/ushell/Config","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ushell/bootstrap/common/common.load.model"],function(e,t,i,n,s,r,l){"use strict";var o=function(){};o._instance=undefined;o.getInstance=function(){if(o._instance===undefined){o._instance=new o;return o._instance._init().then(function(){return o._instance})}return Promise.resolve(o._instance)};o.prototype={keyCodes:i,_init:function(){this.oModel=l.getModel();return new Promise(function(e){if(!this.oLaunchPageService){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(t){this.oLaunchPageService=t;e()}.bind(this))}else{e()}}.bind(this))},goToLastVisitedTile:function(e,t){var i,s,l=n(".sapUshellTile, .sapMGTLineMode, .sapFCard");if(t){var o=n("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible"),a=this.oModel.getProperty("/topGroupInViewPortIndex");var h=e||n(o.get(a));var u=h.find(".sapUshellTile, .sapMGTLineMode, .sapFCard");i=u.filter(":visible").eq(0);s=u.filter("[tabindex=0]:visible").eq(0);if(!i.length){i=l.filter(":visible").eq(0)}}else{i=l.filter(":visible").eq(0);s=l.filter("[tabindex=0]:visible").eq(0)}if(s.length){this.moveScrollDashboard(s)}else if(i.length){i.attr("tabindex","0");this.moveScrollDashboard(i)}else{r.sendFocusBackToShell()}},_goToFirstTileOfNextGroup:function(e,t){this._preventDefault(t);var i=this._getGroupAndTilesInfo();if(i){var n=this._getNextGroup(e,i.oGroup,false,true);if(n){this._goToTileOfGroup("first",n)}}},_goToTileOfGroup:function(e,t){if(t){var i=t.getTiles().filter(this._filterInvisibleTiles);var n=t.getLinks().filter(this._filterInvisibleTiles);if(t.getShowPlaceholder()){i.push(t.oPlusTile)}i=i.concat(n);e=e==="first"?0:e;e=e==="last"?i.length-1:e;var s=i[e];if(s){this.moveScrollDashboard(s.$());return true}}return false},_moveTile:function(t){var i=this._getGroupAndTilesInfo();if(!i||i.oGroup.getProperty("isGroupLocked")||i.oCurTile.isA("sap.ushell.ui.launchpad.PlusTile")){return null}var n=i.oCurTile;var s=this._getNextTile(t,true);if(s){var r=n.getMode?n.getMode():"ContentMode";var l=s.getMode?s.getMode():"ContentMode";var o=n.getParent();var a=s.getParent();var h=o===a;var u=r===l;var f=l==="LineMode"?a.getLinks():a.getTiles();var d=f.indexOf(s);var c=this._getTileRect(t,n);var p=this._getTileRect(t,s);if(!p){d=0}else{var g=c.right>p.right+5;var T=d===f.length-1;if(!h||!u){if((t==="up"||t==="down")&&g&&T){d++}else if(t==="left"){d++}}}var v=e.byId("sapUshellDashboardPage").getParent();e.getEventBus().publish("launchpad",u?"movetile":"convertTile",{callBack:this.callbackSetFocus.bind(this),sTileId:v.getController()._getTileUuid(n),toGroupId:a.getGroupId?a.getGroupId():a.groupId,srcGroupId:o.getGroupId?o.getGroupId():o.groupId,toIndex:d,tile:n,sToItems:l==="LineMode"?"links":"tiles",sFromItems:r==="LineMode"?"links":"tiles",sTileType:r==="LineMode"?"link":"tile",longDrop:false})}},callbackSetFocus:function(e){setTimeout(function(){if(e.oParent&&e.oParent instanceof sap.ushell.ui.launchpad.Tile){this.moveScrollDashboard(n(e.oParent.getDomRef()))}else{this.moveScrollDashboard(e.$())}}.bind(this),0)},_getTileCenter:function(e,t,i){if(!(i instanceof HTMLElement)){var n=i.$().find(".sapMGTLineStyleHelper");if(i.isLink&&n&&n.length>1){if(e==="down"){return t.right}return t.left}}return t.right-(t.right-t.left)/2},_getTileRect:function(e,t){if(t instanceof HTMLElement){return t.getBoundingClientRect()}var i=t.$().find(".sapMGTLineStyleHelper");if(t.isLink&&i&&i.length){if(e==="down"){return i.get(i.length-1).getBoundingClientRect()}return i.get(0).getBoundingClientRect()}if(t.getDomRef()){return t.getDomRef().getBoundingClientRect()}return undefined},_findClosestTile:function(e,t,i){var n=this._getTileRect(e,i),s=this._getTileCenter(e,n,i);var r,l=Infinity,o=e==="down"?1:-1,a=t.indexOf(i)+o,h;for(;;a+=o){var u=t[a];if(!u){return r}if(!r){if(e==="down"&&a===t.length-1){return u}if(e==="up"&&a===0){return u}}var f=this._getTileRect(e,u);if(!f){return r}if(e==="down"&&n.bottom+5>=f.bottom){continue}if(e==="up"&&n.top-5<=f.top){continue}if(r&&h!==f.top){return r}h=f.top;var d=Math.min(Math.abs(f.left-s),Math.abs(f.right-s));if(l>d){l=d;r=u}else{return r}}},_filterInvisibleTiles:function(e){return e.getVisible()&&e.getDomRef()},_getNextTile:function(e,t){var i=this._getGroupAndTilesInfo();if(!i){return null}var n=i.oCurTile;var s=i.oGroup;var r=s.getTiles().filter(this._filterInvisibleTiles);var l=s.getLinks().filter(this._filterInvisibleTiles);var o=n.isLink;var a=s.getShowPlaceholder();var h=n.getBindingContext();var u=!t||h&&this.oLaunchPageService.isLinkPersonalizationSupported(h.getObject().object);var f=o?l:r;var d=f.indexOf(n);if(d<0){if(e==="right"){if(l.length){return l[0]}}if(e==="left"){if(r.length){return r[r.length-1]}}}else{if(e==="right"){if(d<f.length-1){return f[d+1]}if(!o&&a&&!t){return s.oPlusTile}if(!o&&u&&l.length){return l[0]}}if(e==="left"){if(d>0){return f[d-1]}if(o&&a){return s.oPlusTile}if(o&&r.length){return r[r.length-1]}}}var c=this._getNextGroup(e,s,t,u);var p=c?c.getTiles().filter(this._filterInvisibleTiles):[];var g=c?c.getLinks().filter(this._filterInvisibleTiles):[];var T=c&&c.getShowPlaceholder();if(c){if(e==="right"){if(p.length){return p[0]}if(T){return c.oPlusTile}if(g.length){return g[0]}return c.oPlusTile}if(e==="left"){if(u&&g.length){return g[g.length-1]}if(T&&!t){return c.oPlusTile}if(p.length){return p[p.length-1]}return c.oPlusTile}}if(e==="up"||e==="down"){if(!r.length&&t){r=[s.oPlusTile]}var v=u?r.concat(l):r;var C=[];if(c){if(!p.length&&t){p=[c.oPlusTile]}C=u?p.concat(g):p}var _=e==="up"?C.concat(v):v.concat(C);return this._findClosestTile(e,_,n)}},_getNextGroup:function(e,t,i,n){var s;var r=t.getParent().getGroups();var l=r.indexOf(t);var o=l;if(e==="down"||e==="right"){s=1}else{s=-1}o+=s;while(r[o]){var a=r[o];var h=a.getTiles().filter(this._filterInvisibleTiles);var u=a.getLinks().filter(this._filterInvisibleTiles);var f=n?h.concat(u):h;var d=a.getVisible()&&!(a.getIsGroupLocked()&&i)&&!(a.getIsGroupLocked()&&f.length===0)&&!(f.length===0&&!(i||a.getShowPlaceholder()));if(d){return a}o+=s}return undefined},_getGroupAndTilesInfo:function(){var e=this._getFocusOnTile(n(document.activeElement));if(!e||!e.length){return null}var t=e.control(0);t.isLink=e.hasClass("sapUshellLinkTile")||e.hasClass("sapMGTLineMode");var i=e.closest(".sapUshellTileContainer").control(0);if(!i){return null}return{oCurTile:t,oGroup:i}},_goToSiblingElementInTileContainer:function(e,t){var i=t.closest(".sapUshellTileContainer"),n,s,r;n=t.closest(".sapUshellTileContainerBeforeContent");if(n.length){if(e==="up"||e==="left"){this._goToNextTileContainer(n,e)}else{r=i.find(".sapUshellTileContainerHeader").eq(0);r.focus()}return}n=t.closest(".sapUshellTileContainerHeader");if(n.length){if(e==="up"){if(!this._goToTileContainerBeforeContent(i)){this._goToNextTileContainer(n,e)}}else if(e==="down"){s=i.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(s.length){this.moveScrollDashboard(s)}else{this._goToNextTileContainer(n,e)}}else if(e==="left"){if(t.hasClass("sapUshellTileContainerHeader")){if(!this._goToTileContainerBeforeContent(i)){this._goToNextTileContainer(n,"left")}}else{r=t.closest(".sapUshellTileContainerHeader");r.focus()}}else if(e==="right"){var l=t.hasClass("sapMInputBaseInner");if(!l){s=i.find(".sapUshellTile, .sapUshellLinkTile, .sapFCard").eq(0);if(s.length){this.moveScrollDashboard(s)}else{this._goToNextTileContainer(n,"down")}}}return}n=this._getFocusOnTile(t);if(n){this._goFromFocusedTile(e,n,true);return}n=t.closest(".sapUshellTileContainerAfterContent");if(n.length){if(e==="up"||e==="left"){this._goToTileOfGroup("first",n.control(0))}else{this._goToNextTileContainer(n,e)}}},_goToNextTileContainer:function(e,t){var i=e.closest(".sapUshellTileContainer");if(i.length===1){var s=n(".sapUshellTileContainer").filter(":visible"),r=t==="down"?1:-1,l=n(s[s.index(i)+r]);if(l.length===1){var o=l.find(".sapUshellTileContainerHeader");if(t==="down"){if(!this._goToTileContainerBeforeContent(l)){this._setTileContainerSelectiveFocus(l)}}else if(!this._goToTileContainerAfterContent(l)){if(t==="up"||t==="left"){var a=t==="up"?"first":"last";if(!this._goToTileOfGroup(a,l.control(0))){o.focus()}}}}}},_goToTileContainerBeforeContent:function(e){var t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer"),i=t.find(".sapUshellTileContainerBeforeContent button").filter(":visible");if(i.length){i.focus();return true}return false},_goToTileContainerAfterContent:function(e){var t=e.hasClass("sapUshellTileContainer")?e:e.closest(".sapUshellTileContainer"),i=t.find(".sapUshellTileContainerAfterContent button").filter(":visible");if(i.length){i.focus();return true}return false},_goFromFocusedTile:function(e,t,i){var n=this._getNextTile(e),s=t.closest(".sapUshellTileContainer");if(n){var r=n.$(),l=r.closest(".sapUshellTileContainer");if(i&&s.get(0).id!==l.get(0).id){if(e==="down"||e==="right"){if(!this._goToTileContainerAfterContent(s)){this._setTileContainerSelectiveFocus(l)}}else if(e==="up"||e==="left"){var o=s.find(".sapUshellTileContainerHeader");o.focus()}}else{this.moveScrollDashboard(r)}}else if(i){if(e==="down"||e==="right"){this._goToTileContainerAfterContent(s)}else if(e==="up"||e==="left"){var a=s.find(".sapUshellTileContainerHeader");a.focus()}}},_setTileContainerSelectiveFocus:function(e){var t=n("#dashboardGroups").find(".sapUshellTileContainer").filter(":visible"),i=e.find(".sapUshellTileContainerBeforeContent button"),s=e.find(".sapUshellTileContainerHeader").eq(0),r=i.length&&i.is(":visible");if(r){i.focus()}else if(e.get(0)===t.get(0)){this.goToLastVisitedTile()}else if(s.length){s.focus()}},_setTileFocus:function(t){var i=document.getElementById("catalogView");if(i&&i.contains(t)){this.setFocusOnCatalogTile(t);return}var n=document.getElementById("dashboardGroups");var s=n.querySelectorAll(".sapUshellTile[tabindex]");for(var r=0;r<s.length;++r){s[r].removeAttribute("tabindex")}var l=[".sapMGTLineMode",".sapMGT",".sapFCard"].join('[tabindex="0"], ');var o=n.querySelectorAll(l);for(var a=0;a<o.length;++a){o[a].setAttribute("tabindex","-1")}t.setAttribute("tabindex",0);var h=e.byId(t.getAttribute("id"));if(h){var u=h.getParent();if(u){var f=e.getEventBus();f.publish("launchpad","scrollToGroup",{group:u})}h.focus()}},setFocusOnCatalogTile:function(e){var t=n(".sapUshellTile[tabindex=0]"),i,s;if(t.length){n(".sapUshellTileContainerContent [tabindex=0]").get().forEach(function(e){n(e).attr("tabindex",-1)});i=t.find("[tabindex], a").addBack().filter("[tabindex], a");i.attr("tabindex",-1)}if(!e){s=n(".sapUshellTile, .sapUshellAppBox").filter(":visible");if(s.length){e=s[0]}else{var r=document.getElementsByClassName("sapMMessagePageMainText");if(r.length){r[0].focus()}return}}e.setAttribute("tabindex",0);n(e).find("button").attr("tabindex",0);e.focus()},moveScrollDashboard:function(e){if(e.length){this._setTileFocus(e[0])}},_moveGroupFromDashboard:function(e,t){var i,s=n(".sapUshellDashboardGroupsContainerItem"),r,l;i=t.closest(".sapUshellDashboardGroupsContainerItem");r=s.index(i);l=e==="up"||e==="left"?r-1:r+1;this._moveGroup(r,l)},_moveGroup:function(t,i){if(i<0||i>=n(".sapUshellDashboardGroupsContainerItem").length||i<n(".sapUshellDisableDragAndDrop").length){return}e.getEventBus().publish("launchpad","moveGroup",{fromIndex:t,toIndex:i});setTimeout(function(){var e=n(".sapUshellTileContainerHeader")[i];n(e).focus()},100)},_getFocusOnTile:function(e){var t;[".sapUshellTile",".sapUshellLinkTile",".sapFCard"].forEach(function(i){var n=e.closest(i);if(n.length){t=n}});return t},_renameGroup:function(e){if(e.closest(".sapUshellTileContainerHeader").length===1){e=e[0].tagName==="H2"?e:e.find("h2");e.click()}},_arrowsButtonsHandler:function(e,t,i){this._preventDefault(t);if(i.hasClass("sapUshellAnchorItem")){this._handleAnchorNavigationItemsArrowKeys(e,i);return}if(i.is("#sapUshellAnchorBarOverflowButton")){this._handleAnchorNavigationOverflowButtonArrowKeys(e);return}var n=this._getFocusOnTile(i);var s=this.oModel.getProperty("/tileActionModeActive");var r=this.oModel.getProperty("/personalization");if(t.ctrlKey===true&&r){var l=i.closest(".sapUshellTileContainerHeader");if(n){this._moveTile(e)}else if(l.length){var o=l.closest(".sapUshellTileContainerContent");if(!o.hasClass("sapUshellTileContainerDefault")||!o.hasClass("sapUshellTileContainerLocked")){this._moveGroupFromDashboard(e,l)}}}else if(s){this._goToSiblingElementInTileContainer(e,i)}else if(n){this._goFromFocusedTile(e,n,s)}else{this.goToLastVisitedTile()}},_handleAnchorNavigationOverflowButtonArrowKeys:function(e){if(e==="left"||e==="up"){var t=n(".sapUshellAnchorItem").filter(":visible");this._setAnchorItemFocus(t.eq(t.length-1)[0])}},_handleAnchorNavigationItemsArrowKeys:function(e,t){var i=n(".sapUshellAnchorItem").filter(":visible"),s=i.index(t);if(e==="left"||e==="up"){if(s>0){this._setAnchorItemFocus(i.eq(s-1)[0]);return}}if(e==="right"||e==="down"){if(s<i.length-1){this._setAnchorItemFocus(i.eq(s+1)[0])}else if(s===i.length-1){var r=document.getElementById("sapUshellAnchorBarOverflowButton");r.focus()}}},_setAnchorItemFocus:function(e){var t=document.getElementsByClassName("sapUshellAnchorItem");for(var i=0;i<t.length;++i){t[i].setAttribute("tabindex","-1")}if(!e){e=n(".sapUshellAnchorItem").filter(":visible")[0]}e.setAttribute("tabindex","0");e.focus()},_appFinderHomeEndButtonsHandler:function(e,t,i){var s=n(".sapUshellTile, .sapUshellAppBox").filter(":visible"),r;if(s.length){if(e==="home"){r=n(s.get(0))}if(e==="end"){r=n(s.get(s.length-1))}}if(r){this._preventDefault(t);this._appFinderFocusAppBox(i,r)}},_homeEndButtonsHandler:function(e,t,i){if(i.hasClass("sapUshellAnchorItem")){this._preventDefault(t);this._setAnchorItemFocus(n(".sapUshellAnchorItem").filter(":visible:"+e)[0])}else if(t.ctrlKey===true){this._preventDefault(t);var s=n(".sapUshellTile, .sapFCard").filter(":visible")[e]();if(s.length){this._setTileFocus(s[0])}}else{var r=i.closest(".sapUshellTileContainer");if(r){var l=r.control(0);if(l){this._preventDefault(t);this._goToTileOfGroup(e,l)}}}},_deleteButtonHandler:function(t){var i=this.oModel.getProperty("/tileActionModeActive");var n=this.oModel.getProperty("/personalization");if(i&&n){var s=this._getFocusOnTile(t);if(s&&!s.hasClass("sapUshellLockedTile")&&!s.hasClass("sapUshellPlusTile")){var r=this._getGroupAndTilesInfo();if(r&&!r.oCurTile.isLink){var l=e.byId("sapUshellDashboardPage").getParent();e.getEventBus().publish("launchpad","deleteTile",{tileId:l.getController()._getTileUuid(r.oCurTile),items:"tiles"},this)}}}},_spaceButtonHandler:function(e,t){e.preventDefault();var i=this._getFocusOnTile(t);if(!i||!i.length){t.click();return}if(i.hasClass("sapFCard")){i.control(0).getCardHeader().firePress();return}var n=t.find("[role=button], a.sapMGT");if(n.length&&!this.oModel.getProperty("/tileActionModeActive")){var s=n.control(0);if(s){s.firePress();return}}i.control(0).firePress()},goToSelectedAnchorNavigationItem:function(){this._setAnchorItemFocus(document.getElementsByClassName("sapUshellAnchorItemSelected")[0]);return document.activeElement&&document.activeElement.classList.contains("sapUshellAnchorItemSelected")},handleFocusOnMe:function(i,s){var r=sap.ushell.Container.getRenderer("fiori2"),l=o._instance;if(r){var a=r.getCurrentCoreView();if(a==="home"&&!t.last("/core/spaces/enabled")){var h=document.activeElement?document.activeElement.tagName:"";if(h==="INPUT"||h==="TEXTAREA"){if(i.keyCode===l.keyCodes.ENTER){var u=n(document.activeElement).closest(".sapUshellTileContainerHeader");if(u.length){setTimeout(function(){u=n("#"+u[0].id);u.focus()},10)}}}else{l._dashboardKeydownHandler(i)}}if(a==="appFinder"){if(s){if(i.shiftKey){l.setFocusOnCatalogTile()}else{var f=e.byId("openCloseButtonAppFinderSubheader");if(f&&f.getVisible()){f.focus()}else{l.appFinderFocusMenuButtons(i)}}}else{l._appFinderKeydownHandler(i)}}}},_appFinderFocusAppBox:function(e,t){if(e&&t){e.attr("tabindex","-1").find(".sapUshellPinButton").attr("tabindex","-1");t.attr("tabindex","0").focus();t.find(".sapUshellPinButton").attr("tabindex","0")}},_preventDefault:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()},_getNextCatalog:function(e,t){var i;if(e==="down"||e==="right"){i=t.next()}else if(e==="up"||e==="left"){i=t.prev()}else{s.error("Direction is unkown",e,"sap.ushell.components.ComponentKeysHandler");return null}if(i.length>0){var n=i.find("li.sapUshellAppBox, li.sapUshellTile").get().length;if(n>0){return i}return this._getNextCatalog(e,i)}return undefined},_getNextCatalogItem:function(e,t,i){var s=n(t.parents()[2]),r=s.find("li.sapUshellAppBox, li.sapUshellTile").get();if(e==="right"||e==="left"){var l=r.indexOf(t.get(0)),o=e==="right"?l+1:l-1;if(r[o]){return r[o]}}var a=this._getNextCatalog(e,s),h=a?a.find("li.sapUshellAppBox, li.sapUshellTile").get():[];if(h.length>0&&e==="right"){return h[0]}if(h.length>0&&e==="left"){return h[h.length-1]}if(e==="down"||e==="up"){if(h.length>0&&i){return h[0]}var u=e==="down"?r.concat(h):h.concat(r);return this._findClosestTile(e,u,t.get(0))}return undefined},_appFinderKeysHandler:function(e,t,i,s){if(i.is(".sapUshellAppBox, .sapUshellTile")){this._preventDefault(t);var r=n(this._getNextCatalogItem(e,i,s));if(r){this._appFinderFocusAppBox(i,r)}}},appFinderFocusMenuButtons:function(e){var t=n("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(t.length){t.eq(0).focus();this._preventDefault(e);return true}return false},_appFinderKeydownHandler:function(t){var i=n(document.activeElement);if(t.srcElement.id!=="appFinderSearch-I"){var s=t.keyCode,r=e.getConfiguration().getRTL();if(r&&s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(r&&s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}switch(s){case this.keyCodes.ARROW_UP:this._appFinderKeysHandler("up",t,i);break;case this.keyCodes.ARROW_DOWN:this._appFinderKeysHandler("down",t,i);break;case this.keyCodes.ARROW_RIGHT:this._appFinderKeysHandler("right",t,i);break;case this.keyCodes.ARROW_LEFT:this._appFinderKeysHandler("left",t,i);break;case this.keyCodes.PAGE_UP:this._appFinderKeysHandler("up",t,i,true);break;case this.keyCodes.PAGE_DOWN:this._appFinderKeysHandler("down",t,i,true);break;case this.keyCodes.HOME:this._appFinderHomeEndButtonsHandler("home",t,i);break;case this.keyCodes.END:this._appFinderHomeEndButtonsHandler("end",t,i);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,i);break;default:return}}},_dashboardKeydownHandler:function(t){var i=document.activeElement&&document.activeElement.tagName;if(i==="INPUT"||i==="TEXTAREA"){return}var s=t.keyCode,r=e.getConfiguration().getRTL(),l=n(document.activeElement);if(r){if(s===this.keyCodes.ARROW_RIGHT){s=this.keyCodes.ARROW_LEFT}else if(s===this.keyCodes.ARROW_LEFT){s=this.keyCodes.ARROW_RIGHT}}switch(s){case this.keyCodes.F2:this._renameGroup(l);break;case this.keyCodes.DELETE:case this.keyCodes.BACKSPACE:this._deleteButtonHandler(l);break;case this.keyCodes.ARROW_UP:this._arrowsButtonsHandler("up",t,l);break;case this.keyCodes.ARROW_DOWN:this._arrowsButtonsHandler("down",t,l);break;case this.keyCodes.ARROW_RIGHT:this._arrowsButtonsHandler("right",t,l);break;case this.keyCodes.ARROW_LEFT:this._arrowsButtonsHandler("left",t,l);break;case this.keyCodes.PAGE_UP:this._goToFirstTileOfNextGroup("up",t);break;case this.keyCodes.PAGE_DOWN:this._goToFirstTileOfNextGroup("down",t);break;case this.keyCodes.HOME:this._homeEndButtonsHandler("first",t,l);break;case this.keyCodes.END:this._homeEndButtonsHandler("last",t,l);break;case this.keyCodes.SPACE:this._spaceButtonHandler(t,l);break;case this.keyCodes.ENTER:this._spaceButtonHandler(t,l);break;default:break}}};return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/SharedComponentUtils",["sap/ui/Device","sap/ushell/Config","sap/ushell/UserActivityLog","sap/base/Log","sap/ui/core/Component","sap/ui/thirdparty/jquery"],function(e,t,n,i,s,r){"use strict";var o={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){t.on("/core/extension/SupportTicket").do(function(e){if(e){n.activate()}else{n.deactivate()}})},initializeAccessKeys:function(){if(e.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e,t){e.getInstance().then(function(e){t.registerAppKeysHandler(e.handleFocusOnMe)})})}},getEffectiveHomepageSetting:function(e,n){var i,s=t.last(n)!==false,r=e.split("/").reverse()[0];if(s){i=this._getPersonalization(r)}else{i=Promise.resolve()}return i.then(function(n){n=n||t.last(e);if(n!==undefined){t.emit(e,n)}return n}).catch(function(){return t.last(e)})},_getPersonalization:function(e){return o.getPersonalizer(e,sap.ushell.Container.getRenderer("fiori2")).then(function(t){return new Promise(function(n,s){t.getPersData().done(n).fail(function(t){i.error("Failed to load "+e+" from the personalization",t,"sap.ushell.components.flp.settings.FlpSettings");s()})})})},getPersonalizer:function(e,t){return sap.ushell.Container.getServiceAsync("Personalization").then(function(n){var i=s.getOwnerComponentFor(t);var r={keyCategory:n.constants.keyCategory.FIXED_KEY,writeFrequency:n.constants.writeFrequency.LOW,clientStorageAllowed:true};var o={container:this.PERS_KEY,item:e};return n.getPersonalizer(o,r,i)}.bind(this))}};return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadEndItemsStrategy",["sap/base/Log"],function(e){"use strict";function t(t,n){var r=0,i,a;if(!t||!n){return false}var o=n.some(function(t){var n=!sap.ui.getCore().byId(t);if(n){e.warning("Failed to find control with id '{id}'".replace("{id}",t))}return n});if(o){return false}if(n.length===1&&n[0]==="endItemsOverflowBtn"){return true}for(i=0;i<t.length;i++){a=t[i];if(a!=="endItemsOverflowBtn"){r++}if(r+n.length>10){e.warning("maximum of six items has reached, cannot add more items.");return false}if(n.indexOf(a)>-1){return false}}return true}function n(e,t){var n=e.concat(t);var r={sf:-3,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,meAreaHeaderButton:3,productSwitchBtn:4};n.sort(function(e,t){var n=r[e]||0,i=r[t]||0;if(n===i){return e.localeCompare(t)}return n-i});return n}function r(e,r){var i=e;if(t(e,r)){i=n(e,r)}return i}return{execute:r}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadItemsStrategy",[],function(){"use strict";function n(n,e){return n.indexOf(e)===-1?n.concat(e):n}function e(e,t){return t.reduce(n,e)}function t(n){return function(e){return n.indexOf(e)===-1}}function r(n,r){return e(n,r.filter(t(["backBtn"]))).length<=3}function u(n,e){var t=[],r=n.concat(e);if(n.indexOf("backBtn")>-1||e.indexOf("backBtn")>-1){t.push("backBtn")}if(t.length<3){for(var u=0;u<r.length;u++){var i=r[u];if(t.indexOf(i)===-1){t.push(i)}if(t.length>=3){break}}}return t}function i(n,e){var t=n;if(r(n,e)){t=u(n,e)}return t}return{execute:i}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/ControlManager",["sap/m/Avatar","sap/m/library","sap/ui/Device","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/ui/shell/ShellHeadItem"],function(e,a,t,r,s,n){"use strict";var i=a.AvatarSize;var o=[];function u(e,a,t){o.push(p(t))}function l(){o.forEach(function(e){var a=sap.ui.getCore().byId(e);if(a){if(a.destroyContent){a.destroyContent()}a.destroy()}});o=[]}function p(a){var t="meAreaHeaderButton",n=sap.ushell.Container.getUser(),o=s.i18n.getText("MeAreaToggleButtonAria",n.getFullName());var u=new e({id:t,src:"{/userImage/personPlaceHolder}",initials:n.getInitials(),ariaHasPopup:"Menu",displaySize:i.XS,tooltip:o,press:function(){r.emit("showMeArea",Date.now())}});u.setModel(a);return t}return{init:u,destroy:l}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/ExtendApplicationPropertyStrategy",["sap/ui/thirdparty/jquery"],function(e){"use strict";function t(t,r){if(!r){r={}}return e.extend(true,{},t,r)}return{execute:t}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/RemoveItemsStrategy",["sap/base/Log"],function(e){"use strict";function n(e,n){return n.some(function(n){return e.indexOf(n)>=0})}function t(e,n){return e.filter(function(e){return n.indexOf(e)===-1})}function r(r,i){var u=r;if(n(r,i)){u=t(r,i)}else{e.warning("You cannot remove item: "+i+", the item does not exists.")}return u}return{execute:r}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/SetHeadPropertyStrategy",[],function(){"use strict";function e(e){return e!==undefined}function n(n,r){if(e(r)){return r}return n}return{execute:n}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/ShellHeader.controller",["sap/m/library","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/ui/shell/OverflowListItem"],function(e,t,i,n,a,r,o,s,l){"use strict";var u=e.ListType;var d=s.FloatingNumberType;return t.extend("sap.ushell.components._HeaderManager.ShellHeader",{onInit:function(){this.aDoables=[];this.aDoables.push(o.on("navigateBack").do(this.pressNavBackButton.bind(this)));this.aDoables.push(o.on("showEndItemOverflow").do(this.pressEndItemsOverflow.bind(this)));this.aDoables.push(o.on("navigateFromShellApplicationNavigationMenu").do(this.navigateFromShellApplicationNavigationMenu.bind(this)))},shellUpdateAggItem:function(e,t){return sap.ui.getCore().byId(t.getObject())},pressNavBackButton:function(){o.emit("showMeArea",false);a.service().navigateBack()},pressEndItemsOverflow:function(e){var t=sap.ui.getCore().byId("headEndItemsOverflow"),i=sap.ui.getCore().byId(e),a=Promise.resolve(),s;if(!i){return}if(!t){a=new Promise(function(e,t){sap.ui.require(["sap/ui/core/Fragment"],function(i){i.load({name:"sap.ushell.renderers.fiori2.HeadEndItemsOverflowPopover",type:"XML",controller:this}).then(e).catch(t)}.bind(this),t)}.bind(this)).then(function(e){t=e;var i=sap.ui.getCore().byId("headEndItemsOverflowList");i.enhanceAccessibilityState=function(e,t){if(e.getFloatingNumberType()!==d.None){t.describedby=e._oAriaDescribedbyText.getId()}return t};s=new n({headEndItems:r.last("/core/shellHeader/headEndItems")});t.setModel(s)})}a.then(function(){if(t.isOpen()){t.close()}else{if(sap.ui.getCore().byId("shellNotificationsPopover")){o.emit("showNotifications",false)}t.openBy(i)}})},headEndItemsOverflowItemFactory:function(e,t){var i=sap.ui.getCore().byId(t.getObject());var n=i.getBindingPath("floatingNumber");var a=i.getText();var r=i.getTooltip();var o=new l({id:e+"-"+i.getId(),icon:i.getIcon(),iconInset:true,tooltip:r!==a?r:null,title:a,type:u.Active,floatingNumber:n?{path:n}:undefined,floatingNumberMaxValue:i.getFloatingNumberMaxValue(),floatingNumberType:i.getFloatingNumberType(),press:function(){if(i){i.firePress();var e=i.getTarget();if(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.toExternal({target:{shellHash:e}})})}}var t=sap.ui.getCore().byId("headEndItemsOverflow");if(t.isOpen()){t.close()}}});if(i._oAriaLabel){o.addAriaLabelledBy(i._oAriaLabel)}if(n){o.setModel(i.getModel())}return o},destroyHeadEndItemsOverflow:function(e){e.getSource().destroy()},isHeadEndItemInOverflow:function(e){return e!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(e)},isHeadEndItemNotInOverflow:function(e){var t=this.isHeadEndItemOverflow();var n=i.media.getCurrentRange(i.media.RANGESETS.SAP_STANDARD).name;if(e==="ENDITEMSOVERFLOWBTN"){return t}if(!t){return true}if(["MEAREAHEADERBUTTON","BACKBTN"].indexOf(e)>-1){return true}if(n==="Phone"){return false}if(["SF","FLOATINGCONTAINERBUTTON"].indexOf(e)>-1){return true}if(n==="Desktop"&&e==="COPILOTBTN"){return true}return false},isHeadEndItemOverflow:function(){var e=0,t,n=r.last("/core/shellHeader/headEndItems");if(n.indexOf("endItemsOverflowBtn")===-1){return false}var a=i.media.getCurrentRange(i.media.RANGESETS.SAP_STANDARD).name;var o=3;if(a==="Phone"){o=1}for(var s=0;s<n.length;s++){t=sap.ui.getCore().byId(n[s]);if(t&&t.getVisible()){e++}}if(sap.ui.getCore().byId("endItemsOverflowBtn").getVisible()){return e>o+1}return e>o},navigateFromShellApplicationNavigationMenu:function(e){if(window.hasher.getHash()!==e.substr(1)){o.emit("centerViewPort",Date.now());window.hasher.setHash(e)}var t=sap.ui.getCore().byId("shellAppTitle");if(t){t.close()}},onExit:function(){this.aDoables.forEach(function(e){e.off()})}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/pages/controller/PagesAndSpaceId",["sap/ushell/resources","sap/ushell/Config"],function(e,n){"use strict";var t=function(){};t.prototype._getPageAndSpaceId=function(e){return sap.ushell.Container.getServiceAsync("URLParsing").then(function(n){if(e===undefined){e=window.hasher.getHash()}var t=n.parseShellHash(e)||{};var i={semanticObject:t.semanticObject||"",action:t.action||""};var a=t.params||{};var r=a.pageId||[];var s=a.spaceId||[];return this._parsePageAndSpaceId(r,s,i)}.bind(this))};t.prototype._parsePageAndSpaceId=function(n,t,i){return new Promise(function(a,r){this.getUserMyHomeEnablement().then(function(){if(n.length<1&&t.length<1){var s=i.semanticObject==="Shell"&&i.action==="home";var c=i.semanticObject===""&&i.action==="";if(s||c){this._getUserDefaultSpaceAndPage().then(function(e){a(e)}).catch(function(e){r(e)});return}r(e.i18n.getText("PageRuntime.NoPageIdAndSpaceIdProvided"))}if(n.length===1&&t.length===0){r(e.i18n.getText("PageRuntime.OnlyPageIdProvided"))}if(n.length===0&&t.length===1){r(e.i18n.getText("PageRuntime.OnlySpaceIdProvided"))}if(n.length>1||t.length>1){r(e.i18n.getText("PageRuntime.MultiplePageOrSpaceIdProvided"))}if(n[0]===""){r(e.i18n.getText("PageRuntime.InvalidPageId"))}if(t[0]===""){r(e.i18n.getText("PageRuntime.InvalidSpaceId"))}a({pageId:n[0],spaceId:t[0]})}.bind(this))}.bind(this))};t.prototype.getUserMyHomeEnablement=function(){return new Promise(function(e,t){var i=sap.ushell.Container.getUser().getShowMyHome();n.emit("/core/spaces/myHome/userEnabled",i);e(i)})};t.prototype._getUserDefaultSpaceAndPage=function(){return new Promise(function(n,t){Promise.all([sap.ushell.Container.getServiceAsync("Menu"),this.getUserMyHomeEnablement()]).then(function(i){var a=i[0];a.getDefaultSpace().then(function(i){if(!i){t(e.i18n.getText("PageRuntime.NoAssignedSpace"));return}var a=i&&i.children&&i.children[0];if(!a){t(e.i18n.getText("PageRuntime.NoAssignedPage"));return}n({spaceId:i.id,pageId:a.id})})}).catch(function(e){t(e)})}.bind(this))};return new t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/Component",["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(e,t){"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncher.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){var t=this.getComponentData();var n=t.properties.tilePersonalization||{};var o=t.startupParameters;if(o&&o["sap-system"]){n["sap-system"]=o["sap-system"][0]}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncher.StaticTile",viewData:{properties:t.properties,configuration:n}}).then(function(e){this._oController=e.getController();e.getContent()[0].bindTileContent({path:"/properties",factory:this._oController._getTileContent.bind(this._oController)});return e}.bind(this))},tileSetVisualProperties:function(e){if(this._oController){this._oController.updatePropertiesHandler(e)}},tileRefresh:function(){},tileSetVisible:function(e){},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.controller",["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,r,i,o,n,a,s){"use strict";var l=n.GenericTileScope;var p=n.GenericTileMode;var c=e.DisplayFormat;var g=e.AppType;return t.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{_aDoableObject:{},_getConfiguration:function(){var e=this.getView().getViewData();e.properties.sizeBehavior=r.last("/core/home/sizeBehavior");e.properties.wrappingType=r.last("/core/home/wrappingType");return e},onInit:function(){var e=this.getView();var t=new o;t.setData(this._getConfiguration());e.setModel(t);this._aDoableObject=r.on("/core/home/sizeBehavior").do(function(e){t.setProperty("/properties/sizeBehavior",e)});var i=this.getView().getViewData();var n=i.properties;var s=i.properties.contentProviderId;n.mode=n.mode||(n.icon?"ContentMode":"HeaderMode");if(n.displayFormat===c.Compact&&n.title&&n.targetURL){t.setProperty("/properties/mode",p.LineMode)}switch(n.displayFormat){case c.Flat:t.setProperty("/properties/frameType","OneByHalf");break;case c.FlatWide:t.setProperty("/properties/frameType","TwoByHalf");break;case c.StandardWide:t.setProperty("/properties/frameType","TwoByOne");break;default:{t.setProperty("/properties/frameType","OneByOne")}}if(r.last("/core/contentProviders/providerInfo/show")){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(s)}).then(function(e){t.setProperty("/properties/contentProviderLabel",e.label)}).catch(function(e){a.error("StaticTile.controller threw an error:",e)})}},onExit:function(){this._aDoableObject.off()},editModeHandler:function(e){var t=e?l.ActionMore:l.Display;this.getView().getModel().setProperty("/properties/scope",t)},onPress:function(e){var t=this.getView().getViewData().properties;if(e.getSource().getScope&&e.getSource().getScope()===l.Display){var o=this._createTargetUrl();if(!o){return}if(o[0]==="#"){hasher.setHash(o)}else{var n=r.last("/core/shell/enableRecentActivity")&&r.last("/core/shell/enableRecentActivityLogging");if(n){var a={title:t.title,appType:g.URL,url:t.targetURL,appId:t.targetURL};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(a)}i.openURL(o,"_blank")}}},updatePropertiesHandler:function(e){var t=this.getView().getContent()[0],r=t.getTileContent()[0];if(typeof e.title!=="undefined"){t.setHeader(e.title)}if(typeof e.subtitle!=="undefined"){t.setSubheader(e.subtitle)}if(typeof e.icon!=="undefined"){r.getContent().setSrc(e.icon)}if(typeof e.info!=="undefined"){r.setFooter(e.info)}},_createTargetUrl:function(){var e=this.getView().getViewData().properties.targetURL;var t=this.getView().getViewData().configuration["sap-system"];var r;if(e&&t){if(s.isIntentUrl(e)){r=s.parseShellHash(e);if(!r.params){r.params={}}r.params["sap-system"]=t;e="#"+s.constructShellHash(r)}else{e+=(e.indexOf("?")<0?"?":"&")+"sap-system="+t}}return e},_getLeanUrl:function(){return i.getLeanURL(this._createTargetUrl())},_getTileContent:function(e,t){var r=t.getPath().split("/");r.pop();var i=t.getProperty(r.join("/"));if(i!==this.oLastBindingObject||this.oTileContent&&this.oTileContent.bIsDestroyed){this.oLastBindingObject=i;this.oTileContent=this.getView().byId(i.icon?"imageTileContent":"standardTileContent").clone()}return this.oTileContent},_getCurrentProperties:function(){var e=this.getView().getContent()[0],t=e.getTileContent()[0],i=r.last("/core/home/sizeBehavior");return{title:e.getHeader(),subtitle:e.getSubheader(),info:t.getFooter(),icon:t.getContent().getSrc(),mode:e.getMode(),sizeBehavior:i}}})},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/Component",["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(e,t){"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){var t=this.getComponentData();var r=t.properties||{};var i=r.tilePersonalization||{};var s=r.indicatorDataSource;if(s&&s.path){i.serviceUrl=s.path;i.serviceRefreshInterval=s.refresh}var o=t.startupParameters;if(o&&o["sap-system"]&&o["sap-system"][0]){i["sap-system"]=o["sap-system"][0]}if(i.serviceUrl&&i.serviceUrl.charAt(0)!=="/"&&r.dataSource&&r.dataSource.uri){var n=r.dataSource.uri;if(i["sap-system"]){if(n.charAt(n.length-1)==="/"){n=n.slice(0,n.length-1)}n+=";o="+i["sap-system"]}if(n.charAt(n.length-1)!=="/"){n+="/"}n+=i.serviceUrl;i.serviceUrl=n}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",viewData:{properties:r,configuration:i}}).then(function(e){this._oController=e.getController();this._oController.visibleHandler(this.bIsVisible);return e}.bind(this))},tileSetVisualProperties:function(e){if(this._oController){this._oController.updateVisualPropertiesHandler(e)}},tileRefresh:function(){if(this._oController){this._oController.refreshHandler()}},tileSetVisible:function(e){if(this._oController){this._oController.visibleHandler(e)}else{this.bIsVisible=e}},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.controller",["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/format/NumberFormat","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/ushell/library","sap/base/Log","sap/base/util/merge","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,r,i,a,s,o,n,l,u,f,p,d){"use strict";var c=o.GenericTileScope;var m=o.DeviationIndicator;var h=o.ValueColor;var g=o.FrameType;var v=n.DisplayFormat;var b=n.AppType;var y="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile";var D="<RESET>";var R={title:"",subtitle:"",icon:"",info:"",infoState:h.Neutral,targetURL:"",number_value:"...",number_unit:"",number_factor:"",number_state_arrow:m.None,number_value_state:h.Neutral};return e.extend(y,{_aDoableObject:{},timer:null,iLastTimeoutStart:0,oDataRequest:null,bShouldNotRefreshDataAfterInit:false,_getConfiguration:function(e){var t={};var r;t.configuration=e.configuration;t.properties=e.properties;t.properties.info=t.properties.info||R.info;t.properties.number_value=R.number_value;t.properties.number_value_state=R.number_value_state;t.properties.number_state_arrow=R.number_state_arrow;t.properties.number_factor=R.number_factor;t.properties.number_unit=t.properties.numberUnit||R.number_unit;var a=t.configuration["sap-system"];var s=t.properties.targetURL;if(s&&a){if(d.isIntentUrl(s)){r=d.parseShellHash(s);if(!r.params){r.params={}}r.params["sap-system"]=a;s="#"+d.constructShellHash(r)}else{s+=(s.indexOf("?")<0?"?":"&")+"sap-system="+a}t.properties.targetURL=s}t.properties.sizeBehavior=i.last("/core/home/sizeBehavior");t.properties.wrappingType=i.last("/core/home/wrappingType");switch(t.properties.displayFormat){case v.Flat:t.properties.frameType=g.OneByHalf;break;case v.FlatWide:t.properties.frameType=g.TwoByHalf;break;case v.StandardWide:t.properties.frameType=g.TwoByOne;break;default:{t.properties.frameType=g.OneByOne}}t.originalProperties=u({},e.properties);return t},onInit:function(){var e=this.getView();var t=new s;var r=e.getViewData();var a=r.properties;t.setData(this._getConfiguration(r));var o=a.contentProviderId;if(i.last("/core/contentProviders/providerInfo/show")){this.oSystemContextPromise=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(o)}).then(function(e){t.setProperty("/properties/contentProviderLabel",e.label)}).catch(function(e){l.error("DynamicTile.controller threw an error:",e)})}e.setModel(t);this._aDoableObject=i.on("/core/home/sizeBehavior").do(function(e){t.setProperty("/properties/sizeBehavior",e)})},refreshHandler:function(){this.loadData(0,true)},visibleHandler:function(e){if(e){if(!this.oDataRequest||this.timer===null){this.initRequestInterval()}}else{this.stopRequests()}},editModeHandler:function(e){var t=e?c.ActionMore:c.Display;this.getView().getModel().setProperty("/properties/scope",t)},updateVisualPropertiesHandler:function(e){var t=this.getView().getModel().getProperty("/properties");var r=this.getView().getModel().getProperty("/originalProperties");if(p.isDefined(e.title)){t.title=e.title;r.title=e.title}if(p.isDefined(e.subtitle)){t.subtitle=e.subtitle;r.subtitle=e.subtitle}if(p.isDefined(e.icon)){t.icon=e.icon;r.icon=e.icon}if(p.isDefined(e.targetURL)){t.targetURL=e.targetURL;r.targetURL=e.targetURL}if(p.isDefined(e.info)){t.info=e.info;r.info=e.info}this.getView().getModel().refresh()},stopRequests:function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.oDataRequest){this.oDataRequest.abort()}},onPress:function(e){if(e.getSource().getScope&&e.getSource().getScope()===c.Display){var t=this.getView().getModel().getProperty("/properties/targetURL");var r=this.getView().getModel().getProperty("/properties/title");if(!t){return}else if(t[0]==="#"){hasher.setHash(t)}else{var s=i.last("/core/shell/enableRecentActivity")&&i.last("/core/shell/enableRecentActivityLogging");if(s){var o={title:r,appType:b.URL,url:t,appId:t};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(o)}a.openURL(t,"_blank")}}},initRequestInterval:function(){var e=this.getView().getModel();var t=e.getProperty("/configuration/serviceRefreshInterval");if(!t||t==="0"){t=0;if(this.oDataRequest){this.bShouldNotRefreshDataAfterInit=true}}else if(t<10){var r=e.getProperty("/configuration/serviceUrl");l.warning("Refresh Interval "+t+" seconds for service URL "+r+" is less than 10 seconds, which is not supported. Increased to 10 seconds automatically.",null,y);t=10}this.loadData(t,false)},loadData:function(e,t){if(!t&&this.bShouldNotRefreshDataAfterInit){return}var r=this.getView().getModel();var i=r.getProperty("/configuration/serviceUrl");if(!i){l.error("No service URL given!",y);this._setTileIntoErrorState();return}var a=e*1e3-(Date.now()-this.iLastTimeoutStart);if(!t&&!this.timer&&a>0){l.info("Started timeout to call "+i+" again in "+Math.ceil(a/1e3)+" seconds",null,y);this.timer=setTimeout(this.loadData.bind(this,e,false),p.sanitizeTimeoutDelay(a));return}if(!this.oDataRequest||this.oDataRequest.sUrl!==i){if(this.oDataRequest){this.oDataRequest.destroy()}var s=r.getProperty("/properties/contentProviderId");this.oDataRequest=new f(i,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),s)}else if(this.oDataRequest){this.oDataRequest.refresh()}if(e>0){l.info("Started timeout to call "+i+" again in "+e+" seconds",null,y);this.iLastTimeoutStart=Date.now();this.timer=setTimeout(this.loadData.bind(this,e,false),p.sanitizeTimeoutDelay(e*1e3))}},successHandlerFn:function(e){this.updatePropertiesHandler(e)},errorHandlerFn:function(e){var t=e&&e.message?e.message:e;var r=this.getView().getModel().getProperty("/configuration/serviceUrl");if(e.statusText==="Abort"||e.aborted===true){l.info("Data request from service "+r+" was aborted",null,y);this.bShouldNotRefreshDataAfterInit=false}else{if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}l.error("Failed to update data via service "+r+": "+t,null,y);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){var e=t.getResourceBundleModel().getResourceBundle();this.updatePropertiesHandler({number:"???",info:e.getText("dynamic_data.error")})},_normalizeNumber:function(e,t,i,a){var s;if(isNaN(e)){s=e}else{var o=r.getFloatInstance({maxFractionDigits:a});if(!i){var n=Math.abs(e);if(n>=1e9){i="B";e/=1e9}else if(n>=1e6){i="M";e/=1e6}else if(n>=1e3){i="K";e/=1e3}}s=o.format(e)}var l=s;var u=l[t-1];t-=u==="."||u===","?1:0;l=l.substring(0,t);return{displayNumber:l,numberFactor:i}},updatePropertiesHandler:function(e){var t=this.getView().getModel().getProperty("/originalProperties");var a=this.getView().getModel().getProperty("/properties");var s=[{dataField:"title",modelField:"title"},{dataField:"subtitle",modelField:"subtitle"},{dataField:"icon",modelField:"icon"},{dataField:"info",modelField:"info"},{dataField:"infoState",modelField:"infoState"},{dataField:"targetURL",modelField:"targetURL"},{dataField:"stateArrow",modelField:"number_state_arrow"},{dataField:"numberState",modelField:"number_value_state"},{dataField:"numberUnit",modelField:"number_unit"},{dataField:"numberFactor",modelField:"number_factor"}];s.forEach(function(r){var i=e[r.dataField];var s=!i;var o=R[r.modelField];if(s){a[r.modelField]=t[r.modelField]||o}else if(this._isResetValue(i)){a[r.modelField]=o}else{a[r.modelField]=i}}.bind(this));a.number_value=!isNaN(e.number)?e.number:R.number_value;a.number_digits=e.numberDigits>=0?e.numberDigits:4;var o=[];if(e.targetParams){o.push(e.targetParams)}if(e.results){var n;var l;var u=0;e.results.forEach(function(e){l=e.number||0;if(typeof l==="string"){l=parseFloat(l)}u+=l;n=e.targetParams;if(n){o.push(n)}});a.number_value=u}if(o.length>0){var f=a.targetURL.indexOf("?")!==-1?"&":"?";a.targetURL+=f+o.join("&")}if(!isNaN(e.number)){if(typeof e.number==="string"){e.number=e.number.trim()}var p=this._shouldProcessDigits(e.number,e.numberDigits);var d=a.icon?4:5;if(e.number&&e.number.toString().length>=d||p){var c=this._normalizeNumber(e.number,d,e.numberFactor,e.numberDigits);a.number_factor=c.numberFactor;a.number_value=c.displayNumber}else{var m=r.getFloatInstance({maxFractionDigits:d});a.number_value=m.format(e.number)}}a.sizeBehavior=i.last("/core/home/sizeBehavior");this.getView().getModel().refresh()},_shouldProcessDigits:function(e,t){var r;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){r=e.split(".")[1].length;if(r>t){return true}}return false},_getLeanUrl:function(e){return a.getLeanURL(e)},_formatValueColor:function(e){if(e==="Positive"){return h.Good}if(e==="Negative"){return h.Error}return h[e]||h.Neutral},_getValueColor:function(e){var t=this._formatValueColor(e);if(t===h.Neutral){return h.None}return t},_isResetValue:function(e){if(typeof e!=="string"){return false}return e===D},onExit:function(){if(this.oDataRequest){this.stopRequests();this.oDataRequest.destroy()}this._aDoableObject.off()}})},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view",["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/NumericContent","sap/m/library"],function(e,t,r,i,o){"use strict";var n=o.ValueColor;return e.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({size:"Auto",header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{/properties/sizeBehavior}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{parts:["/properties/targetURL"],formatter:e.formatters&&e.formatters.leanURL},tileContent:new r({size:"Auto",footer:"{/properties/info}",footerColor:{path:"/properties/infoState",formatter:function(e){if(e==="Positive"){e=n.Good}if(e==="Negative"){e=n.Error}if(!n[e]){e=n.Neutral}return e}},unit:"{/properties/number_unit}",content:new i({truncateValueTo:5,scale:"{/properties/number_factor}",value:"{/properties/number_value}",indicator:"{/properties/number_state_arrow}",valueColor:{path:"/properties/number_value_state",formatter:function(e){if(!e||e==="Neutral"||!n[e]){return n.None}return e}},icon:"{/properties/icon}",withMargin:false,width:"100%"})}),additionalTooltip:"{/properties/contentProviderLabel}",press:[e.onPress,e]})}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/utils",["sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations","sap/ushell/resources","sap/ui/thirdparty/datajs","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/IconPool","sap/ui/core/Icon","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/Text","sap/ui/core/CustomData","sap/ui/core/Item","sap/m/Label","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/format/NumberFormat"],function(e,t,a,i,n,r,s,l,o,u,p,c,g,d,_,f,b,y,I,v,m){"use strict";var V=r.MessageType;var h=r.ValueState;var w=r.mvc.ViewType;var S=s.ButtonType;var x={};x.isInitial=function(e){return e==="App Launcher – Static"||e==="App Launcher – Dynamic"||e==="Target Mapping"};x.getResourceBundleModel=function(){return t.i18nModel};x.getEmptyRowObj=function(e){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false||!e,defValEnabled:true,editable:e}};x.getEmptyTileActionsRowObj=function(e){var t=x.getResourceBundleModel().getResourceBundle();return{menu_title:"",target_type:t.getText("configuration.tile_actions.table.target_type.url"),navigation_target:"",action:"",icon:"",isTargetTypeIntent:false,editable:e}};x.getTileNavigationActionsRows=function(e,t){var a=[],i=[];i=this.getTileNavigationActions(e);if(i.length){for(var n=0;n<i.length;n++){a.push(T(i[n],t))}}else{a=[this.getEmptyTileActionsRowObj(t)]}return a};x.getTileNavigationActions=function(e){var t=[],a="";var i=e.bag.getBag("tileNavigationActions");if(i.getPropertyNames().indexOf("tile_navigation_actions")>=0){t=JSON.parse(i.getProperty("tile_navigation_actions"));for(var n=0;n<t.length;n++){if(t[n].text){if(i.getTextNames().indexOf("action_tile_"+(n+1))>=0){a=i.getText("action_tile_"+(n+1))}t[n].text=a}}}return t};var T=function(e,t){var a={},i=x.getResourceBundleModel().getResourceBundle();a.menu_title=e.text;a.icon=e.icon;if(e.targetURL.charAt(0)==="#"){a.target_type=i.getText("configuration.tile_actions.table.target_type.intent");var n=e.targetURL.split("-");a.navigation_target=n[0].substring(1,n[0].length);a.action=n[1];a.isTargetTypeIntent=true}else{a.target_type=i.getText("configuration.tile_actions.table.target_type.url");a.navigation_target=e.targetURL;a.action="";a.isTargetTypeIntent=false}a.editable=t;return a};x.tileActionsRows2TileActionsArray=function(e){var t=[];for(var a=0;a<e.length;a++){if(e[a].menu_title){t.push(P(e[a]))}}return t};var P=function(e){var t={};t.text=e.menu_title;t.icon=e.icon;if(e.action){t.targetURL="#"+e.navigation_target+"-"+e.action}else{t.targetURL=e.navigation_target}return t};x.populateTileNavigationActionsBag=function(e,t){e.setProperty("tile_navigation_actions",JSON.stringify(t));for(var a=0;a<t.length;a++){var i=t[a].text;e.setText("action_tile_"+(a+1),i)}};x.getDefaultFormFactors=function(){return{appDefault:false,manual:{desktop:true,tablet:true,phone:true},defaultParam:true}};x.buildFormFactorsObject=function(e){return{appDefault:e.getProperty("/config/appFormFactor"),manual:{desktop:e.getProperty("/config/desktopChecked"),tablet:e.getProperty("/config/tabletChecked"),phone:e.getProperty("/config/phoneChecked")}}};x.tableHasDuplicateParameterNames=function(e){var t={};for(var a=0;a<e.length;a++){var i=e[a].name;if(i!==""){if(t[i]){return true}t[i]=true}}return false};x.tableHasInvalidSapPrelaunchOperationValue=function(t){for(var a=0;a<t.length;a++){if(t[a].name==="sap-prelaunch-operations"){if(e.parseAndValidateOperations(t[a].defaultValue)===null){return false}break}}return true};x.getMappingSignatureString=function(e,t){var a="";for(var i=0;i<e.length;i++){if(e[i].name){a+=D(e[i])+"&"}}return t?a+"*=*":a.substring(0,a.length-1)};var D=function(e){var t="";if(e.mandatory){if(e.isRegularExpression){t="{"+e.name+"="+encodeURIComponent(e.value)+"}"}else{t=e.name+"="+encodeURIComponent(e.value)}}else{t="["+e.name+"="+encodeURIComponent(e.defaultValue)+"]"}return t};x.getMappingSignatureTableData=function(e,t){var a=[];var i=e.split("&");for(var n=0;n<i.length;n++){var r=i[n];if(r!=="*=*"){a.push(C(i[n],t))}}return a};var C=function(e,t){var a={};if(e.charAt(0)==="["){a.mandatory=false;a.isRegularExpression=false;a.value="";e=e.substring(1,e.length-1);a.name=e.substring(0,e.indexOf("="));a.defaultValue=decodeURIComponent(e.substring(e.indexOf("=")+1))}else{a.mandatory=true;a.defaultValue="";if(e.charAt(0)==="{"){a.isRegularExpression=true;e=e.substring(1,e.length-1)}else{a.isRegularExpression=false}a.name=e.substring(0,e.indexOf("="));a.value=decodeURIComponent(e.substring(e.indexOf("=")+1))}a.editable=t;if(t){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory}else{a.valEnabled=true;a.defValEnabled=true}return a};x.getAllowUnknownParametersValue=function(e){if(e&&e.substring(e.length-3,e.length)==="*=*"){return true}return false};x.getMappingSignature=function(e,t){var a=t?"allowed":"ignored";var i=new RegExp("%%UserDefault[.].+%%");var n=[];var r={parameters:{},additional_parameters:a};e.forEach(function(e){r.parameters[e.name]={required:e.mandatory,rename_to:e.rename_to};if(e.defaultValue){n=i.exec(e.defaultValue);if(n){e.defaultValue=n[0]}r.parameters[e.name].defaultValue={value:e.defaultValue}}if(e.value){n=i.exec(e.value);if(n){e.value=n[0]}r.parameters[e.name].filter={value:e.value};if(e.isRegularExpression){r.parameters[e.name].filter.format="regexp"}}});return r};x.getSignatureTableData=function(e,t){var a=[];var i={};var n={};var r=e.parameters;for(var s in r){n=r[s];i={};i.editable=t;i.name=s;i.mandatory=n.required;if(n.rename_to){i.rename_to=n.rename_to}else{i.rename_to=n.renameTo}if(t){i.valEnabled=i.mandatory;i.defValEnabled=!i.mandatory}else{i.valEnabled=true;i.defValEnabled=true}if(n.filter){i.value=n.filter.value;if(n.filter.format&&n.filter.format==="regexp"){i.isRegularExpression=true}}if(n.defaultValue){i.defaultValue=n.defaultValue.value}a.push(i)}return a};x.getTranslatedTitle=function(e){if(e.bag){var t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_title_text")>=0){return t.getText("display_title_text")}}if(e.title){return e.title.getTitle()}if(e.preview){return e.preview.getTitle()}return""};x.getTranslatedSubtitle=function(e,t){if(e.bag){var a=e.bag.getBag("tileProperties");if(a.getTextNames().indexOf("display_subtitle_text")>=0){return a.getText("display_subtitle_text")}}if(typeof t.display_subtitle_text==="string"){return t.display_subtitle_text}if(e.preview&&e.preview.getDescription&&e.preview.getDescription()){return e.preview.getDescription()}return""};x.getTranslatedProperty=function(e,t,a){if(e.bag){var i=e.bag.getBag("tileProperties");if(i.getTextNames().indexOf(a)>=0){return i.getText(a)}}return t[a]};x.getActionConfiguration=function(e,t){var a=e.configuration.getParameterValueAsString("tileConfiguration");var i=JSON.parse(a||"{}"),n;if(typeof t==="undefined"){t=e.configurationUi.isEnabled()}if(t){n=x.getResourceBundleModel().getResourceBundle()}i.semantic_object=i.semantic_object||(t?"["+n.getText("configuration.semantic_object")+"]":"");i.semantic_action=i.semantic_action||(t?"["+n.getText("configuration.semantic_action")+"]":"");i.navigation_provider=i.navigation_provider||"";i.navigation_provider_role=i.navigation_provider_role||"";i.navigation_provider_instance=i.navigation_provider_instance||"";i.target_application_id=i.target_application_id||"";i.target_application_alias=i.target_application_alias||"";i.display_info_text=i.display_info_text||"";i.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){i.editable=false}}return i};x.getViewConfiguration=function(e){var t=e.getViewData();var a=t.chip;var i=x.getAppLauncherConfig(a,true,true);return i};x.getConfigurationUi=function(e,t){var a,r,s,l,o;var u=e.getViewData();var p=x.getViewConfiguration(e);var c=new n({config:p,tileModel:e.getModel()});return i.create({type:w.XML,viewData:u,viewName:t}).then(function(t){t.setModel(c);a=t.byId("navigation_semantic_objectInput")||t.byId("semantic_objectInput");if(a){a.getModel().setProperty("/enabled",p.navigation_use_semantic_object);a.getModel().setProperty("/value",p.semantic_object||p.navigation_semantic_object)}r=t.byId("navigation_provider_roleInput");if(r){r.getModel().setProperty("/value",p.navigation_provider_role)}s=t.byId("navigation_provider_instanceInput");if(s){s.getModel().setProperty("/value",p.navigation_provider_instance)}l=t.byId("target_application_aliasInput");if(l){l.getModel().setProperty("/value",p.target_application_alias)}o=t.byId("targetTypeInput");if(o){if(!t.getModel().getProperty("/config/transaction")){t.getModel().setProperty("/config/transaction",{})}if(!t.getModel().getProperty("/config/web_dynpro")){t.getModel().setProperty("/config/web_dynpro",{})}if(e.getModel().getProperty("/config/navigation_provider")==="LPD"){x.displayLpdCustApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WCF"){o.setSelectedKey("WCF");x.displayWCFApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="SAPUI5"||e.getModel().getProperty("/config/navigation_provider")===""){o.setSelectedKey("SAPUI5");x.displaySapui5ApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="TR"){x.displayTransactionApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WDA"){x.displayWebDynproApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URL"){x.displayURLApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URLT"){x.displayURLTApplicationTypeFields(t);c.setProperty("/config/editable",false);c.setProperty("/config/manualFormFactor",false)}}return t})};x._updateTilePropertiesTexts=function(e,t){var a=t.getTextNames(),i=e.getModel();a.forEach(function(e){i.setProperty("/data/"+e,t.getText(e));i.setProperty("/config/"+e,t.getText(e))})};x._updateTileConfiguration=function(e,t){var a=e.getModel(),i=JSON.parse(t),n;Object.keys(i).forEach(function(e){n=i[e];a.setProperty("/data/"+e,n);a.setProperty("/config/"+e,n);if(e==="navigation_target_url"){a.setProperty("/nav/"+e,n)}})};x.aData=[];x.aActionData=[];x.aRoleData=[];x.aAliasData=[];x.objectSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("name",o.Contains,a);r=new l("obj",o.Contains,a);t.push(r);t.push(n);i.filter(new l(t,false))}};x.actionSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("text",o.Contains,a);t.push(n);i.filter(new l(t,false))}};x.roleSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("role",o.Contains,a);r=new l("instance",o.Contains,a);t.push(n);t.push(r);i.filter(new l(t,false))}};x.instanceSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r,s,u;i=e.getSource().getCustomData();n=i[0].getValue();if(a!==undefined){r=e.getParameter("itemsBinding");if(a!==""){u=new l("instance",o.Contains,a);t.push(u)}if(n!==""){s=new l("role",o.EQ,n);t.push(s)}if(t.length>0){r.filter(new l(t,true))}}};x.instanceSuggest=function(e,t){var a=e.getView(),i=[],n=t.getParameter("value"),r,s,u,p,c;r=a.byId("navigation_provider_roleInput");s=r.getValue();n=t.getParameter("suggestValue");if(n!==""){c=new l("instance",o.Contains,n);i.push(c)}if(s!==""){p=new l("role",o.EQ,s);i.push(p)}if(i.length>0){u=t.oSource.getBinding("suggestionItems");u.filter(new l(i,true))}};x.aliasSuggest=function(e,t){var a=e.getView(),i=[],n=t.getParameter("value"),r,s,u,p,c;r=a.byId("navigation_provider_instanceInput");s=r.getValue();n=t.getParameter("suggestValue");if(n!==""){c=new l("alias",o.Contains,n);i.push(c)}if(s!==""){p=new l("instance",o.EQ,s);i.push(p)}if(i.length>0){u=t.oSource.getBinding("suggestionItems");u.filter(new l(i,true))}};x.aliasSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r,s,u;i=e.getSource().getCustomData();n=i[0].getValue();if(a!==undefined){r=e.getParameter("itemsBinding");s=new l("instance",o.EQ,n);if(a!==""){u=new l("alias",o.Contains,a);t.push(u)}t.push(s);r.filter(new l(t,true))}};x.objectSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("name",o.Contains,t);a.push(n);i.filter(a)}};x.actionSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("text",o.Contains,t);a.push(n);i.filter(a)}};x.roleSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("role",o.Contains,t);a.push(n);i.filter(a)}};x.instanceSelectUpdateDialog=function(e,t){var a=[],i,n=e.getBinding("items"),r,s,u;i=e.getCustomData();s=i[0].getValue();if(t!==undefined){r=new l("instance",o.Contains,t);a.push(r)}if(s!==""){u=new l("role",o.EQ,s);a.push(u)}if(a.length>0){n.filter(a,true)}};x.aliasSelectUpdateDialog=function(e,t){var a=[],i,n,r=e.getBinding("items"),s,u;i=e.getCustomData();n=i[0].getValue();if(t!==undefined){u=new l("alias",o.Contains,t);a.push(u)}if(n!==""){s=new l("instance",o.EQ,n);a.push(s)}if(a.length>0){r.filter(a,true)}};x.sSelectedColor=(I(".sapMStdTileIconDiv").css("color")||"#007cc0").split(" ").join("");x.sDeselectedColor=(I(".sapMLabel:not(.sapFioriDropZoneText )").css("color")||"#666666").split(" ").join("");x.iconSelect=function(e,t){e.setColor(t?x.sSelectedColor:x.sDeselectedColor);e.setActiveColor(t?x.sDeselectedColor:x.sSelectedColor)};x.onSelectIcon=function(e,t,a,i){var n=e.getView().getModel(),r;if(t){r=n.getProperty("/config/tile_actions_selected_icon")}else{r=n.getProperty("/config/selected_icon")}if(r){x.iconSelect(r,false)}r=i.getSource();x.iconSelect(r,true);n.setProperty("/config/ok.enabled",true);if(t){n.setProperty("/config/tile_actions_selected_icon",r)}else{n.setProperty("/config/selected_icon",r)}e.byId("selectIconDialog").setTitle(r.getSrc())};x.onSelectIconClose=function(e){e.byId("selectIconDialog").close()};x.onSelectIconOk=function(e,t){var a=e.getModel().getProperty("/config/selected_icon");if(!t){e.getModel().setProperty("/config/display_icon_url",a.getSrc());e.byId("iconInput").setValueState(h.None)}else{a=e.getModel().getProperty("/config/tile_actions_selected_icon");if(a){t.setValue(a.getSrc());t.setValueState(h.None)}}x.onSelectIconClose(e)};x.iconSelectOnValueHelpRequest=function(e,t,a){var i=e.getView().getModel();var n=e.getView().byId("icons");var r=u.getIconCollectionNames();var s=e.getView().byId("selectIconDialog");var l=e.getView().byId("ok");var o,c,g,d,_,f,b,y=false;n.destroyContent();if(a){g=sap.ui.getCore().byId(t.getParameter("id"));c=g.getValue()}else{c=i.getProperty("/config/display_icon_url")}l.attachEventOnce("press",function(){x.onSelectIconOk(e.getView(),g)});r.sort();r=I.grep(r,function(e){if(e==="BusinessSuiteInAppSymbols"){y=true;return false}return true});if(y){r.push("BusinessSuiteInAppSymbols")}for(_=0;_<r.length;_+=1){d=u.getIconNames(r[_]);d.sort();for(f=0;f<d.length;f+=1){b=u.getIconURI(d[f],r[_]);n.addContent(new p({height:"38px",press:x.onSelectIcon.bind(null,e,a,g),size:"2rem",src:b,tooltip:b,width:"38px"}))}}o=n.getContent();i.setProperty("/config/ok.enabled",false);s.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(_=0;_<o.length;_+=1){if(o[_].getSrc()===c){if(a){i.setProperty("/config/tile_actions_selected_icon",o[_])}else{i.setProperty("/config/selected_icon",o[_])}x.iconSelect(o[_],true);i.setProperty("/config/ok.enabled",true);s.setTitle(c)}else{x.iconSelect(o[_],false)}}s.open()};x.objectSelectOnValueHelpRequest=function(e,t,a){var i=e.getView();var r=x.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_object");var s;var l;var o=new n;var u=new c("semantic_object_select_dialog",{title:r,search:x.objectSelectDoSearch,liveChange:x.objectSelectDoSearch}),p=new g({title:"{obj}"});if(a){s=sap.ui.getCore().byId(t.getParameter("id"))}else{s=i.byId("semantic_objectInput")||i.byId("navigation_semantic_objectInput")}l=s.getValue();u.open(l);o.setData(e.aDefaultObjects.concat(x.aData));u.bindAggregation("items","/",p);u.setModel(o);x.objectSelectUpdateDialog(u,l);u.attachCancel(function(e){s.setValue(l);if(!a){s.fireChange()}u.destroy();u=null});u.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){s.setValue(t.getTitle());if(!a){s.fireChange()}}u.destroy();u=null})};x.actionSelectOnValueHelpRequest=function(e,t,a){var i=e.getView();var r=x.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_action");var s;var l;var o=new n;var u=new c("semantic_action_select_dialog",{title:r,search:x.actionSelectDoSearch,liveChange:x.actionSelectDoSearch}),p=new g({title:"{text}"});if(a){s=sap.ui.getCore().byId(t.getParameter("id"))}else{s=i.byId("semantic_actionInput")||i.byId("navigation_semantic_actionInput")}l=s.getValue();u.open(l);o.setData(x.aActionData);u.bindAggregation("items","/items",p);u.setModel(o);x.actionSelectUpdateDialog(u,l);u.attachCancel(function(e){s.setValue(l);if(!a){s.fireChange()}u.destroy();u=null});u.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){s.setValue(t.getTitle());if(!a){s.fireChange();s.fireLiveChange({newValue:t.getTitle()})}}u.destroy();u=null})};x.roleSelectOnValueHelpRequest=function(e){var t=e.getView(),a=x.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role"),i,r,s,l=new n,o=new sap.m.TableSelectDialog("role_select_dialog",{title:a,search:x.roleSelectDoSearch,liveChange:x.roleSelectDoSearch,columns:[new sap.m.Column({header:[new d({text:x.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role")})]}),new sap.m.Column({header:[new d({text:x.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance")})]})]}),u=new sap.m.ColumnListItem({cells:[new d({text:"{role}"}),new d({text:"{instance}"})]});i=t.byId("navigation_provider_roleInput");r=t.byId("navigation_provider_instanceInput");s=i.getValue();o.open(s);l.setData(e.aDefaultObjects.concat(x.aRoleData));o.bindAggregation("items","/",u);o.setModel(l);x.roleSelectUpdateDialog(o,s);o.attachCancel(function(e){i.setValue(s);i.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){i.setValue(t.getCells()[0].getText());r.setValue(t.getCells()[1].getText());i.fireChange();r.fireChange()}o.destroy();o=null})};x.instanceSelectOnValueHelpRequest=function(e){var t=e.getView();var a;var i=x.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance");var r;var s;var l=new n;var o=new c("instance_select_dialog",{title:i,search:x.instanceSelectDoSearch,liveChange:x.instanceSelectDoSearch}),u=new g({title:"{instance}"});r=t.byId("navigation_provider_instanceInput");s=r.getValue();a=t.byId("navigation_provider_roleInput").getValue();o.addCustomData(new _({key:"role",value:a}));o.open(s);l.setData(e.aDefaultObjects.concat(x.aRoleData));o.bindAggregation("items","/",u);o.setModel(l);x.instanceSelectUpdateDialog(o,s);o.attachCancel(function(e){r.setValue(s);r.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){r.setValue(t.getTitle());r.fireChange()}o.destroy();o=null})};x.applicationAliasSelectOnValueHelpRequest=function(e){var t=e.getView();var a=x.getResourceBundleModel().getResourceBundle().getText("configuration.target_application_alias");var i;var r;var s;var l=new n;var o=new c("alias_select_dialog",{title:a,search:x.aliasSelectDoSearch,liveChange:x.aliasSelectDoSearch}),u=new g({title:"{alias}"});i=t.byId("target_application_aliasInput");r=i.getValue();s=t.byId("navigation_provider_instanceInput").getValue();o.addCustomData(new _({key:"instance",value:s}));o.open(r);l.setData(e.aDefaultObjects.concat(x.aAliasData));o.bindAggregation("items","/",u);o.setModel(l);x.aliasSelectUpdateDialog(o,r);o.attachCancel(function(e){i.setValue(r);i.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){i.setValue(t.getTitle());i.fireChange()}o.destroy();o=null})};x.onTargetTypeChange=function(e){var t=e.getParameter("id");var a=sap.ui.getCore().byId(t).getParent().getCells();var i=e.getSource().getSelectedKey();if(i==="INT"){a[3].setEnabled(true);a[2].setShowValueHelp(true);a[2].setValue("")}else{a[2].setShowValueHelp(false);a[2].setValue("");a[3].setEnabled(false);a[3].setValue("")}};x.addTileActionsRow=function(e){var t=e.getModel();var a=t.getProperty("/config/tile_actions_rows");var i=this.getEmptyTileActionsRowObj();a.push(i);t.setProperty("/config/tile_actions_rows",a)};x.deleteTileActionsRow=function(e){var t=e.getModel();var a=t.getProperty("/config/tile_actions_rows");var i=e.byId("tileActions");var n=i.getSelectedIndices();var r=n.sort(function(e,t){return t-e}).slice();for(var s=0;s<r.length;s++){i.removeSelectionInterval(r[s],r[s]);a.splice(r[s],1)}t.setProperty("/config/tile_actions_rows",a)};x.checkInput=function(e,t){var a=x.getResourceBundleModel().getResourceBundle(),i=e.byId("iconInput"),n=e.byId("useLpdCheckbox"),r=e.byId("navigation_semantic_objectInput")||e.byId("semantic_objectInput"),s=e.byId("navigation_semantic_actionInput")||e.byId("semantic_actionInput"),l=h.None,o=null,u=I.trim(t.getParameter("newValue"));switch(t.getSource()){case i:if(u!==""&&u.substring(0,11)!=="sap-icon://"){l=h.Error;o=a.getText("configuration.display_icon_url.warning")}break;case n:if(!n.getSelected()){s.setValueState(h.None);r.setValueState(h.None)}break;case r:if(/[-#&? ]/.test(u)){l=h.Error;o=a.getText("configuration.semantic_object.error_invalid_chars")}else if(u===""){l=h.Error}break;case s:if(/[-#&? ]/.test(u)){l=h.Error;o=a.getText("configuration.semantic_action.error_invalid_chars")}else if(u===""){l=h.Error}break;default:break}if(l){t.getSource().setValueState(l);if(o!==null){t.getSource().setValueStateText(o||"")}}};x.checkInputOnSaveConfig=function(e){var t=e.byId("iconInput");var a=e.byId("navigation_semantic_objectInput");var i=e.byId("navigation_semantic_actionInput");var n=e.byId("useLpdCheckbox");var r=x.getResourceBundleModel().getResourceBundle();var s=false;if(t.getValue()!==""&&!x.isIconURIValid(t.getValue())){t.setValueState(h.Error);t.setValueStateText(r.getText("configuration.display_icon_url.warning"));s=true}if(n.getSelected()&&/[-#&? ]/.test(a.getValue())){a.setValueState(h.Error);a.setValueStateText(r.getText("configuration.semantic_object.error_invalid_chars"));s=true}else if(n.getSelected()&&a.getValue()===""){a.setValueState(h.Error);s=true}if(/[-#&? ]/.test(i.getValue())){i.setValueState(h.Error);i.setValueStateText(r.getText("configuration.semantic_action.error_invalid_chars"));s=true}else if(n.getSelected()&&i.getValue()===""){i.setValueState(h.Error);s=true}return s};x.checkTileActions=function(e){var t=e.getModel().getProperty("/config/tile_actions_rows");var a=x.getResourceBundleModel().getResourceBundle();var i=false;for(var n=0;n<t.length;n++){if(!t[n].menu_title&&(t[n].navigation_target||t.length>1)){t[n].valueState=h.Error;i=true}else{t[n].valueState=h.None}if(t[n].icon){if(!x.isIconURIValid(t[n].icon)){t[n].iconValueState=h.Error;t[n].iconValueStateText=a.getText("configuration.display_icon_url.warning");i=true}}}e.getModel().setProperty("/config/tile_actions_rows",t);return i};x.isIconURIValid=function(e){var t=[];var a="";var i="";var n="";t=/sap-icon:\/\/(.+)\//.exec(e);if(t){a=t[1];t=/\/\/.+\/(.+)/.exec(e);if(t){i=t[1]}else{i=""}n=u.getIconURI(i,a);if(n!==e){return false}}else{t=/sap-icon:\/\/(.+)/.exec(e);if(t){i=t[1];if(!u.getIconInfo(i)){return false}}else{return false}}return true};x.checkTMInput=function(e,t){var a=x.getResourceBundleModel().getResourceBundle(),i=e.byId("semantic_objectInput"),n=e.byId("semantic_actionInput"),r=e.byId("target_application_descriptionInput"),s=e.byId("target_application_urlInput"),l=e.byId("target_application_componentInput"),o=e.byId("navigation_provider_roleInput"),u=e.byId("navigation_provider_instanceInput"),p=e.byId("target_application_aliasInput"),c=e.byId("target_application_idInput"),g=I.trim(t.getParameter("newValue")),d=h.None,_=null;switch(t.getSource()){case i:if(/[-#&? ]/.test(g)){d=h.Error;_=a.getText("configuration.semantic_object.error_invalid_chars")}if(n.getValue()===""){n.setValueState(h.Error)}break;case n:if(/[-#&? ]/.test(g)){d=h.Error;_=a.getText("configuration.semantic_action.error_invalid_chars")}else if(g===""){d=h.Error}break;case r:if(g===""){d=h.Error}break;case s:if(g!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(g)){d=h.Error;_=a.getText("configuration.target_application.url.error_invalid_chars")}break;case l:if(g===""){d=h.Error}else if(g.substring(0,17)==="SAPUI5.Component="){d=h.Error;_=a.getText("configuration.target_application.component.error_invalid_input")}break;case o:if(g===""){d=h.Error}else if(!/^[\w/]+$/.test(g)){d=h.Error;_=a.getText("configuration.target_application.role.error_invalid_chars")}break;case u:if(g===""){d=h.Error}else if(!/^[\w/]+$/.test(g)){d=h.Error;_=a.getText("configuration.target_application.instance.error_invalid_chars")}break;case p:if(g===""&&c.getValue()===""){d=h.Error;_=a.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&c.getValue()!==""){d=h.Error;_=a.getText("configuration.target_application.alias_id.warning");c.setValueState(d);c.setValueStateText(_)}else{c.setValueState(h.None)}break;case c:if(g===""&&p.getValue()===""){d=h.Error;_=a.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&p.getValue()!==""){d=h.Error;_=a.getText("configuration.target_application.alias_id.warning");p.setValueState(d);p.setValueStateText(_)}else if(g!==""&&!/^[A-Fa-f0-9]+$/.test(g)){d=h.Error;_=a.getText("configuration.target_application.alias_id.error_invalid_chars")}else{p.setValueState(h.None)}break;default:break}if(d){t.getSource().setValueState(d);if(_!==null){t.getSource().setValueStateText(_||"")}}};x.checkTMInputOnSaveConfig=function(e){var t=x.getResourceBundleModel().getResourceBundle();var a=e.byId("semantic_objectInput");var i=e.byId("semantic_actionInput");var n=e.byId("target_application_descriptionInput");var r=e.byId("target_application_urlInput");var s=e.byId("target_application_componentInput");var l=e.byId("navigation_provider_roleInput");var o=e.byId("navigation_provider_instanceInput");var u=e.byId("target_application_aliasInput");var p=e.byId("target_application_idInput");var c=e.byId("targetTypeInput");var g=e.byId("target_transactionInput");var d=e.byId("target_web_dynpro_applicationInput");var _=e.byId("target_wcf_application_idInput");var f=e.byId("desktopCB");var b=e.byId("tabletCB");var y=e.byId("phoneCB");var I=false;a.setValue(a.getValue().trim());if(/[-#&? ]/.test(a.getValue())){a.setValueState(h.Error);a.setValueStateText(t.getText("configuration.semantic_object.error_invalid_chars"));I=true}i.setValue(i.getValue().trim());if(/[-#&? ]/.test(i.getValue())){i.setValueState(h.Error);i.setValueStateText(t.getText("configuration.semantic_action.error_invalid_chars"));I=true}else if(i.getValue()===""){i.setValueState(h.Error);I=true}var v=e.getModel().getProperty("/config/navigation_provider"),m;if(v==="SAPUI5"){if(n.getValue()===""){n.setValueState(h.Error);I=true}if(r.getValue()!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(r.getValue())){r.setValueState(h.Error);r.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}if(s.getValue()===""){s.setValueState(h.Error);I=true}else if(s.getValue().substring(0,17)==="SAPUI5.Component="){s.setValueState(h.Error);s.setValueStateText(t.getText("configuration.target_application.component.error_invalid_input"));I=true}}else if(v==="LPD"){if(l.getValue()===""){l.setValueState(h.Error);I=true}if(!/^[\w]+$/.test(l.getValue())){l.setValueState(h.Error);m=t.getText("configuration.target_application.role.error_invalid_chars");l.setValueStateText(m);I=true}if(o.getValue()===""){o.setValueState(h.Error);I=true}if(!/^[\w]+$/.test(o.getValue())){o.setValueState(h.Error);m=t.getText("configuration.target_application.instance.error_invalid_chars");o.setValueStateText(m);I=true}if(u.getValue()===""&&p.getValue()===""){m=t.getText("configuration.target_application.alias_id.warning");u.setValueState(h.Error);u.setValueStateText(m);p.setValueState(h.Error);p.setValueStateText(m);I=true}if(u.getValue()!==""&&p.getValue()!==""){m=t.getText("configuration.target_application.alias_id.warning");u.setValueState(h.Error);u.setValueStateText(m);p.setValueState(h.Error);p.setValueStateText(m);I=true}if(p.getValue()!==""&&!/^[A-Fa-f0-9]+$/.test(p.getValue())){p.setValueState(h.Error);p.setValueStateText(t.getText("configuration.target_application.alias_id.error_invalid_chars"));I=true}}else if(v==="TR"){if(g.getValue()===""){g.setValueState(h.Error);I=true}}else if(v==="WDA"){if(d.getValue()===""){d.setValueState(h.Error);I=true}}else if(v==="WCF"){if(_.getValue()===""){_.setValueState(h.Error);I=true}}else if(v==="URL"){if(r.getValue()===""){r.setValueState(h.Error);I=true}else if(!/^[-~+,;:?%&#=/.\w]+$/.test(r.getValue())){r.setValueState(h.Error);r.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}}else{c.setValueState(h.Error);c.setValueStateText(t.getText("configuration.navigation_provider.error_invalid_provider"));I=true}if(!f.getSelected()&&!b.getSelected()&&!y.getSelected()){m=t.getText("configuration.form_factor.warning");f.setValueState(h.Error);f.setValueStateText(m);b.setValueState(h.Error);b.setValueStateText(m);y.setValueState(h.Error);y.setValueStateText(m);I=true}return I};x.updateTooltipForDisabledProperties=function(e){var t=e.getModel();var a=t.getProperty("/config/isLocaleSuitable");if(!a){var i=x.getResourceBundleModel().getResourceBundle();var n=i.getText("edit_configuration.original_locale_not_fit_tooltip",[t.getProperty("/config/userLocale"),t.getProperty("/config/orgLocale")]);e.byId("titleInput").setTooltip(n);e.byId("subtitleInput").setTooltip(n);e.byId("keywordsInput").setTooltip(n);e.byId("infoInput").setTooltip(n)}};x.updateMessageStripForOriginalLanguage=function(e){var t=e.getModel();if(t.getProperty("/config/isLocaleSuitable")===false){var a=x.getResourceBundleModel().getResourceBundle().getText("edit_configuration.original_locale_not_fit_message",[t.getProperty("/config/orgLocale").toUpperCase(),t.getProperty("/config/userLocale").toUpperCase()]);var i=e.byId("messageStrip");i.setVisible(true);i.setText(a);i.setType(V.Warning)}};x.createSemanticObjectModel=function(e,t,i){var r=e.getView(),s="/sap/opu/odata/UI2/INTEROP/SemanticObjects",l=[{obj:"",name:""},{obj:"*",name:"*"}],o=(i||l).slice(0),u=new n;u.setSizeLimit(999999);u.setProperty("/value","");u.setProperty("/enabled",true);t.bindAggregation("suggestionItems","suggest>/items",new f({text:"{suggest>obj}"}));t.setModel(u,"suggest");if(x.aData.length>0){setTimeout(function(){u.setData({items:o.concat(x.aData)},true)},0);return}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i;for(i=0;i<e.results.length;i=i+1){t=e.results[i].id;a=e.results[i].text;x.aData.push({obj:t,name:a||t})}u.setData({items:o.concat(x.aData)},true)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}v.error("Could not fetch data: "+s+": "+t,null,r.getViewName()||"sap.ushell.components.tiles.utils")})};x.createRoleModel=function(e,t,i){var r=e.getView(),s="/sap/opu/odata/UI2/INTEROP/GetLPDInstances",l=new n,o=new n;l.setSizeLimit(999999);o.setSizeLimit(999999);l.setProperty("/value","");l.setProperty("/enabled",true);o.setProperty("/value","");o.setProperty("/enabled",true);var u=new sap.m.ColumnListItem({cells:[new b({text:"{role}"}),new b({text:"{instance}"})]});t.bindAggregation("suggestionRows","/items",u);i.bindAggregation("suggestionItems","/items",new f({text:"{instance}"}));i.setModel(o);t.setModel(l);t.attachSuggestionItemSelected(function(e){i.setValue(e.getParameter("selectedRow").getCells()[1].getText());i.fireChange()});if(x.aRoleData.length>0){l.setData({items:x.aRoleData},false);o.setData({items:x.aRoleData},false);return}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i;for(i=0;i<e.results.length;i=i+1){t=e.results[i].lpdRole;a=e.results[i].instance;x.aRoleData.push({role:t,instance:a})}l.setData({items:x.aRoleData},true);o.setData({items:x.aRoleData},true)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}v.error("Could not fetch data: "+s+": "+t,null,r.getViewName()||"sap.ushell.components.tiles.utils")})};x.createAliasModel=function(e,t){var i=e.getView(),r,s="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias",l=new n;l.setSizeLimit(999999);l.setProperty("/value","");l.setProperty("/enabled",true);t.bindAggregation("suggestionItems","/items",new f({text:"{alias}"}));t.setModel(l);r=x.getAppLauncherConfig(i.oViewData.chip,true,true);if(r&&r.navigation_provider_role&&r.navigation_provider_instance){if(r.navigation_provider_role!==""&&r.navigation_provider_instance!==""){s=s+"?role='"+r.navigation_provider_role+"'&instance='"+r.navigation_provider_instance+"'"}}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i,n,r;x.aAliasData=[];for(n=0;n<e.results.length;n=n+1){t=e.results[n].lpdApplicationAlias;a=e.results[n].lpdRole;i=e.results[n].lpdInstance;x.aAliasData.push({role:a,instance:i,alias:t})}r=l.getData();if(r){r.items=x.aAliasData}else{r={items:x.aAliasData}}l.setData(r,false)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}v.error("Could not fetch data: "+s+": "+t,null,i.getViewName()||"sap.ushell.components.tiles.utils")})};x.updateAliasModel=function(e,t){var i,n,r,s=t.getModel();n=e.byId("navigation_provider_instanceInput").getValue();r=e.byId("navigation_provider_roleInput").getValue();i="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='"+r+"'&instance='"+n+"'";a.read({requestUri:i,headers:{Accept:"application/json"}},function(e){var t,a,i,n,r;x.aAliasData=[];for(n=0;n<e.results.length;n=n+1){t=e.results[n].lpdApplicationAlias;a=e.results[n].lpdRole;i=e.results[n].lpdInstance;x.aAliasData.push({role:a,instance:i,alias:t})}r=s.getData();if(r){r.items=x.aAliasData}else{r={items:x.aAliasData}}s.setData(r,false)},function(t){var a=t&&t.message?t.message:t;if(t.response){a+=" - "+t.response.statusCode+" "+t.response.statusText}v.error("Could not fetch data: "+i+": "+a,null,e.getViewName()||"sap.ushell.components.tiles.utils")})};x.createActionModel=function(e,t){var a=new n;var i=e.getView(),r,s;a.setData({items:[{text:"display"},{text:"approve"},{text:"displayFactSheet"},{text:"manage"},{text:"create"},{text:"monitor"},{text:"track"},{text:"change"},{text:"register"},{text:"release"},{text:"analyzeKPIDetails"},{text:"lookup"},{text:"manageLineItems"}]});x.aActionData=a.getData();r=x.getAppLauncherConfig(i.oViewData.chip,true,true);s=r.navigation_semantic_action||r.semantic_action;if(s){if(!a.getData().items.some(function(e){return e.text===s})){a.getData().items.push({text:s})}}t.bindAggregation("suggestionItems","items>/items",new f({text:"{items>text}"}));t.setModel(a,"items");t.getBinding("suggestionItems").sort(new y("text",false))};x.createNavigationProviderModel=function(e,t){var a=new n;var i=x.getResourceBundleModel().getResourceBundle();var r=[{key:"SAPUI5",text:i.getText("configuration.target_application.sapui5")},{key:"LPD",text:i.getText("configuration.target_application.lpd_cust")},{key:"TR",text:i.getText("configuration.target_application.transaction")},{key:"WDA",text:i.getText("configuration.target_application.web_dynpro")},{key:"URL",text:i.getText("configuration.target_application.url")}];var s=x.getViewConfiguration(e.getView()).navigation_provider;if(s==="WCF"){r.push({key:"WCF",text:i.getText("configuration.target_application.wcf")})}else if(s==="URLT"){r.push({key:"URLT",text:i.getText("configuration.target_application.urlt")})}a.setData({items:r});t.bindItems("items>/items",new f({key:"{items>key}",text:"{items>text}"}));t.setModel(a,"items");t.getBinding("items").sort(new y("text",false))};x.displayApplicationTypeFields=function(e,t){switch(e){case"LPD":x.displayLpdCustApplicationTypeFields(t);break;case"SAPUI5":x.displaySapui5ApplicationTypeFields(t);break;case"TR":x.displayTransactionApplicationTypeFields(t);break;case"WDA":x.displayWebDynproApplicationTypeFields(t);break;case"URL":x.displayURLApplicationTypeFields(t);break;case"WCF":x.displayWCFApplicationTypeFields(t);break;case"URLT":x.displayURLTApplicationTypeFields(t);break}};x.displayWCFApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(true);e.byId("target_wcf_application_idInput").setVisible(true);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};x.displaySapui5ApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(true);e.byId("target_application_componentInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};x.displayLpdCustApplicationTypeFields=function(e){e.byId("application_description").setVisible(false);e.byId("target_application_descriptionInput").setVisible(false);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(true);e.byId("navigation_provider_roleInput").setVisible(true);e.byId("navigation_provider_instance").setVisible(true);e.byId("navigation_provider_instanceInput").setVisible(true);e.byId("target_application_alias").setVisible(true);e.byId("target_application_aliasInput").setVisible(true);e.byId("target_application_id").setVisible(true);e.byId("target_application_idInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(true)};x.displayTransactionApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(true);e.byId("target_transactionInput").setVisible(true);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};x.displayWebDynproApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(true);e.byId("target_web_dynpro_applicationInput").setVisible(true);e.byId("target_web_dynpro_configuration").setVisible(true);e.byId("target_web_dynpro_configurationInput").setVisible(true);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};x.displayURLApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};x.displayURLTApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(true);e.byId("urlt_application_componentInput").setVisible(true);e.byId("target_urlt_system_alias").setVisible(true);e.byId("target_urlt_system_aliasInput").setVisible(true);e.byId("application_type_deprecated").setVisible(false)};x.getAppLauncherConfig=function(e,t,a){var i;var n=e.configuration.getParameterValueAsString("tileConfiguration");var r;try{r=JSON.parse(n||"{}")}catch(e){v.error("Error while trying to parse tile configuration",e,"sap.ushell.components.tiles.utils");return{}}r.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){r.editable=false}}var s=x.getTranslatedTitle(e);var l=x.getTranslatedSubtitle(e,r);var o=x.getTranslatedProperty(e,r,"display_info_text");var u=x.getTranslatedProperty(e,r,"display_search_keywords");if(t){i=x.getResourceBundleModel().getResourceBundle();if(a&&e.bag){var p=e.bag.getOriginalLanguage();var c=sap.ui.getCore().getConfiguration().getLocale().getSAPLogonLanguage();var g=sap.ui.getCore().getConfiguration().getLanguage();r.isLocaleSuitable=p===""||p.toLowerCase()===c.toLowerCase()||p.toLowerCase()===g.toLowerCase();r.orgLocale=p;r.userLocale=c}}r.display_icon_url=r.display_icon_url||"";if(o!==undefined){r.display_info_text=o}else if(r.display_info_text===undefined){if(t&&!a){r.display_info_text="["+i.getText("configuration.display_info_text")+"]"}else{r.display_info_text=""}}r.navigation_semantic_object=r.navigation_semantic_object||"";r.navigation_semantic_action=r.navigation_semantic_action||"";r.navigation_semantic_parameters=r.navigation_semantic_parameters||"";r.display_number_unit=r.display_number_unit||"";r.display_number_factor=r.display_number_factor||"";r.service_refresh_interval=r.service_refresh_interval?parseInt(r.service_refresh_interval,10):0;r.service_url=r.service_url||"";r.navigation_target_url=r.navigation_target_url||"";if(t&&x.isInitial(s)){r.display_title_text=a?"":"["+i.getText("configuration.display_title_text")+"]";r.display_subtitle_text=a?"":"["+i.getText("configuration.display_subtitle_text")+"]"}else{r.display_title_text=s||r.display_title_text||"";if(l!==undefined){r.display_subtitle_text=l}else if(r.display_subtitle_text===undefined){r.display_subtitle_text=""}}r.navigation_use_semantic_object=r.navigation_use_semantic_object!==false;r.display_search_keywords=u||r.display_search_keywords||"";if(t){r.display_number_value=r.display_number_value||1234}r.form_factors=r.form_factors?r.form_factors:x.getDefaultFormFactors();r.desktopChecked=r.form_factors.manual.desktop;r.tabletChecked=r.form_factors.manual.tablet;r.phoneChecked=r.form_factors.manual.phone;r.manualFormFactor=!r.form_factors.appDefault&&r.editable;r.appFormFactor=r.form_factors.appDefault;r.formFactorConfigDefault=!!r.form_factors.defaultParam;if(r.signature){r.rows=x.getSignatureTableData(r.signature,a&&r.editable)}else{r.rows=r.mapping_signature&&r.mapping_signature!=="*=*"?x.getMappingSignatureTableData(r.mapping_signature,a&&r.editable):[x.getEmptyRowObj(r.editable)]}if(r.signature){r.isUnknownAllowed=r.signature.additional_parameters==="allowed"||r.signature.additionalParameters==="allowed"}else{r.isUnknownAllowed=r.mapping_signature!==undefined?x.getAllowUnknownParametersValue(r.mapping_signature):true}if(t){r.tile_actions_rows=x.getTileNavigationActionsRows(e,r.editable)}else if(!r.actions){r.actions=x.getTileNavigationActions(e)}if(t){var d=e.bag.getBag("deprecationProperties"),_=d.getProperty("deprecation"),f=null;if(_){f=i.getText(_==="D"?"configuration.app_deprecated":"configuration.app_archived",[d.getProperty("successor")])}r.deprecation_text=f}return r};x.getDataToDisplay=function(e,t){var a=0,i,n,r,s,l={display_icon_url:t.icon||e.display_icon_url||"",display_title_text:t.title||e.display_title_text||"",display_number_value:!isNaN(t.number)?t.number:"...",display_number_unit:t.numberUnit||e.display_number_unit||"",display_info_text:t.info||e.display_info_text||"",display_info_state:t.infoState||"Neutral",display_subtitle_text:t.subtitle||e.display_subtitle_text||"",display_state_arrow:t.stateArrow||"None",display_number_state:t.numberState||"None",display_number_digits:t.numberDigits>=0?t.numberDigits:4,display_number_factor:t.numberFactor||"",display_search_keyword:t.keywords||e.display_search_keyword||"",targetParams:[]};if(t.infoStatus){l.display_info_state=t.infoStatus}if(t.targetParams){l.targetParams.push(t.targetParams)}if(t.results){for(i=0,n=t.results.length;i<n;i=i+1){r=t.results[i].number||0;if(typeof r==="string"){r=parseFloat(r)}a=a+r;s=t.results[i].targetParams;if(s){l.targetParams.push(s)}}l.display_number_value=a}if(!isNaN(t.number)){if(typeof t.number==="string"){t.number=t.number.trim()}if(t.number===""){l.display_number_value="..."}else{var o=this._shouldProcessDigits(t.number,t.numberDigits),u=l.display_icon_url?4:5;if(t.number&&t.number.toString().length>=u||o){var p=this._normalizeNumber(t.number,u,t.numberFactor,t.numberDigits);l.display_number_factor=p.numberFactor;l.display_number_value=p.displayNumber}else{var c=m.getFloatInstance({maxFractionDigits:u});l.display_number_value=c.format(t.number)}}}if(l&&l.display_number_state){switch(l.display_number_state){case"Positive":l.display_number_state="Good";break;case"Negative":l.display_number_state="Error";break}}return l};x._normalizeNumber=function(e,t,a,i){var n;if(isNaN(e)){n=e}else{var r=m.getFloatInstance({maxFractionDigits:i});if(!a){var s=Math.abs(e);if(s>=1e9){a="B";e/=1e9}else if(s>=1e6){a="M";e/=1e6}else if(s>=1e3){a="K";e/=1e3}}n=r.format(e)}var l=n;var o=l[t-1];t-=o==="."||o===","?1:0;l=l.substring(0,t);return{displayNumber:l,numberFactor:a}};x._shouldProcessDigits=function(e,t){var a;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){a=e.split(".")[1].length;if(a>t){return true}}return false};x.getTileSettingsAction=function(e,t,a){var i=x.getResourceBundleModel().getResourceBundle();var r=!a||a==="tile"?"tileSettingsBtn":"linkSettingsBtn";return{id:r,text:i.getText(r),press:function(){return new Promise(function(r){sap.ui.require(["sap/m/Button","sap/m/Dialog","sap/ui/core/mvc/View","sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout"],function(s,l,o,u,p){var c={showGroupSelection:false,title:e.getProperty("/config/display_title_text"),subtitle:e.getProperty("/config/display_subtitle_text")};if(!a||a==="tile"){c.info=e.getProperty("/config/display_info_text");c.icon=e.getProperty("/config/display_icon_url");c.keywords=e.getProperty("/config/display_search_keywords")}else if(a==="link"){c.showInfo=false;c.showIcon=false;c.showPreview=false}o.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view"}).then(function(e){var o=new n(c);e.setModel(o);var g=new u({id:"tileSettings",layout:p.GridLayout,content:[e]}).addStyleClass("sapUshellAddBookmarkForm");var d=new s("bookmarkOkBtn",{text:i.getText("okBtn"),type:S.Emphasized,press:function(){t(e);b.close()},enabled:true});var _=new s("bookmarkCancelBtn",{text:i.getText("cancelBtn"),press:function(){b.close()}});var f=function(e){d.setEnabled(!!e.trim())};e.getTitleInput().attachLiveChange(function(){f(this.getValue())});var b=new l({id:"settingsDialog",title:!a||a==="tile"?i.getText("tileSettingsDialogTitle"):i.getText("linkSettingsDialogTitle"),contentWidth:"400px",content:g,beginButton:d,endButton:_,horizontalScrolling:false,afterClose:function(){b.destroy()}}).addStyleClass("sapContrastPlus");b.open();r(b)})})})}}};x.getSemanticNavigationUrl=function(e){var t="#"+I.trim(e.navigation_semantic_object);t+="-"+I.trim(e.navigation_semantic_action);if(e.navigation_semantic_parameters&&I.trim(e.navigation_semantic_parameters).length>0){t+="?"+I.trim(e.navigation_semantic_parameters)}return t};x.addParamsToUrl=function(e,t){var a="",i=e.indexOf("?")!==-1,n=t.targetParams,r;if(n&&n.length>0){for(r=0;r<n.length;r=r+1){a+=n[r];if(r<n.length-1){a+="&"}}}if(a.length>0){if(!i){e+="?"}else{e+="&"}e+=a}return e};return x},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/override",["sap/m/GroupHeaderListItem","sap/ui/base/ManagedObject","sap/base/util/uid","sap/base/util/each"],function(t,e,i,n){"use strict";var r={};r.updateAggregation=function(t){if(this.isTreeBinding(t)){e.prototype.updateAggregation.apply(this,arguments)}else{var n=this.mBindingInfos[t],s=n.binding,o=s.getContexts(),a=n.factory,g=this.getMetadata().getJSONKeys()[t],u=g._sMutator+"Group",d=s.isGrouped()&&this[u],p=[],l=function(t){var e=this.getId()+"-"+i(),r=a(e,t);if(r.isA("sap.ui.integration.widgets.Card")){r.setBindingContext(t,"ushellCardModel")}else{r.setBindingContext(t,n.model)}this[g._sMutator](r)}.bind(this);if(d){e.prototype.updateAggregation.apply(this,arguments)}else{p=this[g._sGetter]();r._adaptCurrentGroup(o,p);r._updateCurrentGroup(o,p,n.model,l);p.length=o.length}}};r._adaptCurrentGroup=function(t,e){var i,n,r;for(i=0;i<t.length;i++){n=!!(e[i]&&e[i].isA("sap.ui.integration.widgets.Card"));r=!!t[i].getProperty(t[i].sPath+"/isCard");if(n||r){var s=i;for(;s<e.length;s++){e[s].destroy()}break}}};r._updateCurrentGroup=function(t,e,i,n){var r;for(r=0;r<t.length;r++){if(r<e.length&&!e[r].bIsDestroyed){e[r].setBindingContext(t[r],i)}else{n(t[r])}}for(;r<e.length;++r){e[r].destroy()}};r.updateAggregationGrouped=function(e){var i=this.mBindingInfos[e],r=i.binding,s=i.factory,o,a=null,g=null,u=null,d=this,p=d.getItems(),l=0,f=0,h,c,y=[];g=r.isGrouped()&&this.addItemGroup;n(r.getContexts(),function(e,m){if(g&&r.aSorters.length>0){a=r.aSorters[0].fnGroup(m);if(typeof a==="string"){a={key:a}}if(a.key!==u){var C,I;if(i.groupHeaderFactory){C=i.groupHeaderFactory(a)}I=C||new t({title:a.text||a.key}).addStyleClass("sapMListHdr");d.insertAggregation("items",I,f,true);f=f+1;u=a.key}}p=d.getItems();for(h=f;h<p.length;h=h+1){if(p[h].constructor===t){y.push(d.removeItem(p[h]));p=d.getItems()}}if(f<p.length){p[f].setBindingContext(m,i.model);if(p[f].aDelegates){n(p[f].aDelegates,function(t,e){e.vThis=m})}}else{c=d.getId()+"-"+f;o=s(c,m);o.setBindingContext(m,i.model);d.addItem(o)}f=f+1;l=f});for(h=p.length-1;h>=l;h=h-1){y.push(d.removeItem(p[h]))}setTimeout(function(){n(y,function(t,e){e.destroy()})},1)};r.updateAggregatesFactory=function(t){return function(){r.updateAggregation.bind(this)(t)}};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/FesrEnhancer",["sap/base/Log","sap/base/util/deepExtend","sap/ui/performance/trace/FESR","sap/ushell/performance/ShellAnalytics"],function(e,t,r,n){"use strict";var a={HOME_INITIAL:"FLP@LOAD",HOME_LOADING:"FLP@DURING_LOAD",FINDER_INITIAL:"FLP@LOAD_FINDER",APP_INITIAL:"FLP@DEEP_LINK",NAVIGATION:"NAVIGATION",CUSTOM_HOME_INITIAL:"FLPCUSTOMHOME"};var i={APP_START:1,STEP_IN_APP:2,UNKNOWN:3};var s={_fnOriginalOnBeforeCreated:null,_lastTrackedRecord:null,init:function(){if(r.getActive()){n.enable();this._fnOriginalOnBeforeCreated=r.onBeforeCreated;r.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},reset:function(){r.onBeforeCreated=this._fnOriginalOnBeforeCreated;n.disable();this._setLastTrackedRecord(null)},_getPerformanceEntries:function(e){return performance.getEntriesByName(e)},_getLastTrackedApplicationId:function(){var e=n.getCurrentApplication();if(e){return e.id}return null},_getLastTrackedRecord:function(){return this._lastTrackedRecord},_setLastTrackedRecord:function(e){this._lastTrackedRecord=e},_onBeforeCreatedHandler:function(t,r){var n=this._detectScenario(t,r),a=this._getLastTrackedApplicationId();if(a){t.appNameShort=a}if(!n.scenario){e.debug("[fesrEnhFlp] unknown scenario, step name: "+t.stepName);return t}var i=this._enhanceRecord(n.scenario,t,n.relatedEvent);e.debug("[fesrEnhFlp] pass step name: "+i.stepName);e.debug("[fesrEnhFlp] pass short application name: "+i.appNameShort);e.debug("[fesrEnhFlp] pass long application name: "+i.appNameLong);if(/tile.*press/.test(i.stepName)){e.debug("[fesrEnhFlp] did not overwrite press step name")}if(/__cdm/.test(i.stepName)){e.debug("[fesrEnhFlp] did not overwrite press step name(cdm)")}return i},_detectScenario:function(e,t){function r(e,t){var r={scenario:e};if(t){r.relatedEvent=t}return r}if(e.stepName==="undetermined_startup"){var i=n.getLastClosedRecord();this._setLastTrackedRecord(i);if(!!i&&i.isHomeApp){return r(a.CUSTOM_HOME_INITIAL)}switch(e.appNameLong){case"sap.ushell.components.homepage":return r(a.HOME_INITIAL);case"sap.ushell.components.pages":return r(a.HOME_INITIAL);case"sap.ushell.components.appfinder":return r(a.FINDER_INITIAL);default:return r(a.APP_INITIAL,i)}}var s=this._getLastTrackedRecord(),c=n.getNextNavigationRecords(s),o,p;if(c.length===1){p=c[0];if(p&&s&&!p.isEqual(s)||!s&&p){this._setLastTrackedRecord(p);o=p.step===a.HOME_LOADING?a.HOME_LOADING:a.NAVIGATION;return r(o,p)}}else if(c.length>1){c.pop();p=c[0];this._setLastTrackedRecord(p);o=p.step===a.HOME_LOADING?a.HOME_LOADING:a.NAVIGATION;return r(o,p)}return r(null)},_enhanceRecord:function(t,r,n){switch(t){case a.HOME_INITIAL:return this._enhanceInitialStart(r,t,"FLP-TTI-Homepage");case a.CUSTOM_HOME_INITIAL:return this._enhanceInitialStart(r,t,"FLP-TTI-Homepage-Custom");case a.FINDER_INITIAL:return this._enhanceInitialStart(r,t,"FLP-TTI-AppFinder");case a.APP_INITIAL:return this._enhanceInitialAppStart(r,t,n||{});case a.NAVIGATION:case a.HOME_LOADING:return this._enhanceNavigationRecord(r,t,n||{});default:break}e.warning("[fesrEnhFlp] Unknown scenario at the end of execution, unnecessary code executed",null,"sap.ushell.performance.FesrEnhancer");return r},_enhanceInitialStart:function(r,n,s){var c,o=t({},r);if(n===a.CUSTOM_HOME_INITIAL){o.stepName=n+"@"+r.appNameShort}else{o.stepName=n}o.interactionType=i.APP_START;if(s){c=this._getPerformanceEntries(s)[0];if(c){o.timeToInteractive=c.startTime;return o}e.warning("[fesrEnhFlp] Scenario '"+n+"' detected but expected performance mark '"+s+"' does not exist",null,"sap.ushell.performance.FesrEnhancer")}return o},_enhanceNavigationRecord:function(e,r,n){var a=t({},e);if(r!=="FLP@DURING_LOAD"){a.stepName=n.step||e.stepName}a.appNameShort=n.targetApplication||"";if(n.applicationType==="UI5"){a.interactionType=i.APP_START}if(/^FLP_BACK/.test(a.stepName)){var s=this._getPerformanceEntries("FLP-TTI-Homepage")[0];if(s){if(s.startTime>n.getTimeStart()){a.timeToInteractive=s.startTime-n.getTimeStart()}}}return a},_enhanceInitialAppStart:function(e,r,n){var a=t({},e);a.stepName=r;a.appNameShort=e.appNameShort;if(n.applicationType==="UI5"){a.interactionType=i.APP_START}else{a.interactionType=i.STEP_IN_APP}return a}};return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/ShellAnalytics",["sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/performance/StatisticalRecord","sap/ushell/utils","sap/ushell/Config"],function(e,n,t,a,i){"use strict";var r=[],o=[],s,c,u,l=false,p=false;var h={dashboardTileClick:"HOMEPAGE_TILE",dashboardTileLinkClick:"HOMEPAGE_LINK",catalogTileClick:"FINDER_TILE"};var f={EXPLACE:"EXPLACE",INPLACE:"INPLACE"};var d={"sap.ushell.components.appfinder":"FLP_FINDER","sap.ushell.components.pages":"FLP_PAGE","sap.ushell.components.homepage":"FLP_HOME"};var g=["dashboardTileClick","dashboardTileLinkClick","catalogTileClick"];function C(){return sap.ui.getCore().getEventBus()}function v(e,n){if(n){return true}return e&&(e==="FLP_HOME"||e==="FLP_PAGE")}function m(){return r}function E(){var e=m().filter(function(e){return e.isClosed()});if(e.length>0){return e[e.length-1]}return null}function A(e){if(!e){return m()}return m().filter(function(n){return e.getTimeStart()<n.getTimeStart()&&n.isClosed()})}function I(){return c}function P(e){c=e}function T(){u=performance.now();a.setPerformanceMark("FLP -- change hash")}function L(){if(!s){s=new t;r.push(s)}return s}function H(e,n){L().setTrigger(h[n])}function N(e){L().setTargetHash(e);L().setTimeStart(u||performance.now())}function y(e){var n=e||"";if(n.slice(-7)==="(TCODE)"){return n.replace(/ .*/,"").replace(/^\*/,"").substring(0,15).concat(" (TR)")}return n}function R(e){var n="";var t=e&&e.componentInstance&&e.componentInstance.getManifest();if(t&&t["sap.app"]&&t["sap.app"].id){n=t["sap.app"].id}return n}function S(){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(e){var t=e.getCurrentApplication();if(!t){return{}}var a=t&&t.componentInstance&&t.componentInstance.sId&&t.componentInstance.sId.includes("homeApp-component");var i;if(t.getTechnicalParameter){i=t.getTechnicalParameter("sap-fiori-id")}else{i=Promise.resolve([])}return i.then(function(e){var i=e&&e[0];if(a){return{type:"UI5",id:i,isHomeApp:true}}if(t.homePage){var r=d[R(t)]||"FLP_HOME";return{type:"UI5",id:r}}if(t.applicationType==="UI5"){if(!i){i=R(t);i=d[i]||i}i=i.replace(/,/g,"");return{type:"UI5",id:i}}var o=n.getMetadata().technicalName||n.getCurrentApplication().text||t.applicationType;var s=y(o.replace(/,/g,""));return{type:t.applicationType,id:s}})})}function b(e,n,t){if(s){var a=n?n.id:null;s.setSourceApplication(e);s.setTargetApplication(a);s.setApplicationType(n?n.type:null);s.setNavigationMode(t);s.setIsHomeApp(n&&n.isHomeApp);if(!l&&v(a,n&&n.isHomeApp)){l=true;s.setHomepageLoading(true)}s.closeRecord();s=null}}function k(e){if(!s){return}S().then(function(n){var t=I();if(e&&e.technicalName){n.id=y(e.technicalName);n.type=n.id.slice(-4)==="(TR)"?"GUI":"NWBC"}P(n);b(t?t.id:undefined,n,f.INPLACE)})}function F(){var e=I();b(e?e.id:undefined,null,f.EXPLACE)}function M(){if(s){var e=I();s.setSourceApplication(e?e.id:undefined);s.closeRecordWithError();s=null}}function _(){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hashChanger.attachEvent("hashChanged",T);e.hashChanger.attachEvent("shellHashChanged",T)})}function O(){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hashChanger.detachEvent("hashChanged",T);e.hashChanger.detachEvent("shellHashChanged",T)})}function w(){if(p){return}p=true;g.forEach(function(e){C().subscribe("launchpad",e,H)});var n;n=e.once("ShellNavigationInitialized").do(_);o.push(n);n=e.on("trackHashChange").do(N);o.push(n);n=e.on("AppRendered").do(k);o.push(n);n=e.on("CustomHomeRendered").do(k);o.push(n);n=e.on("openedAppInNewWindow").do(F);o.push(n);n=e.on("firstSegmentCompleteLoaded").do(k);o.push(n);n=e.on("doHashChangeError").do(M);o.push(n);n=e.on("PagesRuntimeRendered").do(k);o.push(n);n=e.on("CloseFesrRecord").do(k);o.push(n)}function G(){if(!p){return}g.forEach(function(e){C().unsubscribe("launchpad",e,H)});o.forEach(function(e){e.off()});O();P(null);r=[];s=null;p=false}return{enable:w,disable:G,getAllRecords:m,getCurrentApplication:I,getLastClosedRecord:E,getNextNavigationRecords:A}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/performance/StatisticalRecord",["sap/base/Log","sap/ushell/Config"],function(t,i){"use strict";var e={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR"};function o(){this.status=e.OPEN;this.targetHash=null;this.trigger=null;this.timeStart=null;this.timeEnd=null;this.duration=null;this.step=null;this.sourceApplication=undefined;this.targetApplication=undefined;this.navigationMode=null;this.homepageLoading=false;this.applicationType=null}o.prototype._calculateStep=function(){if(this.targetApplication===undefined&&this.sourceApplication===undefined){return""}if(this.sourceApplication===undefined&&this._isHomePage(this.targetApplication)){return"FLP@DURING_LOAD"}if(this.sourceApplication===undefined&&!this._isHomePage(this.targetApplication)){return"FLP@DEEP_LINK"}if(this.sourceApplication&&!this._isHomePage(this.targetApplication)&&!this._isHomePage(this.sourceApplication)){return"A2A@"+this.sourceApplication}if(this.sourceApplication&&this._isHomePage(this.targetApplication)&&!this._isHomePage(this.sourceApplication)){return"FLP_BACK@"+this.sourceApplication}if(this._isHomePage(this.sourceApplication)){return"FLP@HOMEPAGE_TILE"}return""};o.prototype.isEqual=function(t){return this.timeStart===t.timeStart};o.prototype.closeRecord=function(){this.step=this._calculateStep();this.status=e.CLOSED;this.timeEnd=performance.now();if(this.timeStart){this.duration=this.timeEnd-this.timeStart}t.debug("[fesrEnhFlp] Close statistical record with step name: "+this.step)};o.prototype.closeRecordWithError=function(){this.status=e.ERROR;this.timeEnd=performance.now();this.duration=this.timeEnd-this.timeStart};o.prototype.isClosed=function(){return this.status===e.CLOSED};o.prototype.getStep=function(){return this.step};o.prototype.setTrigger=function(t){this.trigger=t};o.prototype.setTargetHash=function(t){this.targetHash=t};o.prototype.setTimeStart=function(t){this.timeStart=t};o.prototype.getTimeStart=function(){return this.timeStart};o.prototype.getTimeEnd=function(){return this.timeEnd};o.prototype.setSourceApplication=function(t){this.sourceApplication=t};o.prototype.setTargetApplication=function(t){this.targetApplication=t};o.prototype.setNavigationMode=function(t){this.navigationMode=t};o.prototype.setHomepageLoading=function(t){this.homepageLoading=t};o.prototype.setApplicationType=function(t){this.applicationType=t};o.prototype.setIsHomeApp=function(t){this.isHomeApp=!!t};o.prototype._isHomePage=function(t){if(this.isHomeApp){return true}return t&&(t==="FLP_HOME"||t==="FLP_PAGE")};return o},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/AccessKeysHandler",["sap/ui/base/EventProvider","sap/ui/Device","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources"],function(e,t,n,s,o,i){"use strict";var r=e.extend("sap.ushell.renderers.fiori2.AccessKeysHandler",{constructor:function(){e.apply(this,arguments);o.on("AppRendered").do(this.appOpenedHandler.bind(this));this.bFocusOnShell=true;this.bFocusPassedToExternalHandlerFirstTime=true;this.isFocusHandledByAnotherHandler=false;this.fnExternalKeysHandler=null;this.sLastExternalKeysHandlerUrl=null;this.fnExternalShortcuts=null;this.bForwardNavigation=true;this.aShortcutsDescriptions=[]}});r.prototype.init=function(e){this.oModel=e;document.addEventListener("keydown",function(e){if(e.keyCode===16){return}this.bForwardNavigation=!e.shiftKey;if(e.key==="Tab"||e.key==="F6"){setTimeout(function(){this._handleEventUsingExternalKeysHandler(e)}.bind(this),0)}else{this._handleEventUsingExternalKeysHandler(e)}var t=s.last("/core/shell/model/currentState/stateName");if(t!=="headerless"&&t!=="headerless-home"){var n=t==="home"||t==="app"||t==="minimal";this.handleShortcuts(e,n)}if(this.fnExternalShortcuts){this.fnExternalShortcuts(e)}}.bind(this),true);this._cancelHelpEvent=this._cancelHelpEvent.bind(this)};r.prototype.appOpenedHandler=function(){var e=n.getHash();if(e!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null}this.sLastExternalKeysHandlerUrl=e};r.prototype._focusItemInOverflowPopover=function(e,t){var n=sap.ui.getCore().byId("headEndItemsOverflow");if(n&&n.isOpen()){if(n.getContent().length){this._focusItemInPopover(e,n.getContent()[0].getItems())}}else if(t<10){var s=window.document.getElementById("endItemsOverflowBtn");if(s){s.click();var o=this;window.setTimeout(function(){o._focusItemInOverflowPopover(e,++t)},300)}}};r.prototype._focusItemInUserMenu=function(e,t){var n=sap.ui.getCore().byId("sapUshellMeAreaPopover");if(n&&n.isOpen()){if(n.getContent().length){this._focusItemInPopover(e,n.getContent()[0].getItems())}}else if(t<10){var s=this;o.emit("showMeArea",Date.now());window.setTimeout(function(){s._focusItemInUserMenu(e,++t)},300)}};r.prototype._focusItemInPopover=function(e,t){for(var n=0;n<t.length;n++){var s=t[n].getId().split("-");if(s[s.length-1]===e){t[n].getDomRef().focus();return}}};r.prototype._handleAccessOverviewKey=function(e){var n=this.oModel.getProperty("/searchAvailable"),o=this.oModel.getProperty("/personalization"),r=s.last("/core/catalog/enabled"),a=s.last("/core/shell/model/enableNotifications");if(t.browser.msie){document.addEventListener("help",this._cancelHelpEvent)}var l=[];l=l.concat(this.aShortcutsDescriptions);var u;var f;if(t.os.macintosh){u=i.i18n.getText("OptionKey");f=i.i18n.getText("CommandKey")}else{u=i.i18n.getText("AltKey");f=i.i18n.getText("ControlKey")}if(window.document.getElementById("shell-header")){if(r&&e){l.push({text:u+" + A",description:i.i18n.getText("hotkeyFocusOnAppFinderButton")})}if(n){l.push({text:u+" + F",description:i.i18n.getText("hotkeyFocusOnSearchButton")})}l.push({text:u+" + H",description:i.i18n.getText("hotkeyHomePage")});l.push({text:u+" + M",description:i.i18n.getText("hotkeyFocusOnUserActionMenu")});if(a){l.push({text:u+" + N",description:i.i18n.getText("hotkeyFocusOnNotifications")})}if(e){l.push({text:u+" + S",description:i.i18n.getText("hotkeyFocusOnSettingsButton")});l.push({text:i.i18n.getText("ControlKey")+" + "+i.i18n.getText("CommaKey"),description:i.i18n.getText("hotkeyOpenSettings")})}if(o&&r){l.push({text:i.i18n.getText("ControlKey")+" + "+i.i18n.getText("EnterKey"),description:i.i18n.getText("hotkeyExitEditing")})}if(n){l.push({text:f+" + "+i.i18n.getText("ShiftKey")+" + F",description:i.i18n.getText("hotkeyFocusOnSearchField")})}}sap.ui.require(["sap/m/Label","sap/m/MessageBox","sap/m/Text","sap/m/VBox"],function(e,t,n,s){var o=new s;l.forEach(function(t){o.addItem(new e({text:t.description}));o.addItem(new n({text:t.text}).addStyleClass("sapUiSmallMarginBottom"))});t.show(o,{id:"hotKeysGlossary",title:i.i18n.getText("hotKeysGlossary"),styleClass:"sapContrastPlus"})})};r.prototype._focusAppFinderButton=function(){if(!s.last("/core/catalog/enabled")){return}if(this._isFocusInDialog()){return}var e=window.document.getElementById("openCatalogBtn");if(e){e.focus();return}var t=sap.ushell.Container.getRenderer("fiori2").getShellConfig();if(t.moveAppFinderActionToShellHeader){this._focusItemInOverflowPopover("openCatalogBtn",0);return}this._focusItemInUserMenu("openCatalogBtn",0)};r.prototype._focusSettingsButton=function(){if(this._isFocusInDialog()){return}var e=window.document.getElementById("userSettingsBtn");if(e){e.focus();return}var t=sap.ushell.Container.getRenderer("fiori2").getShellConfig();if(t.moveUserSettingsActionToShellHeader){this._focusItemInOverflowPopover("userSettingsBtn",0);return}this._focusItemInUserMenu("userSettingsBtn",0)};r.prototype._blockBrowserDefault=function(e){return new Promise(function(n){if(t.browser.name==="ie"){var s=window.document.getElementById("shell-header");if(s){s.setAttribute("accesskey",e.key);window.setTimeout(function(){s=window.document.getElementById("shell-header");if(s){s.removeAttribute("accesskey");n()}},0)}}else{n()}e.preventDefault()})};r.prototype._handleAltShortcutKeys=function(e,t){var n=sap.ui.getCore().byId("shell-header"),s=sap.ui.getCore().byId("sapUshellMeAreaPopover"),i=sap.ui.getCore().byId("shellNotificationsPopover");if(this._isFocusInInput()){return}if(n){if(t){if(e.keyCode===65){this._blockBrowserDefault(e).then(this._focusAppFinderButton.bind(this))}else if(e.keyCode===83){this._blockBrowserDefault(e).then(this._focusSettingsButton.bind(this))}}if(e.keyCode===70){this._blockBrowserDefault(e).then(function(){if(this._isFocusInDialog()){return}var e=window.document.getElementById("sf"),t=window.document.getElementById("searchFieldInShell-button");if(e){e.focus()}else if(t){t.focus()}else{this._focusItemInOverflowPopover("sf",0)}}.bind(this))}else if(e.keyCode===72){this._blockBrowserDefault(e).then(function(){if(this._isFocusInDialog()){return}var e=document.getElementById("shell-header-logo");if(e){e.focus();return}}.bind(this))}else if(e.keyCode===77){this._blockBrowserDefault(e).then(function(){if(this._isFocusInDialog()){return}if(!(s&&s.isOpen())){o.emit("showMeArea",Date.now())}}.bind(this))}else if(e.keyCode===78){this._blockBrowserDefault(e).then(function(){if(this._isFocusInDialog()){return}if(!(i&&i.isOpen())){o.emit("showNotifications",Date.now())}}.bind(this))}}};r.prototype._handleCtrlShortcutKeys=function(e,t){if(e.shiftKey){if(e.keyCode===70){if(this._isFocusInDialog()){e.preventDefault();e.stopPropagation();return}var n=sap.ui.getCore().byId("sf");if(n){n.firePress();e.preventDefault();e.stopPropagation()}}}else if(e.keyCode===188&&t){if(this._isFocusInDialog()){return}var o=sap.ui.getCore().byId("userSettingsBtn");if(o&&!this._isFocusInSmartTable()){o.firePress();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===112){if(this._isFocusInDialog()){e.preventDefault();e.stopPropagation();return}this._handleAccessOverviewKey(t)}else if(e.keyCode===83){if(this._isFocusInDialog()){e.preventDefault();e.stopPropagation();return}var i=window.document.getElementById("appFinderSearch-I");if(i){i.focus();e.preventDefault();e.stopPropagation()}}else if(e.keyCode===13){if(this._isFocusInDialog()){e.preventDefault();e.stopPropagation();return}if(s.last("/core/spaces/enabled")){this.fireEvent("editModeDone")}else{var r=sap.ui.getCore().byId("sapUshellDashboardFooterDoneBtn");if(r&&r.getDomRef()){r.firePress();e.preventDefault();e.stopPropagation()}}}};r.prototype.handleShortcuts=function(e,n){if(t.os.macintosh&&e.metaKey&&e.shiftKey&&e.keyCode===70){var s=window.document.getElementById("sf");if(s){s.firePress();e.preventDefault();e.stopPropagation()}e.preventDefault()}else if(e.altKey&&!e.shiftKey&&!e.ctrlKey){this._handleAltShortcutKeys(e,n)}else if(e.ctrlKey&&!e.altKey){this._handleCtrlShortcutKeys(e,n)}};r.prototype.registerAppKeysHandler=function(e){this.fnExternalKeysHandler=e;this.sLastExternalKeysHandlerUrl=n.getHash()};r.prototype.resetAppKeysHandler=function(){this.fnExternalKeysHandler=null};r.prototype.getAppKeysHandler=function(){return this.fnExternalKeysHandler};r.prototype.registerAppShortcuts=function(e,t){this.fnExternalShortcuts=e;this.aShortcutsDescriptions=t};r.prototype._handleFocusBackToMe=function(e,t){this.bFocusOnShell=true;var n;if(t){n=window.document.getElementById(t)}else{this.fromOutside=true;if(e){e.preventDefault();this.bForwardNavigation=!e.shiftKey||e.key==="F6"}var s=sap.ui.getCore().byId("shell-header");if(s){s.setFocusOnShellHeader(!this.bForwardNavigation);this.fromOutside=false}}if(n){n.focus();this.fromOutside=false}this.bFocusPassedToExternalHandlerFirstTime=true};r.prototype.setIsFocusHandledByAnotherHandler=function(e){this.isFocusHandledByAnotherHandler=e};r.prototype.sendFocusBackToShell=function(e){var t,n;if(typeof e==="string"){n=e}else if(typeof e==="object"){t=e}this._handleFocusBackToMe(t,n)};r.prototype._handleEventUsingExternalKeysHandler=function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(typeof this.fnExternalKeysHandler==="function"){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false}}this.setIsFocusHandledByAnotherHandler(false)};r.prototype._cancelHelpEvent=function(e){e.preventDefault();document.removeEventListener("help",this._cancelHelpEvent)};r.prototype._isFocusInInput=function(){var e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};r.prototype._isFocusInDialog=function(){var e=document.activeElement;for(;e!==document.body;e=e.parentNode){if(e.classList.contains("sapMDialog")){return true}}return false};r.prototype._isFocusInSmartTable=function(){var e=document.activeElement;var t;for(;e!==document.body;e=e.parentNode){t=e.classList;if(t.contains("sapUiCompSmartTable")||t.contains("sapUiMdcTable")){return true}}return false};return new r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/History",function(){"use strict";var t=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={}};t.prototype.hashChange=function(t){var i=this._history.indexOf(t);if(i===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1)}this._history.push(t);this._historyPosition+=1;this.backwards=false;this.forwards=false}else{this.backwards=this._historyPosition>i;this.forwards=this._historyPosition<i;this._historyPosition=i}};t.prototype.pop=function(){var t;if(this._history.length>0){t=this._history.pop();this._historyPosition--}return t};t.prototype.isVirtualHashchange=function(t,i){return this._virtual.hasOwnProperty(i)&&this.getCurrentHash()===t&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===i};t.prototype.setVirtualNavigation=function(t){this._virtual[t]=true};t.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null};t.prototype.getHashIndex=function(t){return this._history.indexOf(t)};t.prototype.getHistoryLength=function(){return this._history.length};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/LogonFrameProvider",["sap/m/Button","sap/m/Dialog","sap/ui/core/HTML","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/Config","sap/ushell/resources"],function(e,t,a,s,o,i){"use strict";function l(){r();var l=new t({id:"SAMLDialog",title:i.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",content:new a("SAMLDialogFrame",{content:'<iframe id=SAMLDialogFrame src=""></iframe>'}),rightButton:new e({text:i.i18n.getText("samlCloseBtn"),press:sap.ushell.Container.cancelLogon.bind(sap.ushell.Container)})}).addStyleClass("sapUshellIframeDialog sapContrastPlus sapUshellSamlDialogHidden");if(o.last("/core/extension/SupportTicket")){var u=new s;u.setWidth("150px");u.setIcon("");l.setLeftButton(u)}l.open();n(true);return document.getElementById("SAMLDialogFrame")}function n(e){var t=document.getElementById("sap-ui-blocklayer-popup");if(t){if(e){t.classList.add("sapUshellSamlDialogHidden")}else{t.classList.remove("sapUshellSamlDialogHidden")}}}function r(){var e=sap.ui.getCore().byId("SAMLDialog");if(e){e.destroy()}}function u(){var e=sap.ui.getCore().byId("SAMLDialog");if(e){e.removeStyleClass("sapUshellSamlDialogHidden");n(true)}}return{create:l,show:u,destroy:r}},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Renderer",["sap/ui/core/UIComponent","sap/ushell/ui/shell/ToolAreaItem","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/services/AppConfiguration","sap/ushell/resources","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath","sap/ui/core/library","sap/ushell/library","sap/ui/core/mvc/View","sap/ushell/ui/shell/ShellHeadItem","sap/m/NotificationListItem","./RendererExtensions"],function(e,t,o,n,r,i,l,a,s,p,d,u,h,c,f,g,m,y,S,C){"use strict";var w=g.mvc.ViewType;var I=m.AppType;var v=e.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.109.2",dependencies:{version:"1.109.2",libs:["sap.ui.core","sap.m"],components:[]},interfaces:["sap.ui.core.IAsyncContentCreation"],routing:{config:{path:"sap.ushell.components",async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"pages"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:function(){if(o.last("/core/homeApp/enabled")){return"homeapp"}if(o.last("/core/workPages/enabled")&&o.last("/core/workPages/myHome/pageId")!==null){return"workpages"}if(o.last("/core/workPages/enabled")&&o.last("/core/workPages/myHome/pageId")===null){return"runtimeSwitcher"}if(o.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:o.last("/core/catalog/enabled")?"appfinder":undefined},{name:"openFLPPage",pattern:["Launchpad-openFLPPage?:hashParameters:","Launchpad-openFLPPage"],target:function(){if(o.last("/core/workPages/enabled")&&o.last("/core/workPages/myHome/pageId")!==null){return"workpages"}if(o.last("/core/workPages/enabled")&&o.last("/core/workPages/myHome/pageId")===null){return"runtimeSwitcher"}if(o.last("/core/spaces/enabled")){return"pages"}return"home"}()},{name:"openWorkPage",pattern:["Launchpad-openWorkPage?:hashParameters:","Launchpad-openWorkPage"],target:"workpages"}],targets:{home:{name:"homepage",type:"Component",title:d.i18n.getText("homeBtn_tooltip"),id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:o.last("/core/home/featuredGroup/enable")?["sap/ushell/preload-bundles/homepage-af-dep.js","sap/ushell/components/homepage/cards-preload.js"]:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},pages:{name:"pages",type:"Component",id:"pages-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js"]}}},workpages:{name:"workPageRuntime",type:"Component",id:"workPageRuntime-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}},runtimeSwitcher:{name:"runtimeSwitcher",type:"Component",id:"runtimeSwitcher-component",options:{componentData:{},asyncHints:{preloadBundles:["sap/ushell/preload-bundles/homepage-af-dep.js","sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}}}}},init:function(){e.prototype.init.apply(this,arguments);var t=this.getRouter();if(o.last("/core/homeApp/enabled")){this._getHomeAppTarget().then(function(e){t.getTargets().addTarget("homeapp",e);t.getTarget("homeapp").attachEventOnce("display",function(){n.emit("CoreResourcesComplementLoaded",{status:"success"})})})}t.getRoute("home").attachMatched(this._prepareHomepage,this);t.getRoute("openFLPPage").attachMatched(this._prepareHomepage,this);t.getRoute("openWorkPage").attachMatched(this._prepareHomepage,this);t.getRoute("appfinder-legacy").attachMatched(function(e){t.navTo("appfinder",{},true)});t.getRoute("appfinder").attachMatched(function(e){if(!o.last("/core/catalog/enabled")){c.warning("AppFinder is disabled. Re-route to the homepage.");t.navTo("home",null,true);return}n.emit("trackHashChange","Shell-appFinder");var r=sap.ui.getCore().getComponent(this.createId("Shell-appfinder-component"));var l=e.getParameter("arguments");if(sap.ushell.Container.getRenderer("fiori2")){i.getShellUIService().setBackNavigation();sap.ushell.Container.getRenderer("fiori2").setCurrentCoreView("appFinder")}p.setCurrentApplication(null);var a=r.getRouter();r.getRootControl().loaded().then(function(){a.parse(l["innerHash*"]||"")});i.switchViewState("app",false,"Shell-appfinder");i.getAppMeta().setAppIcons();s.initializeAccessKeys()},this);var r=new a(l);r.setDefaultBindingMode("OneWay");this.setModel(r,"device");this.setModel(d.i18nModel,"i18n")}});v.prototype._prepareHomepage=function(e){n.emit("trackHashChange","Shell-home");if(p.getCurrentApplication()){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.setIsInitialNavigation(false)})}var t=window.hasher.getHash();if(!o.last("/core/spaces/enabled")&&t.indexOf("Launchpad-openFLPPage")===0){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.replaceHashWithoutNavigation("Shell-home")})}var l=d.i18n.getText("homeBtn_tooltip");var a=this.getShellConfig().rootIntent;var u=!a||r.isFlpHomeIntent(a);i.switchViewState(u?"home":"app",false,"Shell-home");this.setCurrentCoreView("home");p.setCurrentApplication(null);i.getShellUIService().setTitle(l);i.getShellUIService().setHierarchy();i.getShellUIService().setRelatedApps();i.getAppMeta().setAppIcons();s.initializeAccessKeys()};v.prototype._getHomeAppTarget=function(){return sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(e){var t=o.last("/core/homeApp/component");var n=e.getCoreResourcesComplementBundle();if(t.url){return{name:t.name,type:"Component",id:"homeApp-component",path:"",options:{url:t.url,componentData:{},asyncHints:Object.assign({},t.asyncHints||{},{preloadBundles:n.aResources})}}}return{name:"error",type:"Component",id:"homeApp-component",path:"sap/ushell/components/homeApp",options:{componentData:{},asyncHints:{preloadBundles:n.aResources}}}})};v.prototype.createContent=function(){var e=new u(window.location.href).get("appState")||new u(window.location.href).get("sap-ushell-config"),t,n=this.getComponentData()||{},r={applications:{"Shell-home":{}},rootIntent:"Shell-home"};t=e==="headerless-opt"?"headerless":e;if(t){if(!n.config){n.config={}}n.config.appState=t;n.config.appStateOrig=e;n.config.inHeaderLessOpt=e==="headerless-opt"}if(n.config){if(n.config.rootIntent===undefined){n.config.migrationConfig=true}n.config=h.extend(true,r,n.config);h.extend(n.config.applications["Shell-home"],o.last("/core/home"),o.last("/core/catalog"));if(n.config.appState==="headerless"||n.config.appState==="merged"||n.config.appState==="blank"){n.config.enablePersonalization=false;o.emit("/core/shell/enablePersonalization",false)}else{n.config.enablePersonalization=o.last("/core/shell/enablePersonalization")}if(!n.config.enablePersonalization){n.config.moveEditHomePageActionToShellHeader=false;n.config.moveAppFinderActionToShellHeader=false}}var l=o.createModel("/core/shell/model",a);n.shellModel=l;if(!this.getComponentData().async){c.error("sap/ushell/renderers/fiori2/Renderer component is created synchronously. Synchronous instantiation is not allowed. Please use async:true in component data");var s=sap.ui.view("mainShell",{type:w.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:n});s.setModel(l);this._oShellView=s;this.oShellModel=i.getElementsModel();s.loaded().then(function(e){sap.ushell.renderers.fiori2.utils.init(e.getController());this.shellCtrl=e.oController}.bind(this));return s}return y.create({id:"mainShell",viewName:"module:sap/ushell/renderers/fiori2/ShellAsync.view",viewData:n}).then(function(e){e.setModel(l);this._oShellView=e;this.oShellModel=i.getElementsModel();sap.ushell.renderers.fiori2.utils.init(e.getController());this.shellCtrl=e.getController();return e}.bind(this))};v.prototype.createExtendedShellState=function(e,t){return i.shellElements().createExtendedShellState(e,t)};v.prototype.applyExtendedShellState=function(e,t){this.oShellModel.applyExtendedShellState(e,t)};v.prototype.showLeftPaneContent=function(e,t,o){var n=typeof e==="string"?[e]:e;if(t){i.shellElements().addShellModelForApplications("paneContent",n)}else{this.oShellModel.addLeftPaneContent(n,false,o)}};v.prototype.showHeaderItem=function(e,t,o){var n=typeof e==="string"?[e]:e;if(t){i.shellElements().addShellModelForApplications("headItems",n)}else{this.oShellModel.addHeaderItem(n,false,o)}};v.prototype.showRightFloatingContainerItem=function(e,t,o){var n=typeof e==="string"?[e]:e;if(t){i.shellElements().addShellModelForApplications("RightFloatingContainerItems",n)}else{this.oShellModel.addRightFloatingContainerItem(n,false,o)}};v.prototype.showRightFloatingContainer=function(e){i.shellElements().setShellModelForApplications("showRightFloatingContainer",e)};v.prototype.showToolAreaItem=function(e,t,o){this.oShellModel.addToolAreaItem(e,true,t,o)};v.prototype.showActionButton=function(e,t,o){var n=[],r=[],l;if(typeof e==="string"){e=[e]}n=e.filter(function(e){l=sap.ui.getCore().byId(e);return l instanceof sap.m.Button&&!(l instanceof sap.ushell.ui.launchpad.ActionItem)});r=e.filter(function(e){l=sap.ui.getCore().byId(e);return l instanceof sap.ushell.ui.launchpad.ActionItem});if(n.length){this.convertButtonsToActions(n,t,o)}if(r.length){if(t){i.shellElements().addShellModelForApplications("actions",e)}else{this.oShellModel.addActionButton(e,false,o)}}};v.prototype.showFloatingActionButton=function(e,t,o){if(t){i.shellElements().addShellModelForApplications("floatingActions",typeof e==="string"?[e]:e)}else{this.oShellModel.addFloatingActionButton(typeof e==="string"?[e]:e,false,o)}};v.prototype.showHeaderEndItem=function(e,t,o){if(t){i.shellElements().addShellModelForApplications("headEndItems",typeof e==="string"?[e]:e)}else{this.oShellModel.addHeaderEndItem(typeof e==="string"?[e]:e,false,o)}};v.prototype.setHeaderVisibility=function(e,t,o){if(t){i.shellElements().setShellModelForApplications("headerVisible",e)}else{this.oShellModel.setHeaderVisibility(e,false,o)}};v.prototype.showSubHeader=function(e,t,o){if(t){i.shellElements().addShellModelForApplications("subHeader",typeof e==="string"?[e]:e)}else{this.oShellModel.addSubHeader(typeof e==="string"?[e]:e,false,o)}};v.prototype.showSignOutItem=function(e,t){if(e){i.shellElements().addShellModelForApplications("actions",["logoutBtn"],false)}else{this.oShellModel.showSignOutButton(e,t)}};v.prototype.showSettingsItem=function(e,t){this.oShellModel.showSettingsButton(e,t)};v.prototype.setFooter=function(e){this.shellCtrl.setFooter(e)};v.prototype.setShellFooter=function(e){var t=new h.Deferred,o=this,n,r,i=e.controlType,l=e.oControlProperties;if(l&&l.id&&sap.ui.getCore().byId(l.id)){r=sap.ui.getCore().byId(l.id);if(r){if(this.lastFooterId){this.removeFooter()}this.lastFooterId=r.getId();this.shellCtrl.setFooter(r);t.resolve(r)}}if(i){n=i.replace(/\./g,"/");sap.ui.require([n],function(e){r=new e(l);if(o.lastFooterId){o.removeFooter()}o.lastFooterId=r.getId();o.shellCtrl.setFooter(r);t.resolve(r)})}else{c.warning("You must specify control type in order to create it")}return t.promise()};v.prototype.setFooterControl=function(e,t){var o=e.replace(/\./g,"/"),n=sap.ui.require(o),r,i=false;if(n){i=true}else if(!f.get(e||"")){c.error("Renderer.setFooterControl: the referenced control resourse "+e+" is not available.",undefined,"sap.ushell.renderers.fiori2.Renderer");return undefined}r=this.createItem(t,undefined,function(t){if(e){if(i){return new n(t)}var o=f.get(e||"");return new o(t)}c.warning("You must specify control type in order to create it");return undefined});if(this.lastFooterId){this.removeFooter()}this.lastFooterId=r.getId();this.shellCtrl.setFooter(r);return r};v.prototype.hideHeaderItem=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeHeaderItem([e],t,o)}else{this.oShellModel.removeHeaderItem(e,t,o)}};v.prototype.removeToolAreaItem=function(e,t,o){if(typeof e==="string"){e=[e]}this.oShellModel.removeToolAreaItem(e,t,o)};v.prototype.removeRightFloatingContainerItem=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeRightFloatingContainerItem([e],t,o)}else{this.oShellModel.removeRightFloatingContainerItem(e,t,o)}};v.prototype.hideActionButton=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeActionButton([e],t,o)}else{this.oShellModel.removeActionButton(e,t,o)}};v.prototype.hideLeftPaneContent=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeLeftPaneContent([e],t,o)}else{this.oShellModel.removeLeftPaneContent(e,t,o)}};v.prototype.hideFloatingActionButton=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeFloatingActionButton([e],t,o)}else{this.oShellModel.removeFloatingActionButton(e,t,o)}};v.prototype.hideHeaderEndItem=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeHeaderEndItem([e],t,o)}else{this.oShellModel.removeHeaderEndItem(e,t,o)}};v.prototype.hideSubHeader=function(e,t,o){if(typeof e==="string"){this.oShellModel.removeSubHeader([e],t,o)}else{this.oShellModel.removeSubHeader(e,t,o)}};v.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){var e=sap.ui.getCore().byId(this.lastFooterId);if(e){e.destroy()}this.lastFooterId=undefined}};v.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState()};v.prototype.addShellSubHeader=function(e){var t=new h.Deferred,o=this,n,r,i=e.controlType,l=e.oControlProperties,a=e.bIsVisible,s=e.bCurrentState,p=e.aStates;if(l&&l.id&&sap.ui.getCore().byId(l.id)){r=sap.ui.getCore().byId(l.id);if(r){if(a){this.showSubHeader(r.getId(),s,p)}t.resolve(r)}}if(i){n=i.replace(/\./g,"/");sap.ui.require([n],function(e){r=new e(l);if(a){o.showSubHeader(r.getId(),s,p);o.oShellModel.addElementToManagedQueue(r)}t.resolve(r)})}else{c.warning("You must specify control type in order to create it")}return t.promise()};v.prototype.addSubHeader=function(e,t,o,n,r){var i=e.replace(/\./g,"/"),l=sap.ui.require(i),a,s=false;if(l){s=true}else if(!f.get(e||"")){c.error("Renderer.setFooterControl: the referenced control resourse "+e+" is not available.",undefined,"sap.ushell.renderers.fiori2.Renderer");return undefined}a=this.createItem(t,n,function(t){if(e){if(s){return new l(t)}var o=f.get(e||"");return new o(t)}c.warning("You must specify control type in order to create it");return undefined});if(o){this.showSubHeader(a.getId(),n,r)}return a};v.prototype.addUserAction=function(e){var t=new h.Deferred,o=this,n,r,l=e.controlType,a=e.oControlProperties,s=e.bIsVisible,p=e.bCurrentState,d=p?i.shellElements().getStateModelToUpdate():this.oShellModel.getModelToUpdate(),u=e.aStates,f;if(a){r=sap.ui.getCore().byId(a.id)}if(r){t.resolve(r)}if(l){if(l==="sap.m.Button"){l="sap.ushell.ui.launchpad.ActionItem"}n=l.replace(/\./g,"/");sap.ui.require([n],function(e){var n;if(p){n=i.shellElements().getStateModelToUpdate();i.shellElements().setStateModelToUpdate(d)}else{n=o.oShellModel.getModelToUpdate();o.oShellModel.setModelToUpdate(d,true)}r=r||new e(a);if(!r.getActionType){r=new e(a)}if(s){o.showActionButton(r.getId(),p,u)}if(p){i.shellElements().setStateModelToUpdate(n)}else{o.oShellModel.setModelToUpdate(n,false)}t.resolve(r)})}else{f="You must specify control type in order to create it";c.warning(f);t.reject(f)}return t.promise()};v.prototype.addActionButton=function(e,t,o,n,r){var i,l,a=false;if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem"}i=e.replace(/\./g,"/");var s=sap.ui.require(i);if(s){a=true}else if(!f.get(e||"")){c.error("Renderer.setFooterControl: the referenced control resourse "+e+" is not available.",undefined,"sap.ushell.renderers.fiori2.Renderer");return undefined}l=this.createItem(t,n,function(t){if(e){if(a){return new s(t)}var o=f.get(e||"");return new o(t)}c.warning("You must specify control type in order to create it");return undefined});if(o){this.showActionButton(l.getId(),n,r)}return l};v.prototype.addFloatingButton=function(e){var t=new h.Deferred,o=this,n,r,i=e.controlType,l=e.oControlProperties,a=e.bIsVisible,s=e.bCurrentState,p=e.aStates;if(l&&l.id&&sap.ui.getCore().byId(l.id)){r=sap.ui.getCore().byId(l.id);if(r){if(a){o.showFloatingActionButton(r.getId(),s,p);o.oShellModel.addElementToManagedQueue(r)}t.resolve(r)}}if(i){n=i.replace(/\./g,"/")}else{n="sap/m/Button"}sap.ui.require([n],function(e){r=new e(l);if(a){o.showFloatingActionButton(r.getId(),s,p)}t.resolve(r)});return t.promise()};v.prototype.addFloatingActionButton=function(e,t,o,n,r){var i,l,a,s=false;if(!e){e="sap.m.Button"}i=e.replace(/\./g,"/");l=sap.ui.require(i);if(l){s=true}else if(!f.get(e||"")){c.error("Renderer.setFooterControl: the referenced control resourse "+e+" is not available.",undefined,"sap.ushell.renderers.fiori2.Renderer");return undefined}a=this.createItem(t,n,function(t){if(e){if(s){return new l(t)}var o=f.get(e||"");return new o(t)}c.warning("You must specify control type in order to create it");return undefined});if(o){this.showFloatingActionButton(a.getId(),n,r)}return a};v.prototype.addSidePaneContent=function(e){var t=new h.Deferred,o=this,n,r,i=e.controlType,l=e.oControlProperties,a=e.bIsVisible,s=e.bCurrentState,p=e.aStates;if(l&&l.id&&sap.ui.getCore().byId(l.id)){r=sap.ui.getCore().byId(l.id);if(r){t.resolve(r)}}if(i){n=i.replace(/\./g,"/");sap.ui.require([n],function(e){r=new e(l);if(a){o.oShellModel.addElementToManagedQueue(r);o.showLeftPaneContent(r.getId(),s,p)}t.resolve(r)})}else{c.warning("You must specify control type in order to create it")}return t.promise()};v.prototype.addLeftPaneContent=function(e,t,o,n,r){var i=e.replace(/\./g,"/"),l=sap.ui.require(i),a;if(l){a=true}else if(!f.get(e||"")){c.error("Renderer.setFooterControl: the referenced control resourse "+e+" is not available.",undefined,"sap.ushell.renderers.fiori2.Renderer");return undefined}var s=this.createItem(t,n,function(t){if(e){if(a){return new l(t)}var o=f.get(e||"");return new o(t)}c.warning("You must specify control type in order to create it");return undefined});if(o){this.showLeftPaneContent(s.getId(),n,r)}return s};v.prototype.addHeaderItem=function(e,t,o,n,r){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];o=arguments[1];n=arguments[2];r=arguments[3]}else{c.error("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!")}var i=this.createItem(t,n,function(e){return new S(e)});if(o){this.showHeaderItem(i.getId(),n,r)}return i};v.prototype.addRightFloatingContainerItem=function(e,t,o,n){var r=this.createItem(e,o,function(e){return new C(e)});if(t){this.showRightFloatingContainerItem(r.getId(),o,n)}return r};v.prototype.addToolAreaItem=function(e,o,n,r){e.visible=!!o;var i=function(e){return new t(e)},l=this.createItem(e,n,i);this.oShellModel.addToolAreaItem(l.getId(),!!o,n,r);return l};v.prototype.addHeaderEndItem=function(e,t,o,n,r){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];o=arguments[1];n=arguments[2];r=arguments[3]}var i=this.createItem(t,n,function(e){return new S(e)});if(o){this.showHeaderEndItem(i.getId(),n,r)}return i};v.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration()};v.prototype.addEndUserFeedbackCustomUI=function(e,t){if(e||t){c.info("Application calls sap.ushell.Rederer.addEndUserFeedbackCustomUI. This funciton is deprecated. The call has no effect.")}};v.prototype.addUserPreferencesEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e)};v.prototype.setHeaderTitle=function(e){this.shellCtrl.setHeaderTitle(e)};v.prototype.setLeftPaneVisibility=function(e,t){this.oShellModel.setLeftPaneVisibility(t,false,[e])};v.prototype.showToolArea=function(e,t){this.oShellModel.showShellItem("/toolAreaVisible",e,t)};v.prototype.setHeaderHiding=function(e){return this.oShellModel.setHeaderHiding(e)};v.prototype.setFloatingContainerContent=function(e,t,o){this.shellCtrl.setFloatingContainerContent("floatingContainerContent",[e.getId()],t,o)};v.prototype.setFloatingContainerVisibility=function(e){this.shellCtrl.setFloatingContainerVisibility(e)};v.prototype.getFloatingContainerState=function(){return this.shellCtrl.getFloatingContainerState()};v.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl.getFloatingContainerVisibility()};v.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility()};v.prototype.setFloatingContainerDragSelector=function(e){this.shellCtrl.setFloatingContainerDragSelector(e)};v.prototype.makeEndUserFeedbackAnonymousByDefault=h.noop;v.prototype.showEndUserFeedbackLegalAgreement=h.noop;v.prototype.LaunchpadState={App:"app",Home:"home"};v.prototype.createTriggers=function(e,t,o){this.oShellModel.createTriggers(e,t,o)};v.prototype.convertButtonsToActions=function(e,t,o){var n={},r,i=this;e.forEach(function(e){r=sap.ui.getCore().byId(e);n.id=r.getId();n.text=r.getText();n.icon=r.getIcon();n.tooltip=r.getTooltip();n.enabled=r.getEnabled();n.visible=r.getVisible();if(r.mEventRegistry&&r.mEventRegistry.press){n.press=r.mEventRegistry.press[0].fFunction}r.destroy();i.addActionButton("sap.ushell.ui.launchpad.ActionItem",n,n.visible,t,o)})};v.prototype.createItem=function(e,t,o){var n;if(e&&e.id){n=sap.ui.getCore().byId(e.id)}if(!n){n=o(e);if(t){this.oShellModel.addElementToManagedQueue(n)}}return n};v.prototype.addEntryInShellStates=function(e,t,o,n,r){this.oShellModel.addEntryInShellStates(e,t,o,n,r)};v.prototype.removeCustomItems=function(e,t,o,n){if(typeof t==="string"){this.oShellModel.removeCustomItems(e,[t],o,n)}else{this.oShellModel.removeCustomItems(e,t,o,n)}};v.prototype.addCustomItems=function(e,t,o,n){if(typeof t==="string"){this.oShellModel.addCustomItems(e,[t],o,n)}else{this.oShellModel.addCustomItems(e,t,o,n)}};v.prototype.addRightViewPort=function(e){this.shellCtrl.getViewPortContainer().addRightViewPort(e,false)};v.prototype.addLeftViewPort=function(e){this.shellCtrl.getViewPortContainer().addLeftViewPort(e,false)};v.prototype.getShellController=function(){return this.shellCtrl};v.prototype.getViewPortContainerCurrentState=function(){return this.shellCtrl.getViewPortContainer().getCurrentState()};v.prototype.ViewPortContainerNavTo=function(e,t,o){return this.shellCtrl.getViewPortContainer().navTo(e,t,o)};v.prototype.switchViewPortStateByControl=function(){};v.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(){};v.prototype.setMeAreaSelected=function(e){this.shellCtrl.setMeAreaSelected(e)};v.prototype.getMeAreaSelected=function(){return this.shellCtrl.getMeAreaSelected()};v.prototype.setNotificationsSelected=function(e){this.shellCtrl.setNotificationsSelected(e)};v.prototype.getNotificationsSelected=function(){return this.shellCtrl.getNotificationsSelected()};v.prototype.addShellDanglingControl=function(e){this.shellCtrl.getView().addDanglingControl(e)};v.prototype.getShellConfig=function(){return this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{}};v.prototype.getEndUserFeedbackConfiguration=function(){return{}};v.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e)};v.prototype.addUserProfilingEntry=function(e){this.shellCtrl.addUserProfilingEntry(e)};v.prototype.logRecentActivity=function(e){if(!e.appType){e.appType=I.APP}if(!e.appId){e.appId=e.url}return this.shellCtrl._logRecentActivity(e)};v.prototype.setCurrentCoreView=function(e){this.currentCoreView=e};v.prototype.getCurrentCoreView=function(){return this.currentCoreView};v.prototype.registerTileActionsProvider=function(e){if(!o.last("/core/spaces/enabled")){return Promise.reject("registerTileActionsProvider is only supported with spaces enabled")}if(!this._aTileActionProviders){this._aTileActionProviders=[]}this._aTileActionProviders.push(e);return Promise.resolve()};v.prototype.getCustomTileActions=function(e){if(!o.last("/core/spaces/enabled")){return Promise.reject("getCustomTileActions is only supported with spaces enabled")}var t={controlId:e.getId(),tileId:e.getVizRefId(),stableId:e.getDataHelpId()||e.getVizRefId(),control:e,domRef:e.getDomRef()};var n=[];this._aTileActionProviders.forEach(function(e){var o=e(t)||[];n.push.apply(n,o)});return Promise.resolve(n)};v.prototype._isBuiltInIntent=function(e){if(!v._aBuiltInRoutes){var t=v.getMetadata().getRoutes();v._aBuiltInRoutes=t.reduce(function(e,t){return e.concat(t.pattern)},[])}if(!e||!e.semanticObject||!e.action){return false}var o=e.semanticObject+"-"+e.action;return v._aBuiltInRoutes.indexOf(o)!==-1};this.addTopHeaderPlaceHolder=function(){};this.removeTopHeaderPlaceHolder=function(){};v.prototype.updateHeaderItem=function(e,t){var o=sap.ui.getCore().byId(e);if(o&&t){if(t.hasOwnProperty("floatingNumber")){o.setFloatingNumber(t.floatingNumber)}}};v.prototype.destroyButton=function(e){if(!e){return}e=typeof e==="string"?[e]:e;e.forEach(function(e){var t=sap.ui.getCore().byId(e);if(t){t.destroy()}})};return v},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/RendererExtensions",["sap/ushell/EventHub","sap/base/Log"],function(e,t){"use strict";function n(t){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);e.emit("RendererLoaded",{rendererName:"fiori2"})}function i(e,t){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",e,t)},0)}sap.ushell.renderers.fiori2.utils={};sap.ushell.renderers.fiori2.utils.publishExternalEvent=i;sap.ushell.renderers.fiori2.utils.init=n;function r(e,t,n){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(e.getId(),false,[t,n])}function s(e,t,n){sap.ushell.Container.getRenderer("fiori2").showActionButton(e.getId(),false,[t,n])}function o(e,t,n){sap.ushell.Container.getRenderer("fiori2").hideActionButton(e.getId(),false,[t,n])}function a(e,t,n){sap.ushell.Container.getRenderer("fiori2").showLeftPaneContent(e.getId(),false,[t,n])}function d(e,t){sap.ushell.Container.getRenderer("fiori2").hideLeftPaneContent(false,[e,t])}function u(e,t,n){sap.ushell.Container.getRenderer("fiori2").showFloatingActionButton(e.getId(),false,[t,n])}function l(e,t,n){sap.ushell.Container.getRenderer("fiori2").hideFloatingActionButton(e.getId(),false,[t,n])}function f(e,t,n){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(e.getId(),false,[t,n])}function h(e,t,n){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(e.getId(),false,[t,n])}function g(){return sap.ushell.Container.getRenderer("fiori2").getModelConfiguration()}function c(){t.info("Application calls sap.ushell.Rederer.addEndUserFeedbackCustomUI. This funciton is deprecated. The call has no effect.")}function p(e){sap.ushell.Container.getRenderer("fiori2").addUserPreferencesEntry(e)}function C(e){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(e)}function m(e,t){sap.ushell.Container.getRenderer("fiori2").setLeftPaneVisibility(e,t)}function I(e){sap.ushell.Container.getRenderer("fiori2").setHeaderHiding(e)}function R(e){sap.ushell.Container.getRenderer("fiori2").setFooter(e)}function H(){sap.ushell.Container.getRenderer("fiori2").removeFooter()}function b(){this.addHeaderItem=function(e,t,n){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(e.getId(),false,[t,n])};this.setHeaderItemVisibility=function(e,t,n,i){var r=sap.ui.getCore().byId(e);if(i){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(r.getId(),n,[t])}};this.addSubHeader=function(e,t,n){sap.ushell.Container.getRenderer("fiori2").showSubHeader(e.getId(),false,[t,n])};this.removeSubHeader=function(e,t,n){sap.ushell.Container.getRenderer("fiori2").hideSubHeader(e.getId(),false,[t,n])};this.addHeaderEndItem=f;this.removeHeaderItem=r;this.removeHeaderEndItem=h;this.addEndUserFeedbackCustomUI=c;this.addOptionsActionSheetButton=s;this.removeOptionsActionSheetButton=o;this.setFooter=R;this.removeFooter=H;this.addUserPreferencesEntry=p;this.setHeaderTitle=C;this.setHeaderHiding=I;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=u;this.removeFloatingActionButton=l;this.setLeftPaneContent=a;this.removeLeftPaneContent=d;this.setLeftPaneVisibility=m;this.getConfiguration=g}var v=new b;return v},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.controller",["./History","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/m/InstanceManager","sap/ui/core/Component","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/routing/HashChanger","sap/ui/core/routing/History","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/bootstrap/SchedulingAgent","sap/ushell/components/_HeaderManager/ControlManager","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/components/applicationIntegration/relatedServices/RelatedServices","sap/ushell/components/HeaderManager","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/performance/FesrEnhancer","sap/ushell/renderers/fiori2/LogonFrameProvider","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/services/Message","sap/ushell/UserActivityLog","sap/ushell/utils","sap/ushell/utils/WindowUtils"],function(e,t,i,n,a,o,s,r,l,h,p,c,d,g,u,f,v,C,m,w,y,S,b,A,_,P,D,H,F,U,I){"use strict";var N=s.routing.HistoryDirection;var k=b.AppType;var E=true;var R=false;var T;var L=C.getElementsModel();var M;var B={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0};var x={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"};var O={};A.init();return r.extend("sap.ushell.renderers.fiori2.Shell",{_aDoableObjects:[],onComponentTargetDisplay:function(e){var t=e.getParameters();var i=t.control;var n=t.object;if(this.bRestorePreviousHash){this.bRestorePreviousHash=false}i.navTo("centerViewPort",n.getId(),"show")},onInit:function(){var t=this;var i=o.getOwnerComponentFor(this.getView()).getRouter();i.getTarget("home").attachDisplay(this.onComponentTargetDisplay,this);i.getTarget("appfinder").attachDisplay(this.onComponentTargetDisplay,this);i.getTarget("pages").attachDisplay(this.onComponentTargetDisplay,this);i.getTarget("workpages").attachDisplay(this.onComponentTargetDisplay,this);i.getTarget("runtimeSwitcher").attachDisplay(this.onComponentTargetDisplay,this);if(y.last("/core/homeApp/enabled")){i.getTarget("homeapp").attachDisplay(this.onComponentTargetDisplay,this)}i.oHashChanger=l.getInstance();i.initialize(true);this.bEnableHashChange=true;E=true;var n=this.getView();var a=window.matchMedia("(min-width: 600px)"),s;var r=(n.getViewData()?n.getViewData().config:{})||{};C.parseStatefulContainerConfiguration(r.statefulApplicationContainer);var h=C.shellElements().model();w.init(r,h);this.initShellModel(r,h);var c=this.getView().updateShellAggregation;sap.ui.getCore().byId("shell-header").updateAggregation=c;sap.ui.getCore().byId("shell").updateAggregation=c;sap.ui.getCore().byId("right-floating-container").updateAggregation=c;sap.ui.getCore().byId("shell-split").updateAggregation=c;s=function(e){y.emit("/core/shell/model/isPhoneWidth",!e.matches)};if(a.addListener){a.addListener(s);s(a)}n.setModel(P.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appOpened",this.onAppOpened,this);sap.ui.getCore().getEventBus().subscribe("allSearchFinished",this._logSearchActivity,this);this._setConfigurationToModel();this._aDoableObjects=this._registerAndCreateEventHubDoables();T.addHeaderEndItem(["meAreaHeaderButton"],false,["home","app","minimal","standalone","embedded","embedded-home","lean"],true);var d=[];if(r&&!r.moveContactSupportActionToShellHeader){d.push("ContactSupportBtn")}this.history=new e;this.oViewPortContainer=sap.ui.getCore().byId("viewPortContainer");C.init(r.appState,this.oViewPortContainer,r.rootIntent,r.disableHomeAppCache,{ownerComponent:this.getOwnerComponent()},d,r.cacheConfiguration);var g=function(e,n){this.oShellNavigation=e;this.oShellNavigation.registerPrivateFilters(n);this.oShellNavigation.registerExtraRouter(i);this.oShellNavigation.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigation.init(this.doHashChange.bind(this));this.oShellNavigation.registerNavigationFilter(this._disableSourceAppRouter.bind(this));this.oShellNavigation.registerNavigationFilter(this.handleDataLoss.bind(this));this.oShellNavigation.hashChanger.attachEvent("hashChanged",function(e){if(window.hasher.disableBlueBoxHashChangeTrigger===true){return}if(e.mParameters&&t.oShellNavigation.hashChanger.isInnerAppNavigation(e.mParameters.newHash,e.mParameters.oldHash)){C.postMessageToIframeApp("sap.ushell.appRuntime","innerAppRouteChange",{oHash:e.mParameters})}C.postMessageToIframeApp("sap.ushell.appRuntime","hashChange",{sHash:e.mParameters.fullHash})});S.emit("ShellNavigationInitialized")}.bind(this);Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("ShellNavigation"),sap.ushell.Container.getServiceAsync("AppLifeCycle")]).then(function(e){this.oURLParsing=e[0];var t=e[1];this._oAppLifeCycleService=e[2];g(t,this._oAppLifeCycleService)}.bind(this));sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());if(p.system.desktop){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){e.init(M)})}window.onbeforeunload=function(){if(sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()&&!(p.browser.name===p.browser.BROWSER.INTERNET_EXPLORER&&C.getCurrentApplication().container.getApplicationType()===sap.ushell.ApplicationType.NWBC.type)){if(!P.browserI18n){P.browserI18n=P.getTranslationModel(window.navigator.language).getResourceBundle()}return P.browserI18n.getText("dataLossExternalMessage")}return undefined};if(y.last("/core/shell/model/contentDensity")){C.getAppMeta()._applyContentDensityClass()}this.initShellUIService();if(!r.disableSignOut&&(r.sessionTimeoutTileStopRefreshIntervalInMinutes>0||r.sessionTimeoutReminderInMinutes>0)){this._createSessionHandler(r)}if(p.system.desktop){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){this.oViewPortContainer.onfocusin=function(){e.bFocusOnShell=false;e.bFocusPassedToExternalHandlerFirstTime=false};this.oViewPortContainer.onfocusout=function(){e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true}}.bind(this))}},shellUpdateAggItem:function(e,t){return sap.ui.getCore().byId(t.getObject())},getViewPortContainer:function(){return sap.ui.getCore().byId("viewPortContainer")},_registerAndCreateEventHubDoables:function(){var e=[S.once("CenterViewPointContentRendered").do(this._loadCoreExt.bind(this)),S.once("PagesRuntimeRendered").do(this._loadCoreExt.bind(this)),S.once("AppRendered").do(this._loadCoreExtNonUI5.bind(this)),S.on("toggleContentDensity").do(this.toggleContentDensity.bind(this)),S.on("ShellFloatingContainerDockedIsResized").do(this._onResizeWithDocking.bind(this)),S.on("LaunchpadCustomRouterRouteMatched").do(this._centerViewPort.bind(this)),S.once("CoreResourcesComplementLoaded").do(this._onCoreResourcesComplementLoaded.bind(this)),S.once("loadRendererExtensions").do(this._loadRendererExtensionPlugins.bind(this)),S.once("loadUsageAnalytics").do(this._loadUsageAnalytics.bind(this)),S.once("loadWarmupPlugins").do(this._loadWarmupPlugins.bind(this)),S.once("loadTrackingActivitiesSetting").do(this._loadTrackingActivitiesSetting.bind(this)),S.on("centerViewPort").do(this._centerViewPort.bind(this))];return e},initShellModel:function(e,t){T=L;T.init(e,t);M=this.getView().getViewData().shellModel;y.emit("/core/shell/model/personalization",y.last("/core/shell/enablePersonalization"))},initShellUIService:function(){C.initShellUIService({fnOnBackNavigationChange:this.onBackNavigationChange.bind(this)});if(O.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],function(e){this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"})}.bind(this))}},onBackNavigationChange:function(e){C.setBackNavigationChanged(true);var t=e.getParameters().data,i=y.last("/core/shell/model/currentState");if(t){C.service().setNavigateBack(t);if(i.stateName==="minimal"||i.stateName==="standalone"||i.stateName==="embedded"){sap.ushell.Container.getRenderer("fiori2").showHeaderItem("backBtn",true)}}else{C.service().resetNavigateBack()}},toggleContentDensity:function(e){var t=e.contentDensity==="compact";C.getAppMeta()._applyContentDensityByPriority(t,true)},_handleEmptyHash:function(e){e=typeof e==="string"?e:"";e=e.split("?")[0];if(e.length===0){var t=this.getView()?this.getView().getViewData():{};O=t.config||{};if(O.migrationConfig){return this.oShellNavigation.NavigationFilterStatus.Continue}if(O.rootIntent){window.setTimeout(function(){window.hasher.setHash(O.rootIntent)},0);return this.oShellNavigation.NavigationFilterStatus.Abandon}}return this.oShellNavigation.NavigationFilterStatus.Continue},_setConfigurationToModel:function(){var e=this.getView().getViewData();if(e){O=e.config||{}}if(O){if(O.states){L.extendStates(O.states);w.extendStates(O.states)}if(O.enableSetTheme!==undefined){M.setProperty("/setTheme",O.enableSetTheme)}M.setProperty("/contentDensity",O.enableContentDensity===undefined?true:O.enableContentDensity);if(O.migrationConfig!==undefined){M.setProperty("/migrationConfig",O.migrationConfig)}if(O.enableUserDefaultParameters!==undefined){M.setProperty("/userDefaultParameters",O.enableUserDefaultParameters)}if(O.disableHomeAppCache!==undefined){M.setProperty("/disableHomeAppCache",O.disableHomeAppCache)}M.setProperty("/enableHelp",y.last("/core/extension/enableHelp"));M.setProperty("/searchAvailable",O.enableSearch!==false)}},_loadTrackingActivitiesSetting:function(e){this._getPersData({container:"flp.settings.FlpSettings",item:"userActivitesTracking"}).then(function(t){if(t===undefined){t=true}M.setProperty("/enableTrackingActivity",t);S.emit("StepDone",e.stepName)}).catch(function(i){S.emit("StepFailed",e.stepName);t.error("Failed to ltracking activities state state from the personalization",i,"sap.ushell.components.flp.settings.FlpSettings")})},_getPreviousPageDirty:function(){return R},_setPreviousPageDirty:function(e){R=e},getModelConfiguration:function(){var e=this.getView().getViewData(),t,i;if(e){t=e.config||{};i=g.extend({},t)}delete i.applications;return i},_getLogonFrameProvider:function(){return _},onExit:function(){this._aDoableObjects.forEach(function(e){e.off()});sap.ui.getCore().getEventBus().unsubscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().unsubscribe("allSearchFinished",this._logSearchActivity,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appOpened",this.onAppOpened,this);if(this.oShellNavigation){this.oShellNavigation.hashChanger.destroy()}if(this.getView()&&this.getView().destroyDanglingControls){this.getView().destroyDanglingControls()}var e=sap.ui.getCore().byId("shell-header");if(e&&e.destroy){e.destroy()}w.destroy();v.destroy();F.deactivate();T.destroy();C.shellElements().clean();C.destroy();T=undefined},_getCurrentAppRouter:function(){var e=this._oAppLifeCycleService,t=e&&e.getCurrentApplication&&e.getCurrentApplication(),i=t&&t.componentInstance;if(i){return i.getRouter()}return null},_disableSourceAppRouter:function(e,t){if(!this.bEnableHashChange||this.bRestorePreviousHash){return this.oShellNavigation.NavigationFilterStatus.Continue}var i=this.oShellNavigation.hashChanger.isInnerAppNavigation(e,t);if(!i){var n=this._getCurrentAppRouter();if(n){n.stop()}}return this.oShellNavigation.NavigationFilterStatus.Continue},_resumeAppRouterIgnoringCurrentHash:function(){var e=this._getCurrentAppRouter();if(e){e.initialize(true)}},handleDataLoss:function(e,t){var i=this.oShellNavigation.hashChanger;var n=i.getReloadApplication();if(this.bReloadApplication!==null&&this.bReloadApplication!==undefined){i.setReloadApplication(this.bReloadApplication);this.bReloadApplication=null}if(t===""||d.disableBlueBoxHashChangeTrigger===true){return this.oShellNavigation.NavigationFilterStatus.Continue}if(!this.bEnableHashChange&&!this.bRedoNavigation){this.bEnableHashChange=true;return this.oShellNavigation.NavigationFilterStatus.Custom}if(this.bRestorePreviousHash){return this.oShellNavigation.NavigationFilterStatus.Continue}if(this.bRedoNavigation){this.bRedoNavigation=false;this.bEnableHashChange=true;this.bExplaceNavigation=false;return this.oShellNavigation.NavigationFilterStatus.Continue}var a=this.oURLParsing.parseShellHash(e);var o=sap.ushell.Container.getRenderer()._isBuiltInIntent(a);var s=a.params["sap-ushell-navmode"];var r=s&&s[0];if(!o&&(this.bExplaceNavigation||r==="explace"||r==="frameless")){this.bExplaceNavigation=false;return this.oShellNavigation.NavigationFilterStatus.Continue}var l=sap.ushell.Container.getDirtyFlag();var p=sap.ushell.Container.isAsyncDirtyStateProviderSet();if(!p&&!l){R=l;return this.oShellNavigation.NavigationFilterStatus.Continue}var c=h.getInstance().getHistoryStateOffset()<0;Promise.all([this._waitForHash(t),sap.ushell.Container.getServiceAsync("NavTargetResolution"),sap.ushell.Container.getDirtyFlagsAsync()]).then(function(t){var i=t[1];var a=t[2];R=a;if(!a){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo");return}if(o){if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}}else{var s="#"+e;i.resolveHashFragment(s).then(function(t){var i=t.targetNavigationMode==="explace"||t.targetNavigationMode==="frameless";var a=c&&t.navigationMode===x.newWindowThenEmbedded;if(i&&!a){this.bExplaceNavigation=true;this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}else if(this._handleDirtyStateUserConfirm()){this.bRedoNavigation=true;this.bReloadApplication=n;this._restoreHashUsingAction(e,"redo")}}.bind(this)).catch(function(){this.bRedoNavigation=true;this._restoreHashUsingAction(e,"redo")}.bind(this))}}.bind(this));return this._restoreHashUsingAction(t,"undo")},_waitForHash:function(e){var t="#"+e;return new Promise(function(e){var i=function(){var n=t===decodeURIComponent(window.location.hash);if(n){window.removeEventListener("hashchange",i);e()}};window.addEventListener("hashchange",i)})},_handleDirtyStateUserConfirm:function(){if(window.confirm(P.i18n.getText("dataLossInternalMessage"))){sap.ushell.Container.setDirtyFlag(false);C.postMessageToIframeApp("sap.ushell.appRuntime","setDirtyFlag",{bIsDirty:false});if(m.isBackNavigation()===true){m.resetBackNavigationFlag()}R=true;return true}return false},_restoreHashUsingAction:function(e,t){var i=this.oShellNavigation.wasHistoryEntryReplaced();var n=this._getRestoreHashStrategy(i,t);this._resumeAppRouterIgnoringCurrentHash();return this._restoreHash(n,e)},_getRestoreHashStrategy:function(e,t){if(e){return{strategy:"replaceHash",stepCount:0}}var i;var n=h.getInstance().getHistoryStateOffset();if(n===undefined||n>=0){n=1}else if(n<0){n=-1}if(t==="undo"){if(n<0){i="historyForward"}else{i="historyBack"}this.sLastUndoStrategy=i}else{switch(this.sLastUndoStrategy){case"historyBack":i="historyForward";break;case"historyForward":i="historyBack";break;default:i="replaceHash"}}return{strategy:i,stepCount:1}},_restoreHash:function(e,t){var i={status:this.oShellNavigation.NavigationFilterStatus.Custom,hash:""};switch(e.strategy){case"historyBack":this.bEnableHashChange=false;this._windowHistoryBack(e.stepCount);break;case"historyForward":this.bEnableHashChange=false;this._windowHistoryForward(e.stepCount);break;case"replaceHash":this.bEnableHashChange=false;d.replaceHash(t);break;default:throw new Error("Cannot execute unknown navigation strategy")}return i},_isColdStart:function(){var e=sap.ushell.Container.getRenderer("fiori2");var t=!e||!e.getCurrentCoreView();if(this.history.getHistoryLength()<=1&&t){return true}this._isColdStart=function(){return false};return false},_setEnableHashChange:function(e){this.bEnableHashChange=e},_logRecentActivity:function(e){if(!this.oInitialEnableTrackingPromise){if(y.last("/core/shell/model/enableTrackingActivity")!==undefined){this.oInitialEnableTrackingPromise=Promise.resolve()}else{this.oInitialEnableTrackingPromise=new Promise(function(e,t){y.once("/core/shell/model/enableTrackingActivity").do(e)})}}return this.oInitialEnableTrackingPromise.then(function(){if(y.last("/core/shell/model/enableTrackingActivity")){return new Promise(function(t,i){D.addActivity(e).done(t).fail(i)})}t.warning("Tracking is not enabled",null,"sap.ushell.renderers.fiori2.Shell.controller");return undefined})},_logApplicationUsage:function(e){if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("UserRecents").then(function(t){t.addAppUsage(e)})}},doHashChange:function(e,t,i,n,a){c.start("FLP:ShellController.doHashChange","doHashChange","FLP");S.emit("trackHashChange",e);var o=sap.ui.getCore().byId("sapUshellDashboardPage");if(o){o.setBlocked(true);o.setBusy(true)}return this._doHashChange(this,e,t,i,n,a).then(function(){c.end("FLP:ShellController.doHashChange")},function(e){c.end("FLP:ShellController.doHashChange");S.emit("doHashChangeError",Date.now());if(o){o.setBlocked(false);o.setBusy(false)}})},_doHashChange:function(e,t,i,n,o,s){this._wasHistoryEntryReplaced=this.oShellNavigation.wasHistoryEntryReplaced();this.oShellNavigation.resetHistoryEntryReplaced();var r,l,h,p,d;if(!this.bEnableHashChange){this.bEnableHashChange=true;return g.when()}if(this.bRestorePreviousHash){this.bRestorePreviousHash=false;return g.when()}if(s){e.hashChangeFailure(e.history.getHistoryLength(),s.message,null,"sap.ushell.renderers.fiori2.Shell.controller",false);return g.when()}d=new g.Deferred;if(a&&E){a.closeAllDialogs();a.closeAllPopovers()}E=true;l=e.history.getHistoryLength();h=e.fixShellHash(t);p=e.fixShellHash(n);e.history.hashChange(h,n);e.currentAppBeforeNav=D.getCurrentApplication();e._resolveHashFragment(h).then(function(t,a){var s=a?a.semanticObject+"-"+a.action:"",u=e._getConfig(),f=!!(t&&t.componentHandle),v=t&&t.ui5ComponentName;t=e._calculateNavigationMode(a,t);e._handleEarlyNavigation(h,i,t).then(function(m){if(m!==true){if(u&&u.applications&&u.applications[s]){t.applicationConfiguration=u.applications[s]}r=C.getInMemoryInstance(s,h,i,n);if(r.isInstanceSupported){e._initiateApplication(t,h,a,l,i,p,o);d.resolve();return}if(f||!v){var w=new g.Deferred;if((t.applicationType==="URL"||t.applicationType==="GUI"||t.applicationType==="TR"||t.applicationType==="NWBC"||t.applicationType==="WDA"||t.applicationType==="WCF")&&r.isInstanceSupported===false&&r.appId){C.destroy(r.appId,r.container,w)}else{w.resolve()}w.done(function(){e._initiateApplication(t,h,a,l,i,p,o);d.resolve()});return}C.destroy(r.appId,r.container);C.removeApplication(s);D.setApplicationInInitMode();sap.ui.getCore().getEventBus().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:v});c.start("FLP:ShellController.UI5createComponent","UI5 createComponent","FLP");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){C.createComponent(t,a).done(function(){c.end("FLP:ShellController.UI5createComponent");e._initiateApplication(t,h,a,l,i)}).fail(function(t){var i=P.i18n.getText("cannot_load_ui5_component_details",[h]),n="Failed to load UI5 component for navigation intent "+h;D.setCurrentApplication(e.currentAppBeforeNav);e.hashChangeFailure(l,{title:P.i18n.getText("error"),message:P.i18n.getText("failed_to_open_ui5_component"),technicalMessage:n},{info:i,technicalMessage:t.message+"\n"+t.stack},"sap.ushell.renderers.fiori2.Shell.controller",false)})})}d.resolve()})},function(t){var i=P.i18n.getText("cannot_resolve_navigation_target_details",[h]),n="Failed to resolve navigation target: "+h+". This is most likely caused by an incorrect SAP Fiori launchpad content configuration or by missing role assignment.";e.hashChangeFailure(l,{title:P.i18n.getText("error"),message:P.i18n.getText("failed_to_open_app_missing_configuration_or_role_assignment"),technicalMessage:n},{info:i,fixedShellHash:h,technicalMessage:t},"sap.ushell.renderers.fiori2.Shell.controller",false);d.reject(n)});return d.promise()},_handleEarlyNavigation:function(e,t,i){var n=this;var a;return new Promise(function(o){n._openAppViaNWBC(i).then(function(s){if(s===true){i.sFixedShellHash=e;n.logOpenAppAction(i,t);a=sap.ui.getCore().byId("sapUshellDashboardPage");if(a){a.setBlocked(false);a.setBusy(false)}o(true);return}var r=i&&i.navigationMode===x.newWindow;if(r){i.sFixedShellHash=e;n.logOpenAppAction(i,t);n._openAppInNewWindowAndRestore(i);a=sap.ui.getCore().byId("sapUshellDashboardPage");if(a){a.setBlocked(false);a.setBusy(false)}o(true);return}if(y.last("/core/shell/model/migrationConfig")){O.migrationConfig=false;n.getModel().setProperty("/migrationConfig",false);if(i&&e==="#"){O.rootIntent=""}else if(e==="#"){window.setTimeout(function(){window.hasher.setHash(O.rootIntent)},0);o(true);return}}o(false);return})})},_initiateApplication:function(e,i,n,a,o,s,r){c.start("FLP:ShellController._initiateApplication","_initiateApplication","FLP");var l=D.getMetadata(e),h=y.last("/core/extension/SupportTicket"),p;if(l.title){window.document.title=l.title}else{t.debug("Shell controller._initiateApplication: the title of the window is not changed because most probably the application was resolved with undefined")}if(h){window.setTimeout(function(){F.activate()},0)}try{p=this.oShellNavigation.isInitialNavigation();this.navigate(n,i,l,e,s)}catch(e){if(e.stack){t.error("Application initialization (Intent: \n"+i+"\n failed due to an Exception:\n"+e.stack)}this.oShellNavigation.setIsInitialNavigation(p);this.hashChangeFailure(a,e.name,e.message,l?l.title:"",false)}c.end("FLP:ShellController._initiateApplication")},_resolveHashFragment:function(e){c.start("FLP:ShellController._resolveHashFragment","_resolveHashFragment","FLP");var t=this.oURLParsing.parseShellHash(e),i=new g.Deferred,n=this._getConfig();if(window["sap-ushell-async-libs-promise-directstart"]){window["sap-ushell-async-libs-promise-directstart"].then(function(e){i.resolve(e.resolvedHashFragment,t);delete window["sap-ushell-async-libs-promise-directstart"]},function(e){i.reject(e);delete window["sap-ushell-async-libs-promise-directstart"]});return i.promise()}sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(a){a.resolveHashFragment(e).done(function(e){D.setCurrentApplication(e);if(t&&t.semanticObject+"-"+t.action===n.rootIntent){e.navigationMode="embedded"}c.end("FLP:ShellController._resolveHashFragment");i.resolve(e,t)}).fail(function(e){i.reject(e)})});return i.promise()},_calculateNavigationMode:function(e,t){if(!t){return undefined}var i=t.navigationMode;if(i===x.newWindowThenEmbedded){if(this._isColdStart()||h.getInstance().getDirection()===N.Backwards){t.navigationMode=x.embedded}else{t.navigationMode=x.newWindow;if(!U.isNativeWebGuiNavigation(t)){t.url=this._getCurrentLocationHash()}}return t}if(i===x.newWindow&&this._isColdStart()){if(this._hasAppCapabilitiesNavigationMode(t)&&t.appCapabilities.navigationMode===x.embedded){t.navigationMode=x.embedded;return t}t.navigationMode=x.replace;return t}if(i===x.newWindow&&this._hasAppCapabilitiesNavigationMode(t)&&t.appCapabilities.navigationMode===x.embedded){t.url=this._getCurrentLocationHash()}return t},_hasAppCapabilitiesNavigationMode:function(e){return U.isPlainObject(e.appCapabilities)&&e.appCapabilities.hasOwnProperty("navigationMode")},_usesNavigationRedirect:function(e){if(!e){return(new g.Deferred).reject().promise()}var i=this,n=e.getInstance({});if(n&&typeof n.navigationRedirect==="function"){var a=new g.Deferred;var o=n.navigationRedirect();if(o&&typeof o.then==="function"){o.then(function(e){t.warning("Performing navigation redirect to hash "+e);n.destroy();i.history.pop();sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toExternal({target:{shellHash:e}},undefined,false);a.resolve(true)})},function(){a.reject()});return a.promise()}}return(new g.Deferred).reject().promise()},navigate:function(e,t,n,a,o){c.start("FLP:ShellController.navigate","navigate","FLP");var s=i(a)?a.navigationMode:null,r=this;if(s===null){if(this._isColdStart()){window.hasher.setHash("");return}this.bEnableHashChange=false;this.history.pop();this._windowHistoryBack(1);return Promise.resolve()}a=this._calculateNavigationMode(e,a);s=i(a)?a.navigationMode:null;if(s===x.embedded){if(!this._isColdStart()&&!this._wasHistoryEntryReplaced){this.oShellNavigation.setIsInitialNavigation(false)}var l=this._usesNavigationRedirect(a.componentHandle),h=new Promise(function(i,s){l.then(null,function(){r._handleEmbeddedNavMode(t,e,n,a,o).then(function(){S.emit("CloseFesrRecord",{date:Date.now(),technicalName:n.technicalName});i()})});c.end("FLP:ShellController.navigate")});return h}if(s===x.replace){this.oShellNavigation.setIsInitialNavigation(false);this.bEnableHashChange=false;this._changeWindowLocation(a.url);return Promise.resolve()}if(s===x.newWindow){this._openAppInNewWindowAndRestore(a);return Promise.resolve()}this.hashChangeFailure(this.history.getHistoryLength(),"Navigation mode is not recognized",null,"sap.ushell.renderers.fiori2.Shell.controller",false);return Promise.resolve()},_openAppViaNWBC:function(e){var i=this;return new Promise(function(n){var a;if(e&&(U.isNativeWebGuiNavigation(e)||e.nativeNWBCNavigation)){a=true}else{a=false}if(a===false){n(false);return}var o=U.getPrivateEpcm();var s=B[e.navigationMode];var r;var l;var h;if(U.hasNavigationModeCapability()){l=s||B[x.embedded]}h=i._appendUserIdToUrl("sap-user",e.url).then(function(t){r=U.appendSapShellParam(t);return new Promise(function(t){try{var i=e.applicationType,n=e.appCapabilities&&e.appCapabilities.appFrameworkId,a={},o=[],s,l=function(){a["sap-flp-url"]=sap.ushell.Container.getFLPUrl(true);a["system-alias"]=e.systemAlias;return[{name:"sap-flp-params",value:JSON.stringify(a)}]},h=function e(t,i){var n=[],a,o=function(e,o){if(t.indexOf(e+"=")>0){a=new RegExp("(?:"+e+"=)([^&/]+)").exec(t);if(a&&a.length===2){n.push([a[1]]);i.push(o)}}};o("sap-iapp-state","sap-iapp-state-data");o("sap-xapp-state","sap-xapp-state-data");o("sap-intent-param","sap-intent-param-data");return n};if(i==="GUI"||i==="TR"||i==="NWBC"||i==="WDA"||i==="WCF"||n==="GUI"||n==="WDA"||n==="NWBC"||n==="WCF"){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){s=h(r,o);if(s.length>0){e.getAppStateData(s).then(function(e){o.forEach(function(t,i){if(e[i][0]){a[t]=e[i][0]}});t(l())},function(e){t()})}else{t(l())}})}else{t()}}catch(e){t()}})});h.then(function(a){try{sap.ui.getCore().getEventBus().publish("launchpad","appOpening",e);if(!o.doNavigate(r,l,undefined,undefined,undefined,undefined,undefined,a)){n(false);return}sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",e);i._restoreAfterNwbcNavigation(e).then(function(){if(i._oAppLifeCycleService.getCurrentApplication()&&i._oAppLifeCycleService.getCurrentApplication().homePage){i._toggleMenu(true)}n(true)})}catch(a){if(a.stack){t.error("Application initialization failed due to an Exception:\n"+a.stack)}i.hashChangeFailure(i.history.getHistoryLength(),a.name,a.message,e.text,false);n(false)}})})},_restoreAfterNwbcNavigation:function(e){if(this.history.getHistoryLength()===1&&!this._oAppLifeCycleService.getCurrentApplication()){return sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal({target:{shellHash:"#"},writeHistory:false})})}this._restorePreviousHashAfterOpenNewWindow(e);return Promise.resolve()},_appendUserIdToUrl:function(e,t){return sap.ushell.Container.getServiceAsync("UserInfo").then(function(i){var n=i.getUser().getId(),a=t.indexOf("?")>=0?"&":"?";return t+a+e+"="+n})},_restorePreviousHashAfterOpenNewWindow:function(e){this.history.pop();var t=e.componentHandle&&e.componentHandle.getInstance&&e.componentHandle.getInstance({});if(t){t.destroy()}this._resumeAppRouterIgnoringCurrentHash();this.bRestorePreviousHash=true;this._windowHistoryBack(1);D.setCurrentApplication(this.currentAppBeforeNav);S.emit("openedAppInNewWindow",Date.now())},_openAppInNewWindowAndRestore:function(e){sap.ui.getCore().getEventBus().publish("launchpad","appOpening",e);this._openAppNewWindow(e.url);sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",e);this._restorePreviousHashAfterOpenNewWindow(e)},_handleEmbeddedNavMode:function(e,t,i,n,a){c.start("FLP:ShellController._handleEmbeddedNavMode","_handleEmbeddedNavMode","FLP");var o=this._getConfig(),s,r,l,h;this.resetShellUIServiceHandlers();C.getAppMeta().setAppIcons(i);s="-"+t.semanticObject+"-"+t.action;l=e==="#"||o.rootIntent&&U.getBasicHash(o.rootIntent)===t.semanticObject+"-"+t.action;h=t?t.semanticObject+"-"+t.action:"";C.switchViewState(C.shellElements().calculateElementsState(l?"home":"app",n.applicationType,o.appState,n.explicitNavMode),undefined,s);if(l){C.getShellUIService().setBackNavigation()}r=C.handleControl(h,s,t,n,this.getWrappedApplicationWithMoreStrictnessInIntention.bind(this),e,a);if(this.currentAppBeforeNav){var p;p=C.getWebGuiV1StatefulContainer(this.currentAppBeforeNav.url);if(p){p.onApplicationOpened(n.applicationType)}}c.end("FLP:ShellController._handleEmbeddedNavMode");return r},_centerViewPort:function(){this.oViewPortContainer.switchState("Center")},_isShellHomeIntent:function(e){return e==="#"||e===O.rootIntent},getWrappedApplicationWithMoreStrictnessInIntention:function(e,i,n,a,o,s,r){var l,h,d,g=this;if(p.system.desktop){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){var t=sap.ui.getCore().byId("shellAppTitle");if(t&&y.last("/core/shell/model/currentState/stateName")==="app"){var i=t.getFocusDomRef();if(i){e.sendFocusBackToShell(i.getAttribute("id"))}}})}window.setTimeout(function(){window.setTimeout(function(){g.readNavigationEnd()},600);sap.ui.getCore().getEventBus().publish("launchpad","appOpening",a);t.info("app is being opened")},0);if(O.applications){a.applicationConfiguration=O.applications[e]}l=C.getAppContainer(o,a,this._isColdStart(),n,r);a.sFixedShellHash=r;C.publishNavigationStateEvents(l,a,this.onAppAfterRendering.bind(this,a));h=l.getApplicationType();d=l.getFrameworkId();if(h==="GUI"||h==="TR"||h==="WDA"||h==="NWBC"||h==="WCF"||d==="GUI"||d==="WDA"||d==="NWBC"||d==="WCF"){l.addStyleClass("sapUShellApplicationContainerShiftedIframe")}if(!s){l.addStyleClass("sapUShellApplicationContainerLimitedWidth")}if(this._isDock()&&window.matchMedia("(min-width: 106.4rem)").matches){l.addStyleClass("sapUShellDockingContainer");l.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}else if(this._isDock()){l.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}l.toggleStyleClass("sapUshellDefaultBackground",!i.hideLightBackground);C.getAppMeta()._applyContentDensityByPriority();C.addControl(l);U.setPerformanceMark("FLP - addAppContainer");c.end("FLP:ShellController.getWrappedApplication");return l},resetShellUIServiceHandlers:function(){C.getAppMeta().resetShellUIServiceHandlers();C.setBackNavigationChanged(false)},onAppAfterRendering:function(e){var i=C.getShellUIService();window.setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",e);t.info("app was opened")},0);var n=C._publicEventDataFromResolutionResult(e);S.emit("AppRendered",n,true);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appOpened",n);U.setPerformanceMark("FLP.appOpened");if(i){C.initAppMetaParams()}T.updateStateProperty("application/icon",C.getAppMeta().getAppIcon(),true)},_saveHomePageComponent:function(){if(this.oHomeApp){return}var e=this,t="sap.ushell",i=function(n,a,o){e.oHomeApp=o.component;sap.ui.getCore().getEventBus().unsubscribe(t,"appComponentLoaded",i)};sap.ui.getCore().getEventBus().subscribe(t,"appComponentLoaded",i)},hashChangeFailure:function(e,t,i,a,o){var s=sap.ui.getCore().byId("sapUshellDashboardPage");if(s){s.setBlocked(false);s.setBusy(false)}if(U.isPlainObject(t)){this.reportError(t.technicalMessage,i.technicalMessage,a);sap.ushell.Container.getServiceAsync("Message").then(function(e){e.show(H.Type.ERROR,t.message,{title:t.title,details:i})})}else{this.reportError(t,i,a);this.delayedMessageError(P.i18n.getText("fail_to_start_app_try_later"))}E=false;this._resumeAppRouterIgnoringCurrentHash();if(e===0){window.hasher.setHash("")}else if(new n(window.location.href).get("bFallbackToShellHome")){window.hasher.setHash("")}else{this.bEnableHashChange=o;sap.ushell.Container.setDirtyFlag(R);C.postMessageToIframeApp("sap.ushell.appRuntime","setDirtyFlag",{bIsDirty:R});this._windowHistoryBack(1)}},reportError:function(e,i,n){t.error(e,i,n)},delayedMessageError:function(e){window.setTimeout(function(){if(sap.ushell.Container!==undefined){sap.ushell.Container.getServiceAsync("Message").then(function(t){t.error(e)})}},0)},fixShellHash:function(e){if(!e){e="#"}else if(e.charAt(0)!=="#"){e="#"+e}return e},_openAppNewWindow:function(e){var t=I.openURL(e);if(!t&&!this._checkWindowLocationSearch("workzone-mobile-app=true")){var i=P.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(i)}},_checkWindowLocationSearch:function(e){return window.location.search.indexOf(e)>-1},_windowHistoryBack:function(e){window.history.go(-1*e)},_windowHistoryForward:function(e){window.history.go(e)},_changeWindowLocation:function(e){window.location.href=e},_toggleMenu:function(e){var t=sap.ui.getCore().byId("menuBarComponentContainer");var i=t&&t.getComponentInstance&&t.getComponentInstance();if(i&&i.setVisible){i.setVisible(e)}},onAppOpened:function(e,t,i){if(i.targetNavigationMode!=="explace"&&i.targetNavigationMode!=="frameless"){this._toggleMenu(false)}var n=this.oShellNavigation.hashChanger.getAppHash(),a=n?"&/"+n:null;this.logOpenAppAction(i,a)},externalSearchTriggered:function(e,t,i){y.emit("/core/shell/model/searchTerm",i.searchTerm);i.query=i.searchTerm},onBeforeNavigate:function(e){var t=e.getParameter("to");var i=this.getOwnerComponent();var n=t===i.byId("Shell-home-component-container");var a=t===i.byId("pages-component-container");var o=t===i.byId("homeApp-component-container");var s=t===i.byId("workPageRuntime-component-container");var r=t===i.byId("runtimeSwitcher-component-container");var l=n||a||o||s||r;C.onBeforeNavigate(e.getParameter("fromId"),e.getParameter("from"),e.getParameter("toId"),e.getParameter("to"));this._toggleMenu(l)},onAfterNavigate:function(e){var t=e.mParameters?e.mParameters.toId:undefined;var i=sap.ui.getCore().byId("sapUshellDashboardPage");if(i){i.setBlocked(false);i.setBusy(false)}C.onAfterNavigate(e.getParameter("fromId"),e.getParameter("from"),t,e.getParameter("to"));sap.ui.getCore().getEventBus().publish("sap.ushell","navigated",{})},logOpenAppAction:function(e,t){var i=y.last("/core/shell/enableRecentActivity")&&y.last("/core/shell/enableRecentActivityLogging");if(!i){return}var n={};var a=D.getMetadata(e);var o=e.sFixedShellHash;var s=o;if(t){s+=t}n.title=a.title;n.appType=k.APP;n.url=s;var r=this.oURLParsing.parseShellHash(o);if(r){n.appId="#"+this.oURLParsing.constructShellHash({semanticObject:r.semanticObject,action:r.action})}else{n.appId=o}if(o&&o.indexOf("#Action-search")===-1){window.setTimeout(function(){this._logRecentActivity(n)}.bind(this),1500)}},_logSearchActivity:function(){if(y.last("/core/shell/enableRecentActivity")&&y.last("/core/shell/enableRecentActivityLogging")){var e="";try{e=sap.ui.getCore().byId("searchFieldInShell-input").getModel().getLastSearchTerm()}catch(e){t.error("Shell: last search term is not available to log a recent activity")}this._logRecentActivity({appId:"#Action-search",appType:k.SEARCH,title:e,url:"#"+window.hasher.getHash()})}},readNavigationEnd:function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=P.i18n.getText("loadingComplete");window.setTimeout(function(){e.setAttribute("aria-live","off");e.innerHTML=""},0)}},_loadCoreExtNonUI5:function(e){if(e&&e.applicationType!=="SAPUI5"){this._loadCoreExt()}},_loadUsageAnalytics:function(e){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(t){t.init(P.i18n.getText("usageAnalytics"),P.i18n.getText("i_agree"),P.i18n.getText("i_disagree"),P.i18n.getText("remind_me_later"));S.emit("StepDone",e.stepName)},function(){S.emit("StepFailed",e.stepName)})},_onCoreResourcesComplementLoaded:function(){U.setPerformanceMark("SchedulingAgent-StartOfFlow");var e=this.getView();if(e){e.createPostCoreExtControls()}f._initialize();S.emit("startScheduler")},_loadRendererExtensionPlugins:function(e){var t=new n(window.location.href),i=t.get("sap-ushell-xx-pluginmode")==="delayed";function a(t){function n(){S.emit("StepDone",e.stepName)}function a(){t.loadPlugins("RendererExtensions").always(n)}if(!O.inHeaderLessOpt){if(i){window.setTimeout(a,5e3)}else{a()}}else{n()}}sap.ushell.Container.getServiceAsync("PluginManager").then(a.bind(this))},_loadWarmupPlugins:function(e){sap.ushell.Container.getServiceAsync("PluginManager").then(function(i){i.loadPlugins("AppWarmup").always(function(){t.debug("WARMUP plugins loaded",null,"sap.ushell.renderers.fiori2.Shell");S.emit("StepDone",e.stepName);U.setPerformanceMark("SchedulingAgent-EndOfFlow");U.setPerformanceMeasure("SchedulingAgentTotalTime","SchedulingAgent-StartOfFlow","SchedulingAgent-EndOfFlow")})})},_loadCoreExt:function(){c.end("FLP:Container.InitLoading");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){S.emit("loadCoreResourcesComplement")})},getCurrentViewportState:function(){return y.last("/core/shell/model/currentViewPortState")},_activateFloatingUIActions:function(e){if(e<417){this.oFloatingUIActions.disable()}else{this.oFloatingUIActions.enable()}},setFloatingContainerDragSelector:function(e){g(e).addClass("sapUshellShellFloatingContainerSelector");sap.ui.require(["sap/ushell/UIActions"],function(i){if(!this.oFloatingUIActions){this.oFloatingUIActions=new i({containerSelector:".sapUiBody",wrapperSelector:".sapUshellShellFloatingContainerWrapper",draggableSelector:".sapUshellShellFloatingContainerWrapper",rootSelector:".sapUiBody",cloneClass:"sapUshellFloatingContainer-clone",dragCallback:this._handleFloatingContainerUIStart.bind(this),endCallback:this._handleFloatingContainerDrop.bind(this),moveTolerance:3,onDragStartUIHandler:this._onDragStartUI.bind(this),onDragEndUIHandler:this._setFloatingContainerHeight.bind(this),dragAndScrollCallback:this._doDock.bind(this),switchModeDelay:1e3,isLayoutEngine:false,isTouch:false,elementToCapture:e,defaultMouseMoveHandler:function(){},debug:t.getLevel()>=t.Level.DEBUG})}else{this.oFloatingUIActions.elementsToCapture=g(e)}this._activateFloatingUIActions(g(window).width());var n;g(window).bind("resize",function(){clearTimeout(n);n=window.setTimeout(this._activateFloatingUIActions(g(window).width()),300)}.bind(this))}.bind(this))},_doDock:function(e){c.start("FLP:Shell.controller._doDock","dragging co-pilot element","FLP");var t=p.media.getCurrentRange(p.media.RANGESETS.SAP_STANDARD);if(t.name==="Desktop"){var i=g(window).width();if(e){e.docked={};var n=e.docked;if(e.moveX>=i-64){n.dockPos="right";n.setIsDockingAreaOpen=true;this._openDockingArea(e)}else if(e.moveX<64){n.dockPos="left";n.setIsDockingAreaOpen=true;this._openDockingArea(e)}else{if(this._isDockingAreaOpen()){this._closeDockingArea(e)}if(g("#canvas").hasClass("sapUshellContainerDocked")){this._handleCloseCanvas(e)}}}}c.end("FLP:Shell.controller._doDock")},_finishDoDock:function(e){this._openDockingArea(false);var t=new u(u.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");t.put("lastState","docked:"+e.dockPos);this._handleOpenCanvas(e);var i=g("#sapUshellFloatingContainerWrapper");i.css("height","100%");g("#shell-floatingContainer").addClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsDocked")},_onResizeWithDocking:function(){window.setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appFinderWithDocking")},300)},_onDragStartUI:function(e){c.start("FLP:Shell.controller._onDragStartUI","start drag","FLP");if(this._isDock()){var t=new u(u.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");t.put("lastState","floating");g("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDocked");g(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDocked");g("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");g("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedMinimizeCoPilot");g(g(".sapUshellContainerDockedMinimizeCoPilot")).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",this._handleAnimations(false));this._handleCloseCanvas(e)}c.end("FLP:Shell.controller._onDragStartUI")},_handleAnimations:function(e){var t="sapUshellContainerDockedLaunchpad";var i=g("#sapUshellFloatingContainerWrapper");if(e){g("#canvas, #shell-header").addClass(t);i.addClass("sapUshellContainerDockedExtendCoPilot");this._onResizeWithDocking()}else{g("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedExtendCoPilot")}},_openDockingArea:function(e){var t=e?e.docked:false;var i=t?t.setIsDockingAreaOpen:false;if(i&&g("#DockingAreaDiv").length===0){var n=sap.ui.getCore().getConfiguration().getRTL();if(t.dockPos==="right"&&e.clone&&!n||t.dockPos==="left"&&e.clone&&n){g('<div id="DockingAreaDiv" class="sapUshellShellDisplayDockingAreaRight">').appendTo(e.clone.parentElement)}else if(t.dockPos==="left"&&e.clone&&!n||t.dockPos==="right"&&e.clone&&n){g('<div id="DockingAreaDiv" class="sapUshellShellDisplayDockingAreaLeft">').appendTo(e.clone.parentElement)}e.clone.oDockedProp={};e.clone.oDockedProp.dockPos=t.dockPos}else if(!i){this._closeDockingArea()}},_closeDockingArea:function(){window.setTimeout(function(){g(".sapUshellShellDisplayDockingAreaRight").remove();g(".sapUshellShellDisplayDockingAreaLeft").remove()},150)},_isDock:function(){return g(".sapUshellContainerDocked").length!==0},_isDockingAreaOpen:function(){return g(".sapUshellShellDisplayDockingAreaRight").length!==0||g(".sapUshellShellDisplayDockingAreaLeft").length!==0},_handleOpenCanvas:function(e){var t=g("#canvas");var i=g(".sapUshellShellHead");var n=sap.ui.getCore().getConfiguration().getRTL();if(e.dockPos==="right"&&!n||e.dockPos==="left"&&n){t.addClass("sapUshellContainer-Narrow-Right sapUshellContainerDocked ");i.addClass("sapUshellHead-Narrow-Right sapUshellContainerDocked")}if(e.dockPos==="left"&&!n||e.dockPos==="right"&&n){t.addClass("sapUshellContainer-Narrow-Left sapUshellContainerDocked ");i.addClass("sapUshellHead-Narrow-Left sapUshellContainerDocked")}var a=sap.ui.getCore().byId("viewPortContainer");if(a){a._handleSizeChange()}},_handleCloseCanvas:function(e){var t=g("#canvas");var i=g(".sapUshellShellHead");if(e){e.docked.setIsDockingAreaOpen=false}if(t.hasClass("sapUshellContainer-Narrow-Right")){t.removeClass("sapUshellContainer-Narrow-Right sapUshellContainerDocked sapUshellMoveCanvasRight");i.removeClass("sapUshellHead-Narrow-Right sapUshellContainerDocked");this._openDockingArea(e);this._setFloatingContainerHeight()}if(t.hasClass("sapUshellContainer-Narrow-Left")){t.removeClass("sapUshellContainer-Narrow-Left sapUshellContainerDocked sapUshellMoveCanvasLeft");i.removeClass("sapUshellHead-Narrow-Left sapUshellContainerDocked");this._openDockingArea(e);this._setFloatingContainerHeight()}this._onResizeWithDocking();var n=sap.ui.getCore().byId("viewPortContainer");if(n){n._handleSizeChange()}},_setFloatingContainerHeight:function(e){var t=g(window).width();var i=g("#sapUshellFloatingContainerWrapper");if(this._isDock()){if(e&&(e.clientX>=t-64||e.clientX<64)){i.addClass(" sapUshellContainerDocked");i.addClass("sapUshellContainerDockedMinimizeCoPilot");g(i).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",this._handleAnimations(true))}}else if(!this._isDock()){g("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot")}},_handleFloatingContainerDrop:function(e,t,i){c.start("FLP:Shell.controller._handleFloatingContainerDrop","drop floating container","FLP");var n=t.firstChild?sap.ui.getCore().byId(t.firstChild.id):undefined,a=new u(u.Type.local,"com.sap.ushell.adapters.local.FloatingContainer"),o=g(window).width(),s=g(window).height(),r=i.deltaX/o,l=i.deltaY/s,h=t.style.visibility,p=t.style.display,d=parseFloat(t.style.left.replace("%","")),f=parseFloat(t.style.top.replace("%",""));if(typeof d==="number"){r=d+100*i.deltaX/o}if(typeof f==="number"){l=f+100*i.deltaY/s}if(this._isDockingAreaOpen()){l=0}t.style.left=r+"%";t.style.top=l+"%";t.style.position="absolute";t.style.display="block";t.visibility=h;t.display=p;a.put("floatingContainerStyle",t.style.cssText);if(n){n.handleDrop();if(!!i.clone.oDockedProp&&this._isDockingAreaOpen()){this._finishDoDock(i.clone.oDockedProp)}}c.end("FLP:Shell.controller.handleFloatingContainerDrop")},_handleFloatingContainerUIStart:function(e,t){c.start("FLP:Shell.controller._handleFloatingContainerUIStart","starts dragging floating container","FLP");var i=t;i.style.display="none";if(window.getSelection){var n=window.getSelection();try{n.removeAllRanges()}catch(e){}}c.end("FLP:Shell.controller._handleFloatingContainerUIStart")},getFloatingContainerState:function(){var e=new u(u.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");var t="floating";if(e!==null){t=e.get("lastState");if(t===null){t="floating"}}return t},setFloatingContainerVisibility:function(e){var t=this.getFloatingContainerState();if(t){if(t==="floating"){this.getView().getOUnifiedShell().setFloatingContainerVisible(e)}else if(t.indexOf("docked")!==-1){var i=sap.ui.getCore().byId("viewPortContainer");if(e===true){var n=p.media.getCurrentRange(p.media.RANGESETS.SAP_STANDARD);if(n.name==="Desktop"){var a=g("#sapUshellFloatingContainerWrapper");a.addClass("sapUshellContainerDocked");g("#canvas, .sapUshellShellHead").addClass("sapUshellContainerDocked");a.css("height","100%");sap.ui.getCore().byId("shell-floatingContainer").addStyleClass("sapUshellShellFloatingContainerFullHeight");if(i){i._handleSizeChange()}if(sap.ui.getCore().getConfiguration().getRTL()){if(t.indexOf("right")!==-1){g("#canvas").addClass("sapUshellContainer-Narrow-Left");g(".sapUshellShellHead").addClass("sapUshellHead-Narrow-Left");this._handleAnimations(true)}else{g("#canvas").addClass("sapUshellContainer-Narrow-Right");g(".sapUshellShellHead").addClass("sapUshellHead-Narrow-Right");this._handleAnimations(true)}}else if(t.indexOf("right")!==-1){g("#canvas").addClass("sapUshellContainer-Narrow-Right");g(".sapUshellShellHead").addClass("sapUshellHead-Narrow-Right");this._handleAnimations(true)}else{g("#canvas").addClass("sapUshellContainer-Narrow-Left");g(".sapUshellShellHead").addClass("sapUshellHead-Narrow-Left");this._handleAnimations(true)}window.setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(e)}.bind(this),400)}else{new u(u.Type.local,"com.sap.ushell.adapters.local.CopilotLastState").put("lastState","floating");this.getView().getOUnifiedShell().setFloatingContainerVisible(e)}}else{this._handleAnimations(false);if(i){i._handleSizeChange()}window.setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(e)}.bind(this),400);g("#canvas, .sapUshellShellHead").removeClass("sapUshellContainerDocked sapUshellContainer-Narrow-Right sapUshellContainer-Narrow-Left")}g("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");this._onResizeWithDocking();if(i){i._handleSizeChange()}}}},getFloatingContainerVisibility:function(){return this.getView().getOUnifiedShell().getFloatingContainerVisible()},setFloatingContainerContent:function(e,t,i,n){T.setFloatingContainerContent(e,t,i,n)},getRightFloatingContainerVisibility:function(){var e=this.getView().getOUnifiedShell().getRightFloatingContainer(),t=e&&e.getVisible();return t},setHeaderTitle:function(e){w.updateStates({propertyName:"title",value:e||"",aStates:["home","app"],bCurrentState:false,bDoNotPropagate:false})},setFooter:function(e){var i=this.getView().getOUnifiedShell();if(typeof e!=="object"||!e.getId){throw new Error("oFooter value is invalid")}if(i.getFooter()!==null){t.warning("You can only set one footer. Replacing existing footer: "+i.getFooter().getId()+", with the new footer: "+e.getId()+".")}i.setFooter(e)},removeFooter:function(){this.getView().getOUnifiedShell().setFooter(null)},addUserPreferencesEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateUserPrefModel(e)},addUserProfilingEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateProfilingModel(e)},_validateUserPrefEntryConfiguration:function(e){if(!e||typeof e!=="object"){throw new Error("object oConfig was not provided")}if(!e.title){throw new Error("title was not provided")}if(!e.value){throw new Error("value was not provided")}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid")}else if(e.entryHelpID===""){throw new Error("entryHelpID type is invalid")}}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid")}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid")}if(e.onSave&&typeof e.onSave!=="function"){throw new Error("onSave type is invalid")}if(e.content&&typeof e.content!=="function"){throw new Error("content type is invalid")}if(e.onCancel&&typeof e.onCancel!=="function"){throw new Error("onCancel type is invalid")}},_createSessionHandler:function(e){var t=this,i=2e4;sap.ui.require(["sap/ushell/SessionHandler"],function(n){t.oSessionHandler=new n(C);t.oSessionHandler.initLogout();window.setTimeout(function(){t.oSessionHandler.init({sessionTimeoutReminderInMinutes:e.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:e.sessionTimeoutIntervalInMinutes,sessionTimeoutTileStopRefreshIntervalInMinutes:e.sessionTimeoutTileStopRefreshIntervalInMinutes,enableAutomaticSignout:e.enableAutomaticSignout})},i)})},_getSessionHandler:function(){return this.oSessionHandler},_navBack:function(){this.setMeAreaSelected(false);C.service().navigateBack()},_updateUserPrefModel:function(e){var t=this._getModelEntryFromEntryObject(e),i=y.last("/core/userPreferences/entries");i.push(t);i=this._reorderUserPrefEntries(i);y.emit("/core/userPreferences/entries",i)},_updateProfilingModel:function(e){var t=this._getModelEntryFromEntryObject(e),i=y.last("/core/userPreferences/profiling")||[];i.push(t);y.emit("/core/userPreferences/profiling",i)},_getModelEntryFromEntryObject:function(e){return{entryHelpID:e.entryHelpID,title:e.title,valueArgument:e.value,valueResult:null,onSave:e.onSave,onCancel:e.onCancel,contentFunc:e.content,contentResult:null,icon:e.icon,provideEmptyWrapper:e.provideEmptyWrapper}},_reorderUserPrefEntries:function(e){var t=[],i=["userAccountEntry","themes","homepageEntry","spacesEntry","userActivitiesEntry","userProfiling","language","notificationsEntry","userDefaultEntry"],n,a={};for(var o=e.length-1;o>=0;o--){if(i.indexOf(e[o].id)!==-1){n=e.splice(o,1)[0];a[n.id]=n}}i.forEach(function(e){var i=a[e];if(i){t.push(i)}});return t.concat(e)},getModel:function(){return M},_getConfig:function(){return O||{}},_getPersData:function(e){var t=o.getOwnerComponentFor(this.getView());return new Promise(function(i,n){sap.ushell.Container.getServiceAsync("Personalization").then(function(a){var o={keyCategory:a.constants.keyCategory.FIXED_KEY,writeFrequency:a.constants.writeFrequency.LOW,clientStorageAllowed:true};var s=a.getPersonalizer(e,o,t);s.getPersData().then(i).fail(n)})})},_getCurrentLocationHash:function(){return window.location.hash},setMeAreaSelected:function(e){S.emit("showMeArea",e)},getMeAreaSelected:function(){return y.last("/core/shell/model/currentViewPortState")==="LeftCenter"},setNotificationsSelected:function(e){S.emit("showNotifications",e)},getNotificationsSelected:function(){return y.last("/core/shell/model/currentViewPortState")==="RightCenter"}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/Shell.view",["sap/ui/core/library","sap/ushell/library","sap/ui/Device","sap/ushell/components/_HeaderManager/ControlManager","sap/ushell/components/_HeaderManager/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/EventHub","sap/ui/model/json/JSONModel","sap/ui/core/mvc/XMLView"],function(e,t,i,n,l,o,a,s,r,h,d,u){"use strict";function g(e,t){return sap.ui.getCore().byId(t.getObject())}sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(e){this.oController=e;var t=this.getViewData()||{},i=t.config||{};this.oConfig=i;this.aDanglingControls=[];this._allowUpToThreeActionInShellHeader(i);var n=sap.ui.xmlfragment("sap.ushell.ui.ShellLayout",e),l=this.createShellHeader(i,this.getViewData().shellModel);n.setHeader(l);l.setShellLayout(n);h.once("CreateToolArea").do(function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],function(e){var t=new e({id:"shell-toolArea",toolAreaItems:{path:"/currentState/toolAreaItems",factory:g}});t.updateAggregation=this.updateShellAggregation;t.addEventDelegate({onAfterRendering:function(){n.applySplitContainerSecondaryContentSize()}});n.setToolArea(t)}.bind(this))}.bind(this));this.setOUnifiedShell(n);this.setDisplayBlock(true);this.addDanglingControl(sap.ui.getCore().byId("viewPortContainer"));s.setPerformanceMark("FLP - Shell.view rendering started!");return n},_allowUpToThreeActionInShellHeader:function(e){if(Object.keys(e).length>3){var t=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"],i=0,n;for(var l=0;l<5;l++){n=t[l];if(i===3){e[n]=false}else if(e[n]){i++}}}},createShellHeader:function(e,t){var i=r.createModel("/core/shellHeader",d),o=new l,s;o.onInit();s=sap.ui.xmlfragment("sap.ushell.ui.ShellHeader",o);n.init(e,o,t);if(e.appState==="embedded"){s.setNoLogo()}s.setModel(i);s.setModel(a.i18nModel,"i18n");s.createUIArea();return s},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],function(e,t){var n=sap.ui.getCore().byId("shell");if(!n){return}var l=new e({id:"shell-floatingContainer",content:{path:"/currentState/floatingContainerContent",factory:g}});if(i.system.desktop){l.addCustomData(new o({key:"tabindex",value:"-1",writeToDom:true}))}l.setModel(n.getModel());this.addDanglingControl(l);var a=new t({id:"shell-floatingActions",floatingActions:{path:"/currentState/floatingActions",factory:g}});a.updateAggregation=this.updateShellAggregation;var s=this.getOUnifiedShell();s.setFloatingContainer(l);s.setFloatingActionsContainer(a);this._createAllMyAppsView()}.bind(this))},_createAllMyAppsView:function(){var e=function(e){if(e.isEnabled()){this._initializeAllMyAppsView()}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(e)},_initializeAllMyAppsView:function(){u.create({id:"allMyAppsView",viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps"}).then(function(e){var t=this.getModel();e.setModel(t);e.setModel(a.i18nModel,"i18n");e.addCustomData(new o({key:"aria-label",value:a.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(e)}.bind(this))},getOUnifiedShell:function(){return this.oUnifiedShell},setOUnifiedShell:function(e){this.oUnifiedShell=e},updateShellAggregation:function(e){var t=this.mBindingInfos[e],i=this.getMetadata().getJSONKeys()[e],n;this[i._sGetter]().forEach(function(e){this[i._sRemoveMutator](e)}.bind(this));t.binding.getContexts().forEach(function(e,l){n=t.factory(this.getId()+"-"+l,e)?t.factory(this.getId()+"-"+l,e).setBindingContext(e,t.model):"";this[i._sMutator](n)}.bind(this))},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell"},addDanglingControl:function(e){this.aDanglingControls.push(e)},destroyDanglingControls:function(){if(this.aDanglingControls){this.aDanglingControls.forEach(function(e){if(e.destroyContent){e.destroyContent()}e.destroy()})}}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/ShellAsync.view",["sap/ui/core/library","sap/ushell/library","sap/ui/Device","sap/ushell/components/_HeaderManager/ControlManager","sap/ushell/components/_HeaderManager/ShellHeader.controller","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/EventHub","sap/ui/model/json/JSONModel","sap/ui/core/mvc/View","sap/ui/core/mvc/XMLView","sap/ui/core/Fragment"],function(e,t,n,i,l,o,a,r,s,h,u,d,c,p){"use strict";function g(e,t){return sap.ui.getCore().byId(t.getObject())}return d.extend("sap.ushell.renderers.fiori2.ShellAsync",{createContent:function(e){this.oController=e;var t=this.getViewData()||{},n=t.config||{};this.oConfig=n;this.aDanglingControls=[];this._allowUpToThreeActionInShellHeader(n);return Promise.all([this.createShellLayout(e),this.createShellHeader(n,this.getViewData().shellModel)]).then(function(e){var t=e[0];var n=e[1];t.setHeader(n);n.setShellLayout(t);h.once("CreateToolArea").do(function(){sap.ui.require(["sap/ushell/ui/shell/ToolArea"],function(e){var n=new e({id:"shell-toolArea",toolAreaItems:{path:"/currentState/toolAreaItems",factory:g}});n.updateAggregation=this.updateShellAggregation;n.addEventDelegate({onAfterRendering:function(){t.applySplitContainerSecondaryContentSize()}});t.setToolArea(n)}.bind(this))}.bind(this));this.setOUnifiedShell(t);this.setDisplayBlock(true);this.addDanglingControl(sap.ui.getCore().byId("viewPortContainer"));r.setPerformanceMark("FLP - Shell.view rendering started!");return t}.bind(this))},_allowUpToThreeActionInShellHeader:function(e){if(Object.keys(e).length>3){var t=["moveAppFinderActionToShellHeader","moveUserSettingsActionToShellHeader","moveContactSupportActionToShellHeader","moveEditHomePageActionToShellHeader"],n=0,i;for(var l=0;l<5;l++){i=t[l];if(n===3){e[i]=false}else if(e[i]){n++}}}},createShellLayout:function(e){return p.load({name:"sap.ushell.ui.ShellLayout",controller:e}).then(function(e){var t=sap.ui.getCore().byId("menuBarComponentContainer");return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.isMenuEnabled()}).then(function(n){if(n){t.addStyleClass("sapUshellMenuBarHeight")}return e})})},createShellHeader:function(e,t){var n=s.createModel("/core/shellHeader",u),o=new l;o.onInit();return p.load({name:"sap.ushell.ui.ShellHeader",controller:o}).then(function(l){i.init(e,o,t);if(e.appState==="embedded"){l.setNoLogo()}l.setModel(n);l.setModel(a.i18nModel,"i18n");l.createUIArea();return l})},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],function(e,t){var i=sap.ui.getCore().byId("shell");if(!i){return}var l=new e({id:"shell-floatingContainer",content:{path:"/currentState/floatingContainerContent",factory:g}});if(n.system.desktop){l.addCustomData(new o({key:"tabindex",value:"-1",writeToDom:true}))}l.setModel(i.getModel());this.addDanglingControl(l);var a=new t({id:"shell-floatingActions",floatingActions:{path:"/currentState/floatingActions",factory:g}});a.updateAggregation=this.updateShellAggregation;var r=this.getOUnifiedShell();r.setFloatingContainer(l);r.setFloatingActionsContainer(a);this._createAllMyAppsView()}.bind(this))},_createAllMyAppsView:function(){var e=function(e){if(e.isEnabled()){this._initializeAllMyAppsView()}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(e)},_initializeAllMyAppsView:function(){c.create({id:"allMyAppsView",viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps"}).then(function(e){var t=this.getModel();e.setModel(t);e.setModel(a.i18nModel,"i18n");e.addCustomData(new o({key:"aria-label",value:a.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(e)}.bind(this))},getOUnifiedShell:function(){return this.oUnifiedShell},setOUnifiedShell:function(e){this.oUnifiedShell=e},updateShellAggregation:function(e){var t=this.mBindingInfos[e],n=this.getMetadata().getJSONKeys()[e],i;this[n._sGetter]().forEach(function(e){this[n._sRemoveMutator](e)}.bind(this));t.binding.getContexts().forEach(function(e,l){i=t.factory(this.getId()+"-"+l,e)?t.factory(this.getId()+"-"+l,e).setBindingContext(e,t.model):"";this[n._sMutator](i)}.bind(this))},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell"},addDanglingControl:function(e){this.aDanglingControls.push(e)},destroyDanglingControls:function(){if(this.aDanglingControls){this.aDanglingControls.forEach(function(e){if(e.destroyContent){e.destroyContent()}e.destroy()})}}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AllMyApps",["sap/ushell/library"],function(e){"use strict";function t(t,r,n){var i=n&&n.config,s=false,a={};this.isEnabled=function(){s=!!(!i||i.enabled!==false);return s};this.isHomePageAppsEnabled=function(){return!!(!i||i.showHomePageApps!==false)};this.isCatalogAppsEnabled=function(){return!!(!i||i.showCatalogApps!==false)};this.isExternalProviderAppsEnabled=function(){return!!(!i||i.showExternalProviders!==false)};this.registerExternalProvider=function(e,t){if(!e||e===""){return}if(!t.getTitle||!t.getData){return}a[e]=t};this.getDataProviders=function(){return a};this.getProviderTypeEnum=function(){return e.AllMyAppsProviderType};this.init=function(){}}t.hasNoAdapter=true;return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppLifeCycle",["sap/ui/base/EventProvider","sap/ushell/TechnicalParameters","sap/ushell/AppInfoParameters","sap/base/Log","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/EventHub","sap/ui/thirdparty/hasher"],function(e,t,n,a,r,i,o){"use strict";var p="appLoaded";function s(r,s,c,u){var l,f,d;this.getCurrentApplication=function(){return l};this.attachAppLoaded=function(e,t,n){d.attachEvent(p,e,t,n)};this.detachAppLoaded=function(e,t){d.detachEvent(p,e,t)};this.prepareCurrentAppObject=function(e,t,n,a){v(e,t,n,a)};this.reloadCurrentApp=function(){i.emit("reloadCurrentApp",{sAppContainerId:f.getId(),sCurrentHash:o.getHash(),date:Date.now()})};d=new e;if(sap.ushell.Container.inAppRuntime()===false){if(sap.ushell.Container.getRenderer()){g()}else{var h=function(){g();sap.ushell.Container.detachRendererCreatedEvent(h)};sap.ushell.Container.attachRendererCreatedEvent(h)}}function g(){var e=sap.ui.getCore().byId("viewPortContainer");if(!e||typeof e.attachAfterNavigate!=="function"){a.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return}e.attachAfterNavigate(function(e){var t;var n;var a;var r;var i;var o=false;if(e.mParameters.toId.indexOf("applicationShellPage")===0){n=e.mParameters.to.getApp()}else if(e.mParameters.toId.indexOf("application")===0){n=e.mParameters.to}if(n&&typeof n.getComponentHandle==="function"&&n.getComponentHandle()){r=n.getComponentHandle().getInstance()}else if(n){t=n.getAggregation("child");if(t){r=t.getComponentInstance()}}else{r=sap.ui.getCore().getComponent(e.mParameters.to.getComponent())}if(r){i=r.getId();o=i.indexOf("Shell-home-component")!==-1||i.indexOf("pages-component")!==-1||i.indexOf("workPageRuntime-component")!==-1||i.indexOf("Shell-appfinder-component")!==-1||i.indexOf("homeApp-component")!==-1||i.indexOf("runtimeSwitcher-component")!==-1}a=n&&typeof n.getApplicationType==="function"&&n.getApplicationType();if((!a||a==="URL")&&r){a="UI5"}v(a,r,o,n)})}function m(){var e=o.getHash();if(!e){return Promise.reject("Could not identify current application hash")}var t=sap.ushell.Container.getServiceAsync("URLParsing");return t.then(function(t){return t.parseShellHash(e)})}function v(e,a,r,o){f=o;l={applicationType:e,componentInstance:a,homePage:r,getTechnicalParameter:function(n){return t.getParameterValue(n,a,o,e)},getIntent:m,getInfo:function(e){return n.getInfo(e,l)},getSystemContext:function(){var e=sap.ushell.services.AppConfiguration.getCurrentApplication()||{};var t=e.contentProviderId||"";return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(t)})},disableKeepAliveAppRouterRetrigger:function(e){m().then(function(t){i.emit("disableKeepAliveRestoreRouterRetrigger",{disable:e,intent:t,componentId:l.componentInstance.oContainer.sId,date:Date.now()})})}};setTimeout(function(){d.fireEvent(p,l)},0)}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ClientSideTargetResolution",["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/extend","sap/ushell/ApplicationType","sap/ushell/Config","sap/ushell/navigationMode","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/services/_ClientSideTargetResolution/InboundIndex","sap/ushell/services/_ClientSideTargetResolution/InboundProvider","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations","sap/ushell/services/_ClientSideTargetResolution/Search","sap/ushell/services/_ClientSideTargetResolution/StagedLogger","sap/ushell/services/_ClientSideTargetResolution/SystemContext","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/XAppStateProcessing","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,n,r,i,s,o,a,u,l,c,d,f,p,g,h,m,v,b,y,S,j){"use strict";function R(e,t,n,r){this._init.apply(this,arguments)}R.prototype._init=function(t,n,r,i){this._iLogId=0;if(!this._implementsServiceInterface(t)){e.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return}this._oInboundProvider=new l(t.getInbounds.bind(t));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=i;this._oAdapter=t};R.prototype._implementsServiceInterface=function(e){if(typeof e.getInbounds==="function"){return true}return false};R.prototype._extractInboundFilter=function(e){if(!this._oAdapter.hasSegmentedAccess){return undefined}if(typeof e!=="string"){return undefined}var t=e.indexOf("#")===0?e:"#"+e;var n=j.parseShellHash(t);if(!n||!n.semanticObject||!n.action){return undefined}return[{semanticObject:n.semanticObject,action:n.action}]};R.prototype.resolveHashFragment=function(e){var t=this,n=new jQuery.Deferred,r=this._oAdapter.resolveHashFragmentFallback&&this._oAdapter.resolveHashFragmentFallback.bind(this._oAdapter),i=this._extractInboundFilter(e);this._oInboundProvider.getInbounds(i).then(function(i){t._resolveHashFragment(e,r,i).done(function(e){return n.resolve(e)}).fail(n.reject.bind(n))},function(){n.reject.apply(n,arguments)});return n.promise()};R.prototype.resolveTileIntent=function(e){var t=this,n=new jQuery.Deferred,r=this._extractInboundFilter(e);this._oInboundProvider.getInbounds(r).then(function(r){t._resolveTileIntent(e,undefined,r).done(n.resolve.bind(n)).fail(n.reject.bind(n))},function(){n.reject.apply(n,arguments)});return n.promise()};R.prototype.resolveTileIntentInContext=function(e,t){var n,r=new jQuery.Deferred;n=u.createIndex(e.concat(m.getInbounds()));this._resolveTileIntent(t,undefined,n).done(r.resolve.bind(r)).fail(r.reject.bind(r));return r.promise()};R.prototype._resolveHashFragment=function(t,n,r){var i=this,s=new jQuery.Deferred,o=t.indexOf("#")===0?t:"#"+t,a=j.parseShellHash(o);if(a===undefined){e.error("Could not parse shell hash '"+t+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return s.reject().promise()}a.formFactor=S.getFormFactor();this._getMatchingInbounds(a,r,{bExcludeTileInbounds:true}).fail(function(n){e.error("Could not resolve "+t,"_getMatchingInbounds promise rejected with: "+n,"sap.ushell.services.ClientSideTargetResolution");s.reject(n)}).done(function(r){var u;if(r.length===0){e.warning("Could not resolve "+t,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");s.reject("Could not resolve navigation target");return}r=i._applySapNavigationScopeFilter(r,a);u=r[0];if(e.getLevel()>=e.Level.DEBUG){var l=function(e,t){return this[e]===undefined?"<undefined>":t};var c=function(e,t){return e==="_original"?undefined:l.call(this,e,t)};var d=JSON.stringify(u,c,"   ");e.debug("The following target will now be resolved",d,"sap.ushell.services.ClientSideTargetResolution")}i._resolveSingleMatchingTarget(u,n,o).done(function(e){s.resolve(e)}).fail(s.reject.bind(s))});return s.promise()};R.prototype._applySapNavigationScopeFilter=function(e,t){var r=t&&t.params&&t.params["sap-navigation-scope-filter"];if(!r){return e}var i=e.filter(function(e){var t=n.get("inbound.signature.parameters",e);var i=t&&t["sap-navigation-scope"];if(i){return r[0]===i.defaultValue.value}return undefined});return i.length>0?i:e};R.prototype._resolveSingleMatchingTarget=function(t,r,a){var u=this,l=new jQuery.Deferred,f=j.parseShellHash(a),p=[f.semanticObject,f.action].join("-"),g=(t.inbound.resolutionResult||{}).applicationType;var h;if(this._oAdapter.resolveSystemAlias){h=this._oAdapter.resolveSystemAlias.bind(this._oAdapter)}var m=!!t.inbound.templateContext;var y=i.getEasyAccessMenuResolver(p,g);if(y&&!m){y(f,t,h,i.WDA.enableWdaCompatibilityMode).then(function(e){var r=o.compute(n.get("inbound.resolutionResult.applicationType",t),(t.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(t.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(b.getCurrentApplication()||{}).applicationType,s.last("/core/navigation/enableInPlaceForClassicUIs"));S.shallowMergeObject(e,r);e.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;l.resolve(e)},function(e){l.reject(e)});return l.promise()}var R=this._getReservedParameters(t);c.mapParameterNamesAndRemoveObjects(t);sap.ushell.Container.getServiceAsync("AppState").then(function(s){v.mixAppStateIntoResolutionResultAndRename(t,s).done(function(t){var s=function(){return u._constructFallbackResolutionResult.call(u,t,r,a)};if(i[g]){s=i[g].generateResolutionResult}delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(function(e){return e!=="sap-tag"});var o=n.get("inbound.resolutionResult.url",t);d.executePrelaunchOperations(t,R["sap-prelaunch-operations"]).then(function(){return s(t,o,h)}).then(function(e){e.reservedParameters=R;e.inboundPermanentKey=t.inbound.permanentKey||t.inbound.id;return e}).then(function(n){e.debug("Intent was resolved to the following target",JSON.stringify(t.resolutionResult,null,3),"sap.ushell.services.ClientSideTargetResolution");S.shallowMergeObject(t.resolutionResult,n);l.resolve(t.resolutionResult)},function(e){if(typeof e==="string"&&e.indexOf("fallback:")>=0){u._constructFallbackResolutionResult.call(this,t,r,a).then(function(e){S.shallowMergeObject(t.resolutionResult,e);l.resolve(t.resolutionResult)},l.reject.bind(l))}else{l.reject(e)}})})});return l.promise()};R.prototype._getReservedParameters=function(e){var t=y.getParameters({injectFrom:"startupParameter"}).map(function(e){return e.name});var n=h.extractParameters(t,e.intentParamsPlusAllDefaults);y.getParameters({injectFrom:"inboundParameter"}).forEach(function(t){var r=t.name;var i=e.inbound&&e.inbound.signature&&e.inbound.signature.parameters;if(i&&Object.keys(i).length>0){var s=i[r];var o=s&&s.defaultValue&&s.defaultValue.hasOwnProperty("value");var a=s&&s.filter&&s.filter.hasOwnProperty("value");if(s&&(a||o)){if(o){n[r]=s.defaultValue.value}else{n[r]=s.filter.value}}else{delete n[r]}delete e.intentParamsPlusAllDefaults[r];var u=e.defaultedParamNames.indexOf(r);if(u>=0){e.defaultedParamNames.splice(u,1)}}});return n};R.prototype._resolveTileIntent=function(t,n,r){var i=this,s=new jQuery.Deferred,o=t.indexOf("#")===0?t:"#"+t,a=j.parseShellHash(o);if(a===undefined){e.error("Could not parse shell hash '"+t+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return s.reject("Cannot parse shell hash").promise()}a.formFactor=S.getFormFactor();this._getMatchingInbounds(a,r,{bExcludeTileInbounds:false}).fail(function(n){e.error("Could not resolve "+t,"_getMatchingInbounds promise rejected with: "+n,"sap.ushell.services.ClientSideTargetResolution");s.reject(n)}).done(function(r){var a;if(r.length===0){e.warning("Could not resolve "+t,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");s.reject("No matching targets found");return}a=r[0];i._resolveSingleMatchingTileIntent(a,n,o).done(s.resolve.bind(s)).fail(s.reject.bind(s))});return s.promise()};R.prototype._resolveSingleMatchingTileIntent=function(t,s,a){var u=new jQuery.Deferred,l=(t.inbound.resolutionResult||{}).applicationType,d=this;var f;if(this._oAdapter.resolveSystemAlias){f=this._oAdapter.resolveSystemAlias.bind(this._oAdapter)}c.mapParameterNamesAndRemoveObjects(t);sap.ushell.Container.getServiceAsync("AppState").then(function(c){v.mixAppStateIntoResolutionResultAndRename(t,c).done(function(t){var c=function(){return d._constructFallbackResolutionResult.call(d,t,s,a)};if(i[l]){c=i[l].generateResolutionResult}delete t.intentParamsPlusAllDefaults["sap-tag"];delete t.mappedIntentParamsPlusSimpleDefaults["sap-tag"];t.mappedDefaultedParamNames=t.mappedDefaultedParamNames.filter(function(e){return e!=="sap-tag"});var p=n.get("inbound.resolutionResult.url",t);c(t,p,f).then(function(n){S.shallowMergeObject(t.resolutionResult,n);var i=r({},t.inbound.tileResolutionResult);i.startupParameters=t.effectiveParameters;i.navigationMode=t.resolutionResult.navigationMode;if(!i.navigationMode){i.navigationMode=o.getNavigationMode(t.resolutionResult)}u.resolve(i);e.debug("Tile Intent was resolved to the following target",JSON.stringify(i,null,3),"sap.ushell.services.ClientSideTargetResolution")},function(e){u.reject(e)})})});return u.promise()};R.prototype._constructFallbackResolutionResult=function(t,n,i){var s={},o;Object.keys(t.intentParamsPlusAllDefaults).forEach(function(e){if(Array.isArray(t.intentParamsPlusAllDefaults[e])){s[e]=t.intentParamsPlusAllDefaults[e]}});o=t.mappedDefaultedParamNames||t.defaultedParamNames;if(o.length>0){s["sap-ushell-defaultedParameterNames"]=[JSON.stringify(o)]}if(typeof n!=="function"){e.error("Cannot resolve hash fragment",i+" has matched an inbound that cannot be resolved client side and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter","sap.ushell.services.ClientSideTargetResolution");return Promise.reject("Cannot resolve hash fragment: no fallback provided.")}e.warning("Cannot resolve hash fragment client side",i+" has matched an inbound that cannot be resolved client side. Using fallback logic","sap.ushell.services.ClientSideTargetResolution");return new Promise(function(e,o){n(i,r({},t.inbound),s).done(function(t){var n={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(function(e){if(t.hasOwnProperty(e)){n[e]=t[e]}});e(n)}).fail(o.bind(null))})};R.prototype.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;this._oInboundProvider.getInbounds().then(function(t){var n={};t.getAllInbounds().forEach(function(e){if(typeof e.semanticObject==="string"&&e.semanticObject!=="*"&&!e.hideIntentLink&&e.semanticObject.length>0){n[e.semanticObject]=true}});e.resolve(Object.keys(n).sort())},function(){e.reject.apply(e,arguments)});return e.promise()};R.prototype.getLinks=function(n){var i,s=this,o,a,u,l=new jQuery.Deferred,c;if(arguments.length===1&&t(arguments[0])){i=arguments[0];c=r({},i);["action","semanticObject"].forEach(function(e){if(i.hasOwnProperty(e)){c[e]=i[e]}});if(c.appStateKey){c.params=c.params||{};c.params["sap-xapp-state"]=[c.appStateKey];delete c.appStateKey}}else if(arguments.length<=3){e.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");o=arguments[0];a=arguments[1];u=arguments[2];c={semanticObject:o,params:a,ignoreFormFactor:u}}else{return l.reject("invalid arguments for getLinks").promise()}this._oInboundProvider.getInbounds().then(function(e){s._getLinks(c,e).done(l.resolve.bind(l)).fail(l.reject.bind(l))},function(){l.reject.apply(l,arguments)});return l.promise()};R.prototype._validateGetSemanticObjectLinksArgs=function(t){var n=t.semanticObject,r=t.action,i=!t.hasOwnProperty("action");if(typeof n!=="undefined"||i){if(typeof n!=="string"){e.error("invalid input for _getLinks","the semantic object must be a string, got "+Object.prototype.toString.call(n)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(i&&n.match(/^\s+$/)){e.error("invalid input for _getLinks","the semantic object must be a non-empty string, got '"+n+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}if(!i&&n.length===0){e.error("invalid input for _getLinks","the semantic object must not be an empty string, got '"+n+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object"}}if(typeof r!=="undefined"){if(typeof r!=="string"){e.error("invalid input for _getLinks","the action must be a string, got "+Object.prototype.toString.call(r)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action"}if(r.length===0){e.error("invalid input for _getLinks","the action must not be an empty string, got '"+r+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action"}}return undefined};R.prototype._getLinks=function(t,r){var i=t.semanticObject,s=t.action,o=t.params,a=!!t.withAtLeastOneUsedParam,u=!!t.treatTechHintAsFilter,l=t.ignoreFormFactor,c=t.hasOwnProperty("sortResultsBy")?t.sortResultsBy:"intent";if(t.hasOwnProperty("sortResultOnTexts")){e.warning("the parameter 'sortResultOnTexts' was experimental and is no longer supported","getLinks results will be sorted by '"+c+"'","sap.ushell.services.ClientSideTargetResolution")}var d={bExcludeTileInbounds:true};var f=this._validateGetSemanticObjectLinksArgs(t);if(t.tags){d.tags=t.tags}if(f){return(new jQuery.Deferred).reject(f).promise()}if(i==="*"){return jQuery.when([])}function p(e){var t=j.paramsToString(e);return t?"?"+t:""}var g=new jQuery.Deferred,m=S.getFormFactor(),v=j.parseParameters(p(o)),b={semanticObject:i===""?undefined:i,action:s,formFactor:l?undefined:m,params:v};if(u){b.treatTechHintAsFilter=true}this._getMatchingInbounds(b,r,d).done(function(r){var s={},o=r.map(function(e){var r=i||e.inbound.semanticObject,o="#"+r+"-"+e.inbound.action,u;if(r==="*"){return undefined}if(e.inbound.action==="*"){return undefined}if(e.inbound&&e.inbound.hasOwnProperty("hideIntentLink")&&e.inbound.hideIntentLink===true){return undefined}if(!s.hasOwnProperty(o)){s[o]={matchingInbound:e.inbound,count:1};if(e.inbound.signature.additionalParameters==="ignored"){u=h.filterObjectKeys(v,function(t){return t.indexOf("sap-")===0||e.inbound.signature.parameters.hasOwnProperty(t)},false)}else{u=v}if(a){var l=Object.keys(u).some(function(e){return e.indexOf("sap-")!==0});if(!l){s[o].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined}}var c=h.inboundSignatureMeetsParameterOptions(e.inbound.signature.parameters,t.paramsOptions||[]);if(!c){s[o].hideReason="inbound signature does not meet the requested parameter filter options";return undefined}var d={intent:o+p(u),text:e.inbound.title};if(e.inbound.icon){d.icon=e.inbound.icon}if(e.inbound.subTitle){d.subTitle=e.inbound.subTitle}if(e.inbound.shortTitle){d.shortTitle=e.inbound.shortTitle}var f=n.get("inbound.signature.parameters.sap-tag.defaultValue.value",e);if(f){d.tags=[f]}return d}s[o].count++;return undefined}).filter(function(e){return typeof e==="object"});if(c!=="priority"){o.sort(function(e,t){return e[c]<t[c]?-1:1})}if(o.length===0){e.debug("_getLinks returned no results")}else if(e.getLevel()>=e.Level.DEBUG){if(e.getLevel()>=e.Level.TRACE){var u=[];var l=[];o.forEach(function(e){var t=e.intent.split("?")[0];if(s[t].hideReason){l.push(["-",t+"("+s[t].hideReason+")\n"," text:",e.text+"\n"," full intent:",e.intent].join(" "))}else{u.push(["-",t,s[t].count>1?"("+(s[t].count-1)+" others matched)\n":"\n","text:",e.text+"\n","full intent:",e.intent].join(" "))}});e.debug("_getLinks filtered to the following unique intents:","\n"+u.join("\n"),"sap.ushell.services.ClientSideTargetResolution");e.debug("_getLinks would have also returned the following unique intents, but something prevented this:",l.join("\n"),"sap.ushell.services.ClientSideTargetResolution")}else{e.debug("_getLinks filtered to unique intents.","Reporting histogram: \n - "+Object.keys(s).join("\n - "),"sap.ushell.services.ClientSideTargetResolution")}}g.resolve(o)}).fail(g.reject.bind(g));return g.promise()};R.prototype._getMatchingInbounds=function(t,n,r){var i=this,s,o,u,l,c,d,g,h=new jQuery.Deferred;if(r){s=r.tags;d=r.bExcludeTileInbounds}if(e.getLevel()>=e.Level.DEBUG){u=++i._iLogId}p.begin(function(){function e(e){var t=e.action||(typeof e.action==="undefined"?"<any>":"<invalid-value>");var n=e.semanticObject||(typeof e.semanticObject==="undefined"?"<any>":"<invalid-value>");return j.constructShellHash({semanticObject:n,action:t,params:e.params})}var n=e(t);return{logId:u,title:"Matching Intent '"+n+"' to inbounds (form factor: "+(t.formFactor||"<any>")+")",moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]}});c=t.semanticObject;o=t.action;this._oShellHash=t;l=s?n.getSegmentByTags(s):n.getSegment(c,o);if(d){g=l.filter(function(e){return!e.tileResolutionResult||!e.tileResolutionResult.isCustomTile})}else{g=l}var m=null;if(this._oAdapter.getContentProviderDataOriginsLookup){m=this._oAdapter.getContentProviderDataOriginsLookup.bind(this._oAdapter)}f.match(t,g,{},m,e.getLevel()>=e.Level.DEBUG).then(function(e){p.log(function(){return{logId:u,stage:1,prefix:"✘",lines:Object.keys(e.noMatchReasons||{}).map(function(t){return t+" "+e.noMatchReasons[t]})}});p.log(function(){var t=e.matchResults.map(function(e){return a.formatInbound(e.inbound)});return{logId:u,stage:1,prefix:t.length>0?"✅":"✘",lines:t.length>0?t:["No inbound was matched"]}});var t={};var n=false;var r=Object.keys(e.missingReferences);r.forEach(function(r){var i=Object.keys(e.missingReferences[r]);n=n||i.length>0;t[r]=i});r=r.filter(function(e){if(t[e].length>0){return true}delete t[e];return false});if(!n){p.log(function(){return{logId:u,stage:2,prefix:"✅",line:"No need to resolve references"}});return(new jQuery.Deferred).resolve({matchResults:e.matchResults,referencesToInclude:null}).promise()}r.forEach(function(e){p.log(function(){return{logId:u,stage:2,line:'@ Must resolve the following references with contentProviderId = "'+e+'":',prefix:"•",lines:t[e]}})});var i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(e){var n=r.map(function(e){return this.getSystemContext(e)}.bind(this));return Promise.all(n).then(function(n){var i=r.map(function(r,i){return new Promise(function(s,o){e.resolveReferences(t[r],n[i]).done(s).fail(o)})});return Promise.all(i)})}.bind(this)).then(function(t){var n={matchResults:e.matchResults,referencesToInclude:{}};r.forEach(function(e,r){var i=t[r];n.referencesToInclude[e]=i;if(Object.keys(i).length>0){p.log(function(){return{logId:u,stage:2,line:'✅ resolved references with contentProviderId = "'+e+'" to the following values:',prefix:"•",lines:Object.keys(i).map(function(e){return e+": '"+i[e]+"'"})}})}});i.resolve(n)}).catch(function(e){p.log(function(){return{logId:u,stage:2,prefix:"❌",line:"Failed to resolve references: "+e}});h.resolve([])});return i.promise()}.bind(this)).then(function(e){var n,r,i=e.referencesToInclude;if(!i){p.log(function(){return{logId:u,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"✅"}});return(new jQuery.Deferred).resolve(e).promise()}r=e.matchResults;n=r.map(function(e){return e.inbound});return f.match(t,n,i,m,0).then(function(e){p.log(function(){var t=e.matchResults||[];if(t.length>=1){return{logId:u,stage:3,line:"The following inbounds re-matched:",lines:t.map(function(e){return a.formatInbound(e.inbound)}),prefix:"✅"}}return{logId:u,stage:3,line:"No inbounds re-matched",prefix:"-"}});return e})}).then(function(e){var t=e.matchResults||[];if(t.length<=1){p.log(function(){return{logId:u,stage:4,line:"Nothing to sort"}});h.resolve(t);return}var n=f.sortMatchingResultsDeterministic(e.matchResults||[]);p.log(function(){var e=n.map(function(e){return a.formatInbound(e.inbound||{})+(e.matchesVirtualInbound?" (virtual)":"")+"\n[ Sort Criteria ] "+"\n * 1 * sap-priority: '"+e["sap-priority"]+"'"+"\n * 2 * Sort string: '"+e.priorityString+"\n * 3 * Deterministic blob: '"+f.serializeMatchingResult(e)+"'"});return{logId:u,stage:4,line:"Sorted inbounds as follows:",lines:e,prefix:".",number:true}});h.resolve(n)});return h.promise().then(function(e){p.end(function(){return{logId:u}});return e})};R.prototype._isIntentSupportedOne=function(e,t){var n=new jQuery.Deferred,r=j.parseShellHash(e);if(e==="#"){n.resolve(true);return n.promise()}if(r===undefined){return n.reject("Could not parse shell hash '"+e+"'").promise()}r.formFactor=S.getFormFactor();this._getMatchingInbounds(r,t,{bExcludeTileInbounds:true}).done(function(e){n.resolve(e.length>0)}).fail(function(){n.reject()});return n.promise()};R.prototype.isIntentSupported=function(e){var t=this,n=new jQuery.Deferred;this._oInboundProvider.getInbounds().then(function(r){t._isIntentSupported(e,r).done(n.resolve.bind(n)).fail(n.reject.bind(n))},function(){n.reject.apply(n,arguments)});return n.promise()};R.prototype._isIntentSupported=function(e,t){var n=this,r=new jQuery.Deferred,i={};r.resolve();function s(e,t){i[e]={supported:t}}var o=[];e.forEach(function(e){var i=n._isIntentSupportedOne(e,t);i.fail(function(e){o.push(e)});i.done(function(t){s(e,t)});r=jQuery.when(r,i)});var a=new jQuery.Deferred;r.done(function(){a.resolve(i)}).fail(function(){a.reject("One or more input intents contain errors: "+o.join(", "))});return a.promise()};R.prototype.getUserDefaultParameterNames=function(e){var t=this,n=new jQuery.Deferred;this._oInboundProvider.getInbounds().then(function(r){t._getUserDefaultParameterNames(r.getAllInbounds(),e).then(function(e){n.resolve(e)},function(e){n.reject("Cannot get user default parameters from inbounds: "+e)})},function(){n.reject.apply(n,arguments)});return n.promise()};R.prototype._getUserDefaultParameterNames=function(e,t){var n={simple:{},extended:{}};e=e.filter(function(e){if(e.contentProviderId===undefined&&t.id===""){return true}return e.contentProviderId===t.id});return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(t){e.forEach(function(e){var r=e.signature&&e.signature.parameters||[];Object.keys(r).forEach(function(e){var i=r[e],s,o,a;if(i){if(i.filter&&i.filter.format==="reference"){a=i.filter.value}else if(i.defaultValue&&i.defaultValue.format==="reference"){a=i.defaultValue.value}if(typeof a==="string"){s=t.extractUserDefaultReferenceName(a);if(typeof s==="string"){n.simple[s]={}}o=t.extractExtendedUserDefaultReferenceName(a);if(typeof o==="string"){n.extended[o]={}}}}})});return n})};R.prototype.getEasyAccessSystems=function(r){var s={},o,u,l;r=r||"sapMenu";if(this._oHaveEasyAccessSystemsDeferreds[r]){return this._oHaveEasyAccessSystemsDeferreds[r].promise()}this._oHaveEasyAccessSystemsDeferreds[r]=new jQuery.Deferred;l=this._oHaveEasyAccessSystemsDeferreds[r];function c(e,t,n){if(!e){return false}var i=[e.semanticObject,e.action].join("-");return n[r][i]&&e.deviceTypes&&t!==undefined&&e.deviceTypes[t]}o=i.getEasyAccessMenuDefinitions().reduce(function(e,t){var n=t.easyAccessMenu.intent.split("-")[1];e[n]={appType:t.type,priority:t.easyAccessMenu.systemSelectionPriority};return e},{});u={userMenu:i.getEasyAccessMenuDefinitions().reduce(function(e,t){var n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInUserMenu;return e},{}),sapMenu:i.getEasyAccessMenuDefinitions().reduce(function(e,t){var n=t.easyAccessMenu.intent;e[n]=t.easyAccessMenu.showSystemSelectionInSapMenu;return e},{})};this._oInboundProvider.getInbounds().then(function(r){var i={};r.getAllInbounds().filter(function(e){return c(e,S.getFormFactor(),u)}).forEach(function(r){var u;if(t(r.signature.parameters["sap-system"])&&r.signature.parameters["sap-system"].hasOwnProperty("filter")){u=n.get("signature.parameters.sap-system.filter.value",r)}if(typeof u==="string"){var l=o[r.action].priority;var c=o[r.action].appType;if(!s[u]){i[u]=-1;s[u]={appType:{}}}if(i[u]<l){s[u].text=r.title;i[u]=l}s[u].appType[c]=true}else{e.warning("Cannot extract sap-system from easy access menu inbound: "+a.formatInbound(r),"This parameter is supposed to be a string. Got '"+u+"' instead.","sap.ushell.services.ClientSideTargetResolution")}});l.resolve(s)},function(){l.reject.apply(l,arguments)});return l.promise()};R.prototype.getSystemContext=function(e){var t=e===undefined?"":e;return new Promise(function(e,n){var r;this._oAdapter.resolveSystemAlias(t).done(function(t){r=g.createSystemContextFromSystemAlias(t);e(r)}).fail(function(e){n(e)})}.bind(this))};R.hasNoAdapter=false;return R},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/DarkModeSupport",["sap/base/Log","sap/base/util/UriParameters","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub"],function(e,t,i,a,r){"use strict";var n="(prefers-color-scheme: dark)";function s(){this.channel=r.createChannel({mode:undefined});this.darkMediaQueryList=window.matchMedia(n);this.doables=[];this.themeChangedCallback=null;this.darkMediaQueryListListener=null}s.Mode={LIGHT:"light",DARK:"dark"};s.prototype.setup=function(){if(this.initialized){return}this.initialized=true;this.themeChangedCallback=function(){this.channel.emit("/mode",this.getCurrentThemeMode())}.bind(this);sap.ui.getCore().attachThemeChanged(this.themeChangedCallback);this.themeChangedCallback();if(this.canAutomaticallyToggleDarkMode()&&sap.ushell.Container.getUser().getDetectDarkMode()){this.enableDarkModeBasedOnSystem()}};s.prototype.destroy=function(){this.channel.emit("/mode",null);this.doables.forEach(function(e){e.off()});this.doables=[];if(this.initialized){sap.ui.getCore().detachThemeChanged(this.themeChangedCallback);this.themeChangedCallback=null;this.disableDarkModeBasedOnSystem();this.initialized=false}};s.prototype.attachModeChanged=function(e){var t=this.channel.on("/mode").do(function(t){e(t)});this.doables.push(t)};s.prototype.canAutomaticallyToggleDarkMode=function(){var e=this.darkMediaQueryList.media===n;return e&&!t.fromURL(window.location.href).has("sap-theme")};s.prototype.isThemeSupportDarkMode=function(e){e=e||this._getCurrentTheme();return!!this._findSupportedThemePair(e)};s.prototype._toggleDarkModeBasedOnSystemColorScheme=function(){var e=this._getCurrentTheme();if(this.darkMediaQueryList&&this.isThemeSupportDarkMode(e)){var t=this._findSupportedThemePair(e),i=this.darkMediaQueryList.matches;var a=i?t.dark:t.light;sap.ushell.Container.getUser().applyTheme(a)}};s.prototype._applyDefaultUserTheme=function(){var e=sap.ushell.Container.getUser();if(e.constants&&e.constants.themeFormat){e.applyTheme(e.getTheme(e.constants.themeFormat.ORIGINAL_THEME))}};s.prototype.toggleModeChange=function(){var e=this._getCurrentTheme(),t=this._findSupportedThemePair(e);if(t){var i=e===t.light?t.dark:t.light;sap.ushell.Container.getUser().applyTheme(i)}};s.prototype.enableDarkModeBasedOnSystem=function(){if(!this.initialized){e.warning("Automatic dark mode detection cannot be enabled, because the DarkModeSupport sevice was not setup.");return}if(!this.canAutomaticallyToggleDarkMode()){e.warning("Automatic dark mode detection cannot be enabled, because your browser does not support dark mode detection");return}if(this.darkMediaQueryListListener){e.warning("Automatic dark mode detection was already enabled");return}if(i.support.matchmedialistener){this.darkMediaQueryListListener=this._toggleDarkModeBasedOnSystemColorScheme.bind(this);this.darkMediaQueryList.addListener(this.darkMediaQueryListListener)}this._toggleDarkModeBasedOnSystemColorScheme()};s.prototype.disableDarkModeBasedOnSystem=function(){if(this.darkMediaQueryListListener){this.darkMediaQueryList.removeListener(this.darkMediaQueryListListener);this.darkMediaQueryListListener=null}this._applyDefaultUserTheme()};s.prototype.getCurrentThemeMode=function(){var e=this._getCurrentTheme(),t=this._findSupportedThemePair(e);if(t){return e===t.light?s.Mode.LIGHT:s.Mode.DARK}return null};s.prototype._getCurrentTheme=function(){return sap.ui.getCore().getConfiguration().getTheme()};s.prototype._findSupportedThemePair=function(e){var t=a.last("/core/darkMode/supportedThemes");return t.filter(function(t){return t.dark===e||t.light===e})[0]};s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Message",["sap/base/Log","sap/m/MessageBox","sap/ushell/Config","sap/ushell/resources","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/Button","sap/m/VBox","sap/m/FormattedText","sap/m/library","sap/ui/core/library"],function(e,t,n,i,s,o,a,r,l,c,u,p){"use strict";var d=u.ButtonType;var f=u.DialogType;var h=p.ValueState;var g=u.FlexRendertype;function m(){var u;this.init=function(e){u=e;return this};this.show=function(t,n,i){if(!n){e.error("Message must not be empty.");return}if(u&&typeof u==="function"){u(t,n,i||{})}else{this.buildMessage(t,n,i||{})}};this.buildMessage=function(e,n,i){var s={title:i.title,actions:i.actions,details:i.details,onClose:i.callback,emphasizedAction:i.emphasizedAction},o;switch(e){case m.Type.ERROR:this._createAndOpenErrorDialog(n,s);return;case m.Type.CONFIRM:if(!i.actions){o="confirm"}else if(i.actions.indexOf("DELETE")>-1){o="warning";s.emphasizedAction=t.Action.DELETE}else{s.icon=t.Icon.QUESTION;o="show"}break;case m.Type.INFO:o="info";this.buildAndSendMessageToast(n,i.duration||3e3);return;default:s={duration:i.duration||3e3};o="show";break}this.sendMessageBox(n,o,s)};this._copyToClipboard=function(e,t,n){var s=t.details;if(typeof t.details==="object"){s=JSON.stringify(t.details,null,"\t")}var o=["Title: "+(n||"-"),"Message: "+(e||"-"),"Details: "+(s||"-")];var a=document.activeElement,r=document.createElement("textarea"),l;try{r.contentEditable=true;r.readonly=false;r.innerText=o.join("\n");document.documentElement.appendChild(r);if(navigator.userAgent.match(/ipad|iphone/i)){var c=document.createRange();c.selectNodeContents(r);window.getSelection().removeAllRanges();window.getSelection().addRange(c);r.setSelectionRange(0,999999)}else{r.select()}var u=document.execCommand("copy");l=u?"CopyWasSuccessful":"CopyWasNotSuccessful"}catch(e){l="CopyWasNotSuccessful"}finally{this.buildAndSendMessageToast(i.i18n.getText(l));document.documentElement.removeChild(r);window.getSelection().removeAllRanges();a.focus()}};this._createAndOpenErrorDialog=function(e,t){var s=t.details;var o;if(s){o=new c({htmlText:typeof s==="object"?s.info:s})}var a=this.errorWithDetails(e,o,t.title);if(sap.ushell.Container&&n.last("/core/extension/SupportTicket")&&e!==i.i18n.getText("supportTicketCreationFailed")){a.addButton(new r({text:i.i18n.getText("contactSupportBtn"),press:function(){sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],function(e){var t=new e;if(t){t.showContactSupportDialog();t.destroy()}});a.close()}}))}if(document.queryCommandSupported("copy")){a.addButton(new r({text:i.i18n.getText("CopyToClipboardBtn"),tooltip:i.i18n.getText("CopyToClipboardBtn_tooltip"),press:this._copyToClipboard.bind(this,e,t,a.getTitle())}))}a.addButton(new r({text:i.i18n.getText("closeBtn"),type:d.Emphasized,press:a.close.bind(a)}))};this.buildAndSendMessageToast=function(e,t){sap.ui.require(["sap/m/MessageToast"],function(n){n.show(e,{duration:t})})};this.sendMessageBox=function(n,i,s){if(typeof t[i]==="function"){t[i](n,s)}else{e.error("Unknown Message type: "+i,null,"Message Service")}};this.info=function(e,t){this.show(m.Type.INFO,e,{duration:t||3e3})};this.error=function(t,n){e.error(t);this.show(m.Type.ERROR,t,{title:n})};this.confirm=function(e,t,n,i){this.show(m.Type.CONFIRM,e,{title:n,callback:t,actions:i})};this.errorWithDetails=function(e,t,n,c){if(Array.isArray(t)){c=t;t=null}if(typeof t==="string"){c=n;n=t;t=null}var u=new o({text:e,visible:!!e});if(t){u.addStyleClass("sapUiSmallMarginBottom")}var p=new s({state:h.Error,type:f.Message,contentWidth:"30rem",title:n||i.i18n.getText("error"),content:[new l({renderType:g.Bare,items:[u,new a({text:i.i18n.getText("ViewDetails"),visible:!!t,press:function(){p.getContent()[0].addItem(t);this.destroy()}})]})],buttons:c,endButton:new r({text:i.i18n.getText("closeBtn"),type:d.Emphasized,press:function(){p.close()}}),afterClose:function(){this.destroy()}}).addStyleClass("sapContrastPlus");p.open();return p}}m.Type={INFO:0,ERROR:1,CONFIRM:2};m.hasNoAdapter=true;return m},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PagePersistence",[],function(){"use strict";function e(){this._init.apply(this,arguments)}e.prototype._init=function(e,t){this._oServiceConfiguration=t;this.oAdapter=e;this._pagesCache=[]};e.prototype.getPage=function(e){if(!this._pagesCache[e]){this._pagesCache[e]=this.oAdapter.getPage(e)}return this._pagesCache[e]};e.prototype.getPages=function(e){return this.oAdapter.getPages(e)};e.hasNoAdapter=false;return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Pages",["sap/base/Log","sap/ushell/utils/RestrictedJSONModel","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/deepExtend","sap/ushell/resources","sap/ushell/utils","sap/ushell/Config","sap/ushell/adapters/cdm/v3/utilsCdm","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(e,i,t,n,r,a,o,s,d,c,u){"use strict";var l=function(){this.COMPONENT_NAME="sap/ushell/services/Pages";this._oCdmServicePromise=sap.ushell.Container.getServiceAsync("CommonDataModel");this._oURLParsingServicePromise=sap.ushell.Container.getServiceAsync("URLParsing");this._oCSTRServicePromise=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution");this._oPagesModel=new i({pages:[]});this._bImplicitSaveEnabled=true;this._aPagesToBeSaved=[]};l.prototype._generateId=function(e){var i=[];var t=this.getModel().getProperty(this.getPagePath(e));t.sections.forEach(function(e){i.push(e.id);e.visualizations.forEach(function(e){i.push(e.id)})});return o.generateUniqueId(i)};l.prototype.getModel=function(){return this._oPagesModel};l.prototype.enableImplicitSave=function(e){this._bImplicitSaveEnabled=e};l.prototype.getPageIndex=function(e){var i=this._oPagesModel.getProperty("/pages");for(var t=0;t<i.length;++t){if(i[t].id===e){return t}}return undefined};l.prototype.getPagePath=function(e){var i=this.getPageIndex(e);if(typeof i==="undefined"){return""}return"/pages/"+i};l.prototype.loadPage=function(i){var t=this.getPagePath(i);if(t){return Promise.resolve(t)}o.setPerformanceMark(["FLP-Pages-Service-loadPage-start[",i,"]"].join(""));return this._oCdmServicePromise.catch(function(i){e.error("Pages - loadPage: Couldn't resolve CDM Service.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){return Promise.all([e.getPage(i),e.getCachedVisualizations(),e.getApplications(),e.getCachedVizTypes()])}).then(function(e){var i=e[0];var t=e[1];var n=e[2];var r=e[3];return this._getModelForPage(i,t,n,r)}.bind(this)).then(function(e){var t=this._oPagesModel.getProperty("/pages/").length;var n="/pages/"+t;this._oPagesModel._setProperty(n,e);o.setPerformanceMark(["FLP-Pages-Service-loadPage-end[",i,"]"].join(""));return n}.bind(this)).catch(function(i){e.error("Pages - loadPage: Failed to gather site data.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this))};l.prototype.loadPages=function(e){return this._oCdmServicePromise.then(function(i){return i.getPages(e)}).then(function(){return Promise.all(e.map(function(e){return this.loadPage(e)}.bind(this)))}.bind(this)).then(function(i){var t={};e.forEach(function(e,n){t[e]=i[n]});return t})};l.prototype.findVisualization=function(i,t,n,r){return this._oCdmServicePromise.catch(function(i){e.error("Pages - findVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(a){return Promise.all([this.loadPage(i),a.getCachedVisualizations(),a.getApplications()]).then(function(e){var a=e[0];var o=this.getModel().getProperty(a+"/sections")||[];return o.reduce(function(e,a,o){if(t&&a.id!==t){return e}var s=a.visualizations.reduce(function(e,i,t){if(n&&i.vizId===n||r&&i.id===r){e.push(t)}return e},[]);if(s.length){e.push({pageId:i,sectionIndex:o,vizIndexes:s})}return e},[])}.bind(this)).catch(function(i){e.error("Pages - findVisualization: Couldn't load page, get visualizations or applications.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this))}.bind(this))};l.prototype.moveVisualization=function(i,n,r,a,o){if(n===a&&r===o){return Promise.resolve({visualizationIndex:o})}this.setPersonalizationActive(true);var s=this._oPagesModel.getProperty("/pages/"+i);var d=s.id;var c=s.sections;var u=c[n];var l=c[a];var h=u.id;var v=l.id;var f=u.visualizations[r];var P=f.id;u.visualizations=u.visualizations.concat([]);l.visualizations=l.visualizations.concat([]);u.visualizations.splice(r,1);if(o===-1){o=l.visualizations.length}l.visualizations.splice(o,0,f);var g;if(l.visualizations[o]){g=o-1}else{g=l.visualizations.length-2}var p;if(l.visualizations[g]){p=l.visualizations[g].id}if(u.default&&!u.visualizations.length){c.splice(n,1)}this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(d)}).catch(function(i){e.error("Pages - moveVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e.payload.sections[h];var r=i.layout.vizOrder;var a=i.viz;var o=e.payload.sections[v];var s=o.layout.vizOrder;var c=o.viz;var u=t(a[P]);var l=r.indexOf(P);r.splice(l,1);var f=p?s.indexOf(p)+1:0;s.splice(f,0,P);if(h!==v){delete a[P];c[P]=u}if(i.default&&!Object.keys(a).length){delete e.payload.sections[h];e.payload.layout.sectionOrder.splice(n,1)}return this._conditionalSavePersonalization(d)}.bind(this)).then(function(){return{visualizationIndex:o}}).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.deleteVisualization=function(i,t,n){var r=this._oPagesModel.getProperty("/pages/"+i);var a=r.sections[t];if(a.default&&a.visualizations.length<2){return this.deleteSection(i,t)}this.setPersonalizationActive(true);var o=a.visualizations;var s=o[n];o.splice(n,1);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(r.id)}).catch(function(i){e.error("Pages - deleteVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e.payload.sections[a.id].layout.vizOrder;var t=e.payload.sections[a.id].viz;var n=i.indexOf(s.id);delete t[s.id];if(n>-1){i.splice(n,1)}return this._conditionalSavePersonalization(e.identification.id)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype._getSectionIndex=function(e,i){var t=this.getModel().getProperty(e+"/sections")||[],n=0;for(;n<t.length;n+=1){if(t[n].id===i){return n}}};l.prototype._getVisualizationData=function(e,i,t,n,r,a,o,s){var d=n||{vizId:i};var u={applications:r,visualizations:t,vizTypes:a};var l=c.getVizData(u,d,o,s);if(!l.id){l.id=this._generateId(e)}return l};l.prototype.addVisualization=function(i,t,n,r){return this._oCdmServicePromise.catch(function(i){e.error("Pages - addVisualization: Personalization cannot be saved: CDM Service cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(o){return Promise.all([this.loadPage(i),o.getVisualizations(),o.getApplications(),o.getVizTypes(),this._oURLParsingServicePromise]).catch(function(i){e.error("Pages - addVisualization: Personalization cannot be saved: Failed to load page, get visualizations or get applications.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(s){var d=s[0],c=s[4],u=this._getSectionIndex(d,t),l=this.getModel().getProperty(d+"/sections")||[],h=this._getVisualizationData(i,n,s[1],null,s[2],s[3],c);if(r){h.displayFormatHint=r}var v;for(var f=0;f<l.length;f++){if(l[f].default){v=f}}if(u!==undefined||v!==undefined){this.setPersonalizationActive(true);var P=u!==undefined?u:v||0,g=d+"/sections/"+P+"/visualizations";this.getModel().getProperty(g).push(h);this.getModel().refresh();return o.getPage(i).catch(function(i){e.error("Pages - addVisualization: Personalization cannot be saved: Failed to get page.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var a=e.payload.sections[t||e.payload.layout.sectionOrder[0]];a.layout.vizOrder.push(h.id);a.viz[h.id]={id:h.id,vizId:n};if(r){a.viz[h.id].displayFormatHint=r}return this._conditionalSavePersonalization(i)}.bind(this))}var p=parseInt(d.split("/")[2],10);return this.addSection(p,0,{title:a.i18n.getText("DefaultSection.Title"),default:true,visualizations:[h]})}.bind(this))}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.copyVisualization=function(e,i,t){var n=t.isBookmark;if(!n){return this.addVisualization(e,i,t.vizId,t.displayFormatHint)}return this.addBookmarkToPage(e,{title:t.title,subtitle:t.subtitle,url:t.targetURL,icon:t.icon,info:t.info,serviceUrl:t.indicatorDataSource?t.indicatorDataSource.path:"",serviceRefreshInterval:t.indicatorDataSource?t.indicatorDataSource.refresh:"",numberUnit:t.numberUnit,vizType:t.vizType,vizConfig:t.vizConfig},i)};l.prototype.moveSection=function(i,t,n){if(t===n){return Promise.resolve()}this.setPersonalizationActive(true);var r=this._oPagesModel.getProperty("/pages/"+i+"/id");var a=this._oPagesModel.getProperty("/pages/"+i+"/sections");var o=this._oPagesModel.getProperty("/pages/"+i+"/sections/"+t);var s=o.id;a.splice(t,1);if(t<n){n--}a.splice(n,0,o);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(r)}).catch(function(i){e.error("Pages - moveSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e.payload.layout.sectionOrder;i.splice(i.indexOf(s),1);i.splice(n,0,s);return this._conditionalSavePersonalization(r)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.addSection=function(i,t,n){this.setPersonalizationActive(true);var r=n||{},a=this._oPagesModel.getProperty("/pages/"+i+"/sections"),o=this._oPagesModel.getProperty("/pages/"+i+"/id");var s={id:r.id!==undefined?r.id:this._generateId(o),title:r.title!==undefined?r.title:"",visible:r.visible!==undefined?r.visible:true,preset:r.preset!==undefined?r.preset:false,locked:r.locked!==undefined?r.locked:false,default:r.default!==undefined?r.default:false,visualizations:r.visualizations!==undefined?r.visualizations:[]};a.splice(t,0,s);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(o)}).catch(function(i){e.error("Pages - addSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i={id:s.id,title:s.title,visible:s.visible,preset:s.preset,locked:s.locked,default:s.default,layout:{vizOrder:[]},viz:{}};if(s.visualizations){var n=0,r;for(;n<s.visualizations.length;n++){r=s.visualizations[n];i.layout.vizOrder.push(r.id);if(r.isBookmark){i.viz[r.id]=c.getVizRef(r)}else{i.viz[r.id]={id:r.id,vizId:r.vizId};if(r.displayFormatHint){i.viz[r.id].displayFormatHint=r.displayFormatHint}}}}e.payload.layout.sectionOrder.splice(t,0,s.id);e.payload.sections[s.id]=i;return this._conditionalSavePersonalization(o)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.deleteSection=function(i,t){this.setPersonalizationActive(true);var n=this._oPagesModel.getProperty("/pages/"+i+"/id");var r=this._oPagesModel.getProperty("/pages/"+i+"/sections");var a=r[t].id;r.splice(t,1);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(n)}).catch(function(i){e.error("Pages - deleteSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){delete e.payload.sections[a];e.payload.layout.sectionOrder.splice(t,1);return this._conditionalSavePersonalization(n)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.setSectionVisibility=function(i,t,n){this.setPersonalizationActive(true);var r=this._oPagesModel.getProperty("/pages/"+i+"/id");var a=this._oPagesModel.getProperty("/pages/"+i+"/sections/"+t+"/id");var o=this._oPagesModel.getProperty("/pages/"+i+"/sections/"+t);if(o.visible===n){return Promise.resolve()}o.visible=n;this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(r)}).catch(function(i){e.error("Pages - setSectionVisibility: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){e.payload.sections[a].visible=n;return this._conditionalSavePersonalization(r)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.renameSection=function(i,t,n){this.setPersonalizationActive(true);var r=this._oPagesModel.getProperty("/pages/"+i);var a=r.sections[t];a.title=n;this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(r.id)}).catch(function(i){e.error("Pages - renameSection: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){e.payload.sections[a.id].title=n;return this._conditionalSavePersonalization(e.identification.id)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.resetSection=function(i,n){this.setPersonalizationActive(true);var r=this._oPagesModel.getProperty("/pages/"+i+"/id");var a=this._oPagesModel.getProperty("/pages/"+i+"/sections/"+n+"/id");return this._oCdmServicePromise.then(function(e){return Promise.all([e.getCachedVisualizations(),e.getApplications(),e.getPage(r),e.getOriginalPage(r),e.getCachedVizTypes()])}).catch(function(i){e.error("Pages - resetSection: Personalization cannot be saved: Failed to gather data from CDM Service.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e[0];var t=e[1];var n=e[2];var r=e[3];var a=e[4];return Promise.all([this._getModelForPage(r,i,t,a),n,r])}.bind(this)).then(function(e){var o=e[0];var s=e[1];var d=e[2];var c=t(o.sections.find(function(e){return e.id===a}),20);var u=c.visualizations.map(function(e){return e.id});var l=this._oPagesModel.getProperty("/pages/"+i);l.sections.forEach(function(e){if(c.id!==e.id){e.visualizations.forEach(function(i){if(u.indexOf(i.id)!==-1){var n=this._generateId(r);var a=t(s.payload.sections[e.id].viz[i.id]);delete s.payload.sections[e.id].viz[i.id];var o=s.payload.sections[e.id].layout.vizOrder.indexOf(a.id);a.id=n;s.payload.sections[e.id].viz[n]=a;s.payload.sections[e.id].layout.vizOrder[o]=n;i.id=n}}.bind(this))}}.bind(this));this._oPagesModel._setProperty("/pages/"+i+"/sections/"+n,c);s.payload.sections[c.id]=d.payload.sections[c.id];return this._conditionalSavePersonalization(s.identification.id)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.resetPage=function(i){this.setPersonalizationActive(true);var n=this._oPagesModel.getProperty("/pages/"+i+"/id");return this._oCdmServicePromise.then(function(e){return Promise.all([e.getCachedVisualizations(),e.getApplications(),e.getPage(n),e.getOriginalPage(n),e.getCachedVizTypes()])}).catch(function(i){e.error("Pages - resetPage: Personalization cannot be saved: Failed to gather data from CDM Service.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e[0];var t=e[1];var n=e[2];var r=e[3];var a=e[4];return Promise.all([this._getModelForPage(r,i,t,a),n,r])}.bind(this)).then(function(e){var n=e[0];var r=e[1];var a=e[2];this._oPagesModel._setProperty("/pages/"+i,n);r.payload=t(a.payload);return this._conditionalSavePersonalization(r.identification.id)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype.setPersonalizationActive=function(e){if(!this._bDirtyState&&e===true){this._bDirtyState=true;this._oCopiedModelData=t(this._oPagesModel.getProperty("/"),20)}else if(this._bDirtyState&&e===false){this._oPagesModel._setData(this._oCopiedModelData);this._bDirtyState=false}};l.prototype.savePersonalization=function(i){var n;if(!i){n=t(this._aPagesToBeSaved)}else{n=[i]}return this._oCdmServicePromise.then(function(e){return Promise.all(n.map(function(i){var t=this._aPagesToBeSaved.indexOf(i);this._aPagesToBeSaved.splice(t,1);return new Promise(function(t,n){e.save(i).then(t,n)}).catch(function(e){if(this._aPagesToBeSaved.indexOf(i)===-1){this._aPagesToBeSaved.push(i)}return Promise.reject(e)}.bind(this))}.bind(this)))}.bind(this)).then(function(){this._bDirtyState=false}.bind(this)).catch(function(i){e.error("Pages - savePersonalization: Personalization cannot be saved: CDM Service cannot be retrieved or the save process encountered an error.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this))};l.prototype._conditionalSavePersonalization=function(e){if(this._bImplicitSaveEnabled){return this.savePersonalization(e)}if(this._aPagesToBeSaved.indexOf(e)===-1){this._aPagesToBeSaved.push(e)}return Promise.resolve()};l.prototype._getModelForPage=function(i,t,n,r){var d={id:i&&i.identification&&i.identification.id||"",title:i&&i.identification&&i.identification.title||"",description:"",sections:[]};o.setPerformanceMark(["FLP-Pages-Service-getModelForPage-start[",d.id,"]"].join(""));return Promise.all([this._oCSTRServicePromise,this._oURLParsingServicePromise]).catch(function(e){return Promise.reject(e)}).then(function(c){var u=c[0];var l=c[1];var h=s.last("/core/catalog/enableHideGroups");return Promise.all(i.payload.layout.sectionOrder.map(function(o){var s=i.payload.sections[o];var c={id:s.id||"",title:s.default?a.i18n.getText("DefaultSection.Title"):s.title||"",visualizations:[],visible:!h||(s.visible!==undefined?s.visible:true),locked:s.locked!==undefined?s.locked:false,preset:s.preset!==undefined?s.preset:true,default:s.default!==undefined?s.default:false};d.sections.push(c);return Promise.all(s.layout.vizOrder.map(function(a){var o=s.viz[a],d=o.vizId;return u.getSystemContext(o.contentProviderId).then(function(a){var s=this._getVisualizationData(i.identification.id,d,t,o,n,r,l,a);c.visualizations.push(s);return this._isIntentSupported(s,u).then(function(i){if(!i){var t=c.visualizations.findIndex(function(e){return e.id===s.id});c.visualizations.splice(t,1);e.warning("The visualization "+s.vizId+" is filtered out, because it does not have a supported intent.")}})}.bind(this))}.bind(this)))}.bind(this))).then(function(){o.setPerformanceMark(["FLP-Pages-Service-getModelForPage-end[",d.id,"]"].join(""));return d})}.bind(this))};l.prototype.removeUnsupportedVisualizations=function(e,i){return this._oCSTRServicePromise.then(function(t){var n=this.getModel().getProperty("/pages/"+e+"/sections/"+i+"/visualizations/");var r=[];for(var a=n.length-1;a>=0;--a){r.push(this._isIntentSupported(n[a],t).then(function(e,i){if(!i){n.splice(e,1)}return i}.bind(this,a)))}return Promise.all(r).then(function(e){if(e.indexOf(false)!==-1){this.getModel().refresh()}}.bind(this))}.bind(this))};l.prototype._isIntentSupported=function(e,i){if(e.target===undefined){return Promise.resolve(false)}if(e.target.type==="URL"){if(u.isStandardVizType(e.vizType)){return Promise.resolve(!!e.target.url)}return Promise.resolve(true)}return new Promise(function(t,n){i.isIntentSupported([e.targetURL]).then(function(i){t(i[e.targetURL].supported)}).fail(function(){t(false)})})};l.prototype.addBookmarkToPage=function(i,t,n,r){if(!i){return Promise.reject("Pages - addBookmarkToPage: Adding bookmark tile failed: No page id is provided.")}var o=c.getBookmarkVizTypeIds(t);this.setPersonalizationActive(true);return Promise.all([this._oCdmServicePromise,this._oCSTRServicePromise]).then(function(e){var t=e[0];var n=e[1];var a=o.map(function(e){return t.getVizType(e)});return Promise.all(a).then(function(e){var t={};e.forEach(function(e,i){t[o[i]]=e;return t});return Promise.all([this.loadPage(i),this._oURLParsingServicePromise,t,n.getSystemContext(r)])}.bind(this))}.bind(this)).catch(function(i){e.error("Pages - addBookmarkToPage: Personalization cannot be saved: Could not load page.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(o){var s=o[0];var u=o[1];var l=o[2];var h=o[3];var v={id:this._generateId(i),vizType:t.vizType,title:t.title,subTitle:t.subtitle,icon:t.icon,info:t.info,numberUnit:t.numberUnit,target:d.toTargetFromHash(t.url,u),indicatorDataSource:{path:t.serviceUrl,refresh:t.serviceRefreshInterval},vizConfig:t.vizConfig,isBookmark:true};if(r){v.contentProviderId=r}var f=this._getVisualizationData(i,undefined,{},v,{},l,u,h);var P=parseInt(/pages\/(\d+)/.exec(s)[1],10);var g=this._oPagesModel.getProperty(s);var p;if(n){p=g.sections.find(function(e){return e.id===n});if(!p){e.error("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.");return Promise.reject("Pages - addBookmarkToPage: Adding bookmark tile failed: specified section was not found in the page.")}}else{p=g.sections.find(function(e){return e.default});if(!p){return this.addSection(P,0,{title:a.i18n.getText("DefaultSection.Title"),default:true,visualizations:[f]})}}p.visualizations.push(f);this._oPagesModel.refresh();return this._oCdmServicePromise.then(function(e){return e.getPage(i)}).catch(function(i){e.error("Pages - addBookmarkToPage: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var t=e.payload.sections[p.id];t.layout.vizOrder.push(f.id);t.viz[f.id]=c.getVizRef(f);return this._conditionalSavePersonalization(i)}.bind(this))}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype._visitPages=function(e){return this._oCdmServicePromise.then(function(e){return e.getAllPages()}).then(function(i){i=i||[];i.forEach(function(i){e(i)})})};l.prototype._visitSections=function(e){return this._visitPages(function(i){var t=i.payload&&i.payload.sections||{};Object.keys(t).forEach(function(n){e(t[n],i)})})};l.prototype._visitVizReferences=function(e){return this._visitSections(function(i,t){var n=i.viz||{};Object.keys(n).forEach(function(r){e(n[r],i,t)})})};l.prototype._findBookmarks=function(e){var i=[];return this._oURLParsingServicePromise.then(function(t){var n=d.toTargetFromHash(e.url,t);n=c.harmonizeTarget(n);return this._visitVizReferences(function(t,r,a){if(t.isBookmark&&e.vizType===t.vizType&&(t.contentProviderId||"")===(e.contentProviderId||"")&&d.isSameTarget(n,t.target)){i.push({vizRefId:t.id,sectionId:r.id,pageId:a.identification.id})}}).then(function(){return i})}.bind(this))};l.prototype.countBookmarks=function(e){return this._findBookmarks(e).then(function(e){return e.length})};l.prototype.deleteBookmarks=function(e,i,t){var n=0;return this._findBookmarks(e).then(function(e){return e.reduce(function(e,r){if(i&&r.pageId!==i){return e}if(t&&r.sectionId!==t){return e}return e.then(function(){return this.findVisualization(r.pageId,r.sectionId,null,r.vizRefId)}.bind(this)).then(function(e){var i=e[0];var t=this.getPageIndex(i.pageId);return this.deleteVisualization(t,i.sectionIndex,i.vizIndexes[0])}.bind(this)).then(function(){n=n+1}).catch(function(){})}.bind(this),Promise.resolve())}.bind(this)).then(function(){return n})};l.prototype.updateBookmarks=function(i,t){if(!i||!i.url||typeof i.url!=="string"){e.error("Fail to update bookmark. No valid URL");return Promise.reject("Invalid URL provided")}if(!t||typeof t!=="object"){e.error("Fail to update bookmark. No valid parameters, URL is: "+i.url);return Promise.reject("Missing parameters")}var n=0;return Promise.all([this._oURLParsingServicePromise,this._findBookmarks(i)]).then(function(e){var i=e[0];var r=e[1];return r.reduce(function(e,r){return e.then(function(){return this.findVisualization(r.pageId,r.sectionId,null,r.vizRefId)}.bind(this)).then(function(e){var n=e[0];var r=this.getPageIndex(n.pageId);var a={subtitle:t.subtitle,icon:t.icon,info:t.info,numberUnit:t.numberUnit,indicatorDataSource:{path:t.serviceUrl,refresh:t.serviceRefreshInterval},vizConfig:t.vizConfig};if(t.title){a.title=t.title}if(t.url){a.target=c.harmonizeTarget(d.toTargetFromHash(t.url,i))}return this.updateVisualization(r,n.sectionIndex,n.vizIndexes[0],a)}.bind(this)).then(function(){n=n+1}).catch(function(){})}.bind(this),Promise.resolve())}.bind(this)).then(function(){return n})};l.prototype.updateVisualization=function(e,i,a,o){return this._oCdmServicePromise.then(function(e){return Promise.all([e.getCachedVisualizations(),e.getApplications(),e.getCachedVizTypes(),this._oURLParsingServicePromise])}.bind(this)).then(function(s){var u=s[0];var l=s[1];var h=s[2];var v=s[3];var f=this._oPagesModel.getProperty("/pages/"+e);var P=f.sections[i];var g=P.visualizations;var p=g[a];var z={};this.setPersonalizationActive(true);if(this._isPropertyChanged(p.title,o.title)){z.title=o.title}if(o.target&&!d.isSameTarget(p.target,o.target)){z.target=o.target}if(this._isPropertyChanged(p.subtitle,o.subtitle)){z.subtitle=o.subtitle}if(this._isPropertyChanged(p.icon,o.icon)){z.icon=o.icon}if(this._isPropertyChanged(p.info,o.info)){z.info=o.info}if(this._isPropertyChanged(p.numberUnit,o.numberUnit)){z.numberUnit=o.numberUnit}if(this._isPropertyChanged(p.displayFormatHint,o.displayFormatHint)){z.displayFormatHint=o.displayFormatHint}if(o.indicatorDataSource&&p.indicatorDataSource&&(this._isPropertyChanged(p.indicatorDataSource.path,o.indicatorDataSource.path)||this._isPropertyChanged(p.indicatorDataSource.refresh,o.indicatorDataSource.refresh))){z.indicatorDataSource=t(p.indicatorDataSource);n(z.indicatorDataSource,o.indicatorDataSource)}if(o.vizConfig){p.vizConfig=r({},p.vizConfig,o.vizConfig);z.vizConfig=p.vizConfig}n(p,z);var m=c.getVizRef(p);p=this._getVisualizationData(f.id,m.vizId,u,m,l,h,v);g[a]=p;this._oPagesModel.refresh();return this._updateVisualizationCDMData(f.id,P.id,p.id,z)}.bind(this))};l.prototype._updateVisualizationCDMData=function(i,t,r,a){return this._oCdmServicePromise.then(function(e){return e.getPage(i)}).catch(function(i){e.error("Pages - updateVisualization: Personalization cannot be saved: CDM Service or Page cannot be retrieved.",i,this.COMPONENT_NAME);return Promise.reject(i)}.bind(this)).then(function(e){var i=e.payload.sections[t].viz[r];var o=c.getVizRef(a);o.vizConfig=a.vizConfig;n(i,o);return this._conditionalSavePersonalization(e.identification.id)}.bind(this)).catch(function(e){this.setPersonalizationActive(false);return Promise.reject(e)}.bind(this))};l.prototype._isPropertyChanged=function(e,i){if((i||i==="")&&e!==i){return true}return false};l.hasNoAdapter=true;return l},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Personalization",["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/_Personalization/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/_Personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/_Personalization/WindowAdapterContainer","sap/ui/base/ManagedObject","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,n,r,i,a,o,s,p,d,u,c,l,f,h){"use strict";function _(t,n,r,a){this._oConfig=a&&a.config||{};this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new i(this,t)};this._oAdapterWindowOnly={lazy:false,instance:new i(this,undefined)};this._oContainerMap=new e.Map;this._oPendingOperationsMap=new e.Map}_.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseded by subsequent save";_.prototype.constants=n;_.prototype._configureAppVariantStorage=function(e){var t=this,n="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!e){e={adapter:{module:n}}}if(Object.keys(e).length===0||e.enabled===false){return}var r=e.adapter&&e.adapter.module||n,a=r.split(".").join("/");var o=function(){t._oAppVariantAdapterLoadPromise=t._oAppVariantAdapterLoadPromise||function(){var e=new f.Deferred;try{sap.ui.require([a],n)}catch(t){e.reject(t)}function n(n){try{var r=new n;var a=new i(t,r);e.resolve(a)}catch(t){e.reject(t)}}return e.promise()}();return t._oAppVariantAdapterLoadPromise};return{lazy:true,create:o}};_.prototype.getGeneratedKey=function(){return e.generateRandomKey()};_.prototype.getPersonalizer=function(e,t,n){n=n||this._getApplicationComponent();return new s(this,this._oAdapterWithBackendAdapter.instance,e,t,n)};_.prototype._getApplicationComponent=function(){var e;var t=l._sOwnerId;if(t){e=sap.ui.getCore().getComponent(t);if(e instanceof sap.ui.core.UIComponent){return e}}return undefined};_.prototype.getTransientPersonalizer=function(){return new a};_.prototype.getContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,false,n)};_.prototype.createEmptyContainer=function(e,t,n){n=n||this._getApplicationComponent();return this._createContainer(e,t,true,n)};_.prototype._createContainer=function(n,i,a,o){var s=this,p,d,u,c,l,h,_=new f.Deferred;if(typeof n!=="string"){throw new e.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}h=!!(t.isAppVariant(o)&&(!i||!i.shared)&&this._oAppVariantAdapterWithBackendAdapter);c=t.adjustScope(i);l=t.addContainerPrefix(n);if(h){var A=o.getManifestObject();c.component=o;c.appVarId=A.getEntry("/sap.ui5/appVariantId");c.appVersion=A.getEntry("/sap.app/applicationVersion/version");l+="#"+A.getEntry("/sap.ui5/appVariantId")}d=h?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;p=s._oAdapterWindowOnly;u=t.pickAdapter(i,p,d);t.loadAdapter(u).then(function(e){var t,n=new r(s,e,l,c,o);var i=e&&e.supportsGetWithoutSubsequentLoad===true;if(a&&i){t=new f.Deferred;t.resolve(n)}else{t=n.load()}t.fail(function(){_.reject()}).done(function(){if(a||n._isExpired()){n.clear()}_.resolve(n)})},function(e){_.reject(e)});return _.promise()};_.prototype.delContainer=function(e,n){var r={},i,a="",o=this;n=o._adjustScope(n);a=t.addContainerPrefix(e);r=new f.Deferred;i=o._pendingContainerOperations_cancelAddNext(e,null);i.always(function(){o.getContainer(e,n).fail(function(){o._pendingContainerOperations_cancelAddNext(e,r);r.reject()}).done(function(){var i;o._pendingContainerOperations_cancelAddNext(e,r);i=n.validity===0?o._oAdapterWindowOnly:o._oAdapterWithBackendAdapter;t.loadAdapter(i).then(function(e){e.delAdapterContainer(a,n).fail(function(){r.reject()}).done(function(){r.resolve()})},function(){r.reject()})})});return r.promise()};_.prototype._pendingContainerOperations_flushAddNext=function(e,t){var n,r;n=this._oPendingOperationsMap.get(e);if(!n){n=new f.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;if(typeof n._sapFnSave==="function"){r=n._sapFnSave;n._sapFnSave=undefined;r()}return n};_.prototype._pendingContainerOperations_cancelAddNext=function(e,t){var n;n=this._oPendingOperationsMap.get(e);if(!n){n=new f.Deferred;n.resolve()}if(t!==null){this._oPendingOperationsMap.put(e,t)}if(!n||n.state()!=="pending"){return n}if(n._sapTimeoutId){clearTimeout(n._sapTimeoutId);n._sapTimeoutId=undefined;n.resolve(_.prototype.SAVE_DEFERRED_DROPPED)}return n};_.prototype.getPersonalizationContainer=function(n){var r="",i={},a={};if(typeof n!=="string"){throw new e.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ")}r=t.addContainerPrefix(n);if(this._oContainerMap.containsKey(r)){return this._oContainerMap.get(r).promise()}a=new f.Deferred;i=new o(this._oAdapterWithBackendAdapter.instance,r);i.done(function(e){a.resolve(e)}).fail(function(e){a.reject(e)});this._oContainerMap.put(r,a);return a.promise()};_.prototype.delPersonalizationContainer=function(e){var n={},r="",i=this;r=t.addContainerPrefix(e);n=new f.Deferred;this.getPersonalizationContainer(e).fail(function(){n.reject()}).done(function(){i._oAdapterWithBackendAdapter.instance.delAdapterContainer(r).fail(function(){n.reject()}).done(function(){i._oContainerMap.remove(r);n.resolve()})});return n.promise()};_.prototype._getBackendAdapter=function(){return this._oAdapterWithBackendAdapter.instance._oBackendAdapter};_.prototype.resetEntirePersonalization=function(){var e=this._getBackendAdapter();return this.isResetEntirePersonalizationSupported().then(function(t){if(t){return e.resetEntirePersonalization()}return Promise.reject()})};_.prototype.isResetEntirePersonalizationSupported=function(){var e=this._getBackendAdapter();if(typeof e.resetEntirePersonalization!=="function"){return Promise.resolve(false)}if(typeof e.isResetEntirePersonalizationSupported==="function"){return e.isResetEntirePersonalizationSupported().then(function(e){return e}).catch(function(e){h.error("isResetEntirePersonalizationSupported failed with error: "+e.toString());return Promise.reject(e)})}return Promise.resolve(true)};_.prototype._adjustScope=t.adjustScope;_.hasNoAdapter=false;_.ContextContainer=r;_.Variant=d;_.VariantSet=u;_.VariantSetAdapter=p;_.WindowAdapter=i;_.WindowAdapterContainer=c;return _},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ReferenceResolver",["sap/ushell/User","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log"],function(e,t,r,n,a){"use strict";function s(){this.getValue=function(t){var n=new r.Deferred;var a;if(t==="User.env.sap-ui-legacy-date-format"){a=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat()}if(t==="User.env.sap-ui-legacy-number-format"){a=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyNumberFormat()}if(t==="User.env.sap-ui-legacy-time-format"){a=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyTimeFormat()}if(t==="User.env.sap-language"){a=sap.ushell.Container.getUser().getLanguage()}if(t==="User.env.sap-languagebcp47"){a=sap.ushell.Container.getUser().getLanguageBcp47()}if(t==="User.env.sap-accessibility"){a=sap.ushell.Container.getUser().getAccessibilityMode()?"X":undefined}if(t==="User.env.sap-statistics"){a=sap.ui.getCore().getConfiguration().getStatistics()?"true":undefined}if(t==="User.env.sap-theme"){a=sap.ushell.Container.getUser().getTheme(e.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}if(t==="User.env.sap-theme-name"){a=sap.ushell.Container.getUser().getTheme()}if(t==="User.env.sap-theme-NWBC"){a=sap.ushell.Container.getUser().getTheme(e.prototype.constants.themeFormat.NWBC)}n.resolve({value:a});return n.promise()}}function i(e,i,u){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new s}return this.oUserEnvReferenceResolver};this.resolveReferences=function(e,t){var s=this;var i=new r.Deferred;var u=[];var f=true;var l={};var o={};var c=sap.ushell.Container.getServiceAsync("UserDefaultParameters");var g,p;if(!t){p=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext()})}else{p=Promise.resolve(t)}var v=e.map(function(e){var t;if(e.indexOf("User.env.")===0){t=e;o[t]=1}if(e.indexOf("UserDefault.")===0){t=s._extractAnyUserDefaultReferenceName(e);l[t]=1}if(typeof t!=="string"){f=false;a.error("'"+e+"' is not a legal reference name",null,"sap.ushell.services.ReferenceResolver")}return{full:e,name:t}});if(!f){return i.reject("One or more references could not be resolved").promise()}Promise.all([p,c]).then(function(e){var t=e[0];var a=e[1];Object.keys(l).forEach(function(e){u.push(a.getValue(e,t))});Object.keys(o).forEach(function(e){g=g||s._getUserEnvReferenceResolver();u.push(g.getValue(e))});r.when.apply(r,u).done(function(){var e={};var t=0,r=arguments;Object.keys(l).forEach(function(e){l[e]=r[t];t=t+1});Object.keys(o).forEach(function(e){o[e]=r[t];t=t+1});v.forEach(function(t){var r;if(t.full.indexOf("UserDefault.extended.")===0){r=s.mergeSimpleAndExtended(l[t.name]);if(!n(r)){e[t.full]=r}else{e[t.full]=undefined}}else if(t.full.indexOf("UserDefault.")===0){e[t.full]=l[t.name].value}else if(t.full.indexOf("User.env.")===0){e[t.full]=o[t.name].value}});i.resolve(e)})});return i.promise()};this._extractAnyUserDefaultReferenceName=function(e){var t=this.extractExtendedUserDefaultReferenceName(e);if(typeof t==="string"){return t}return this.extractUserDefaultReferenceName(e)};this.extractExtendedUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.extended.")!==0){return undefined}return e.replace(/^UserDefault[.]extended[.]/,"")};this.extractUserDefaultReferenceName=function(e){if(typeof e!=="string"||e.indexOf("UserDefault.")!==0||e.indexOf("UserDefault.extended.")===0){return undefined}return e.replace(/^UserDefault[.]/,"")};this.mergeSimpleAndExtended=function(e){var t=r.extend(true,{},e.extendedValue);if(typeof e.value==="string"){if(!Array.isArray(t.Ranges)){t.Ranges=[]}t.Ranges.push({Sign:"I",Option:"EQ",Low:e.value,High:null})}return t};function f(e){var t=/{([^}%]*%%[^%]+%%)}?/g,r=/([^%]*)%%/,n=/%%([^%]+)%%/,a,s,i,u=[];a=t.exec(e);while(a){s=r.exec(a[1]);i=n.exec(a[1]);u.push({edmType:s[1],name:i[1]});a=t.exec(e)}return u}this.resolveUserDefaultParameters=function(e,n){var a=new r.Deferred,s,i,u=[],l;l=/[^(?]*/.exec(e);s=l===null?[]:f(l[0]);s.forEach(function(e){u.push(e.name)});l=/[(?][^]*/.exec(e);s=l===null?[]:f(l[0]);var o=[],c={};s.forEach(function(e){o.push(e.name);c[e.name]=e.edmType});i=o.filter(function(e){if(/^UserDefault\.(?!extended\.).+/.test(e)){return true}u.push(e);return false});if(i.length>0){this.resolveReferences(i,n).done(function(r){var n=e,s=[];Object.keys(r).forEach(function(e){var a,i=false;while(a!=n){a=n;if(r[e]!==undefined){var u=t.formatValue(r[e],c[e]);n=n.replace("{"+c[e]+"%%"+e+"%%}",window.encodeURIComponent(u))}else{i=true;n=n.replace("{"+c[e]+"%%"+e+"%%}","")}}if(i){s.push(e)}});a.resolve({url:n,defaultsWithoutValue:s,ignoredReferences:u})})}else{a.resolve({url:e,defaultsWithoutValue:[],ignoredReferences:u})}return a.promise()}}i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SupportTicket",["sap/ushell/Config"],function(e){"use strict";function t(t,i,n,r){this.createTicket=function(e){return t.createTicket(e)};this.isEnabled=function(){return e.last("/core/extension/SupportTicket")}}t.hasNoAdapter=false;return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameterPersistence",["sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(e,t,r){"use strict";var s=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function n(e){this._oAdapter=e;this._oData={}}n.prototype._cleanseValue=function(t){var r=e.extend(true,{},t);for(var n in r){if(r.hasOwnProperty(n)&&s.indexOf(n)<0){delete r[n]}}return r};n.prototype._getSystemContextPromise=function(e){if(!e){r.warning("UserDefaultParameterPersistence: The systemContext was not provided, using defaultSystemContext as fallback");return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext()})}return Promise.resolve(e)};n.prototype.loadParameterValue=function(s,n){var i=new e.Deferred;this._getSystemContextPromise(n).then(function(e){var n=t.get([e.id,s],this._oData);if(n!==undefined){i.resolve(n)}else{this._oAdapter.loadParameterValue(s,e).done(function(n){var a=this._cleanseValue(n);t.set([e.id,s],a,this._oData);r.debug('[UserDefaults] Fetched "'+s+'" for SystemContext='+e.id+" from Persistence",JSON.stringify(a,null,2));i.resolve(a)}.bind(this)).fail(i.reject.bind(this))}}.bind(this));return i.promise()};n.prototype.saveParameterValue=function(s,n,i){var a=new e.Deferred;var o;this._getSystemContextPromise(i).then(function(e){if(!n){return this.deleteParameter(s,e).done(a.resolve).fail(a.reject)}o=this._cleanseValue(n);if(n&&n.noStore===true){r.debug('[UserDefaults] Skipped Save "'+s+'" for SystemContext='+e.id,"noStore=true");return a.resolve()}r.debug('[UserDefaults] Saving "'+s+'" for SystemContext='+e.id+" to Persistence",JSON.stringify(o,null,2));t.set([e.id,s],o,this._oData);return this._oAdapter.saveParameterValue(s,o,e).done(a.resolve).fail(a.reject)}.bind(this));return a.promise()};n.prototype.deleteParameter=function(t,s){var n=new e.Deferred;this._getSystemContextPromise(s).then(function(e){if(this._oData[e.id]){r.debug('[UserDefaults] Deleting "'+t+'" for SystemContext='+e.id+" from Persistence");delete this._oData[e.id][t]}return this._oAdapter.deleteParameter(t,e).done(n.resolve).fail(n.reject)}.bind(this));return n.promise()};n.prototype.getStoredParameterNames=function(t){var r=new e.Deferred;this._getSystemContextPromise(t).then(function(e){this._oAdapter.getStoredParameterNames(e).done(function(e){e.sort();r.resolve(e)}).fail(r.reject.bind(r))}.bind(this));return r.promise()};n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameters",["sap/ui/base/EventProvider","sap/base/Log","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/util/deepEqual","sap/base/util/isEmptyObject"],function(e,t,a,r,n,i){"use strict";var s="valueStored";var o=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function u(u,l,f,d){this._aPlugins=[];this._oUserDefaultParametersNames={};this._oWasParameterPersisted={};var c=this;var h=new e;function m(e){var t=typeof e.getComponentData==="function"&&e.getComponentData()&&e.getComponentData().config&&e.getComponentData().config["sap-priority"]||0;if(typeof t!=="number"||isNaN(t)){return 0}return t}this._insertPluginOrdered=function(e,t){var a=m(t),r,n;for(r=0;r<e.length&&t;++r){n=m(e[r]);if(t&&a>n){e.splice(r,0,t);t=undefined}}if(t){e.push(t)}return e};this.registerPlugin=function(e){this._aPlugins=this._insertPluginOrdered(this._aPlugins,e)};this._getUserDefaultValueFromPlugin=function(e,a,r,n){var i;if(typeof e.getUserDefault==="function"){i=new Promise(function(i,s){e.getUserDefault(a,n,r).done(function(s){var o=s||n;var u=this._getComponentNameOfPlugin(e);t.debug('[UserDefaults] Fetched "'+a+'" for SystemContext='+r.id+" from Plugin="+u,JSON.stringify(o,null,2));i(o)}.bind(this)).fail(function(){t.error('invocation of getUserDefault("'+a+'") for plugin '+c._getComponentNameOfPlugin(e)+" rejected.",null,"sap.ushell.services.UserDefaultParameters");i(n)})}.bind(this))}else{i=Promise.resolve(n)}return i};this._iterateOverPluginsToGetDefaultValue=function(e,a,r,n){return new Promise(function(i,s){n.loadPlugins("UserDefaults").done(function(){var t=this._aPlugins.reduce(function(t,a){var n=t.then(this._getUserDefaultValueFromPlugin.bind(this,a,e,r));return n}.bind(this),Promise.resolve(a));t.then(i)}.bind(this)).fail(function(){t.error("Cannot get value for "+e+". One or more plugins could not be loaded.");s("Initialization of plugins failed")})}.bind(this))};this._getStoreDate=function(){return(new Date).toString()};this._storeValue=function(e,t,a,r){if(a&&t.extendedValue){return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(n){return new Promise(function(i){n.getUserDefaultParameterNames(r).done(function(n){var s=this._extractKeyArrays(n);var o=s.extended.indexOf(e)<0;this._saveParameterValue(e,t,a,o,r).then(i)}.bind(this)).fail(function(){this._saveParameterValue(e,t,a,false,r).then(i)}.bind(this))}.bind(this))}.bind(this))}return this._saveParameterValue(e,t,a,false,r)};this._saveParameterValue=function(e,t,n,i,o){if(i){t.extendedValue=undefined}if(n&&this._valueIsEmpty(t)){t=undefined;this._oWasParameterPersisted[e]=false}else{t._shellData=r.extend(true,{storeDate:this._getStoreDate()},t._shellData)}return sap.ushell.Container.getServiceAsync("UserDefaultParameterPersistence").then(function(r){return new Promise(function(n){r.saveParameterValue(e,t,o).always(function(){var r={parameterName:e,parameterValue:a.clone(t||{}),systemContext:o};h.fireEvent(s,r);n(e)})})})};this._getPersistedValue=function(e,t){return new Promise(function(a,r){sap.ushell.Container.getServiceAsync("UserDefaultParameterPersistence").then(function(n){n.loadParameterValue(e,t).done(a).fail(r)})})};this._valueIsEmpty=function(e){return!e||!e.value&&!e.extendedValue};this._haveSameMembersValue=function(e,t,a){return a.every(function(a){return e[a]===t[a]||n(e[a],t[a])})};this._getUserDefaultParameterNames=function(e){if(!this._oUserDefaultParametersNames[e.id]){this._oUserDefaultParametersNames[e.id]=new Promise(function(t){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(a){a.getUserDefaultParameterNames(e).done(function(e){var a=this._extractKeyArrays(e);var r=a.extended;var n=a.allParameters;var i=this._arrayToObject(n);t({aAllParameterNames:n,aExtendedParameterNames:r,oMetadataObject:i})}.bind(this))}.bind(this))}.bind(this))}return this._oUserDefaultParametersNames[e.id]};this._isRelevantParameter=function(e,t){return this._getUserDefaultParameterNames(t).then(function(t){if(!t.aAllParameterNames||t.aAllParameterNames.indexOf(e)===-1){throw new Error('The given parameter "'+e+'" is not part of the list of parameters for the given system context.')}})};this.hasRelevantMaintainableParameters=function(e){var t=false;var a=[];return new Promise(function(n){this._getUserDefaultParameterNames(e).then(function(s){if(!i(s)&&s.aAllParameterNames){s.aAllParameterNames.forEach(function(r){var n=this.getValue(r,e);a.push(n);n.done(function(e){if(e&&!e.hasOwnProperty("noEdit")){t=true}})}.bind(this));r.when.apply(undefined,a).done(function(){n(t)}).fail(function(){n()})}else{n()}}.bind(this))}.bind(this))};this.getValue=function(e,t){var n=new r.Deferred;this._isRelevantParameter(e,t).then(function(){return this._getPersistedValue(e,t).then(function(t){this._oWasParameterPersisted[e]=true;return t||{}}.bind(this)).catch(function(){return{value:undefined}})}.bind(this)).then(function(e){var t=a.clone(e);var r=!e._shellData&&this._valueIsEmpty(e)||e.noStore||e.alwaysAskPlugin;if(!r){n.resolve(e);return}return Promise.all([t,e,sap.ushell.Container.getServiceAsync("PluginManager")])}.bind(this)).then(function(a){var r=a[0];var i=a[1];var s=a[2];return this._iterateOverPluginsToGetDefaultValue(e,i,t,s).then(function(a){if(!this._oWasParameterPersisted[e]||!this._haveSameMembersValue(r,a,o)){this._oWasParameterPersisted[e]=true;this._storeValue(e,a,false,t).then(function(){n.resolve(a)})}else{n.resolve(a)}}.bind(this)).catch(n.reject)}.bind(this)).catch(function(){n.resolve({value:undefined})});return n.promise()};this._addParameterValuesToParameters=function(e,t,a){var n=new r.Deferred;var i=[];t.forEach(function(t){var r=this.getValue(t,a);i.push(r);r.done(function(a){e[t].valueObject=a})}.bind(this));r.when.apply(r,i).done(n.resolve.bind(n,e)).fail(n.reject.bind(n,e));return n.promise()};this._arrayToObject=function(e){var t={};e.forEach(function(e){t[e]={}});return t};this._getComponentNameOfPlugin=function(e){try{return e.getMetadata().getComponentName()||""}catch(e){return"'name of plugin could not be determined'"}};this._getEditorDataAndValue=function(e,a,n,i,s){var o=this;var u=[];var l=[];this._aPlugins.forEach(function(e){if(typeof e.getEditorMetadata==="function"){var a=new r.Deferred;u.push(a);try{var n=u.length-1;e.getEditorMetadata(i,s).done(function(e){l[n]=e}).always(a.resolve).fail(function(){t.error("EditorMetadata for plugin "+o._getComponentNameOfPlugin(e)+"cannot be invoked.",null,"sap.ushell.services.UserDefaultParameters");a.resolve()})}catch(e){t.error("Error invoking getEditorMetaData on plugin: "+e+e.stack,null,"sap.ushell.services.UserDefaultParameters");a.resolve()}}});r.when.apply(r,u).done(function(){var u=[];var f=l.reverse().reduce(function(e,t){a.forEach(function(a){if(t[a]&&t[a].editorMetadata){e[a].editorMetadata=t[a].editorMetadata}});return e},i);a.forEach(function(e){if(!(f[e]&&f[e].editorMetadata)){u.push(e)}});o._addParameterValuesToParameters(f,a,s).done(function(a){var i=r.extend(true,{},a),s;n.forEach(function(e){if(i[e]){i[e].editorMetadata=i[e].editorMetadata||{};i[e].editorMetadata.extendedUsage=true}});s=Object.keys(i).splice(0);s.forEach(function(e){var t;if(i[e].valueObject&&i[e].valueObject.noEdit===true){delete i[e];t=u.indexOf(e);if(t>=0){u.splice(t,1)}}});if(u.length>0){t.error('The following parameter names have no editor metadata and thus likely no configured plugin:\n"'+u.join('",\n"')+'".')}e.resolve(i)}).fail(e.reject.bind(e))})};this.editorGetParameters=function(e){var a=new r.Deferred;Promise.all([sap.ushell.Container.getServiceAsync("PluginManager"),this._getUserDefaultParameterNames(e)]).then(function(r){var n=r[0];var i=r[1];if(i.oMetadataObject.length===0){a.resolve({})}else{n.loadPlugins("UserDefaults").done(function(){this._getEditorDataAndValue(a,i.aAllParameterNames,i.aExtendedParameterNames,i.oMetadataObject,e)}.bind(this)).fail(function(){t.error("One or more plugins could not be loaded");a.reject("Initialization of plugins failed")})}}.bind(this));return a.promise()};this._extractKeyArrays=function(e){var t={simple:e&&e.simple&&Object.keys(e.simple).sort()||[],extended:e&&e.extended&&Object.keys(e.extended).sort()||[]};var a=t.extended.filter(function(e){return t.simple.indexOf(e)<0});t.allParameters=t.simple.concat(a).sort();return t};this.editorSetValue=function(e,t,a){var n=new r.Deferred;this._storeValue(e,t,true,a).then(n.resolve);return n.promise()};this.attachValueStored=function(e){h.attachEvent(s,e)};this.detachValueStored=function(e){h.detachEvent(s,e)}}u.hasNoAdapter=true;return u},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserRecents",["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/base/util/ObjectPath","./_UserRecents/RecentsList","./_UserRecents/RecentActivity","./_UserRecents/RecentAppsUsage"],function(e,t,c,o,r,n,a){"use strict";var s=e.extend("sap.ushell.services.UserRecents",{constructor:function(){this.oRecentSearches=new r("RecentSearches",10,s._compareSearchItems);this.oRecentDataSources=new r("RecentDataSources",6,s._compareDataSources);this.oRecentApps=new r("RecentApps",6,s._compareApps);this.oRecentActivity=new n(500);this.oAppsUsage=new a}});s._compareSearchItems=function(e,t){var c=false;if(e.oDataSource&&t.oDataSource){if(e.oDataSource.objectName&&t.oDataSource.objectName){c=e.sTerm===t.sTerm&&e.oDataSource.objectName.value===t.oDataSource.objectName.value}if(!e.oDataSource.objectName&&!t.oDataSource.objectName){c=e.sTerm===t.sTerm}}if(!e.oDataSource&&!t.oDataSource){c=e.sTerm===t.sTerm}return c};s._compareDataSources=function(e,t){if(e.objectName&&t.objectName){return e.objectName.value===t.objectName.value}return false};s._compareApps=function(e,t){return e.semanticObject===t.semanticObject&&e.action===t.action};s.prototype.addActivity=function(e){var c=new t.Deferred;this.oRecentActivity.newItem(e).done(function(){this.oRecentActivity.getRecentItems().done(c.resolve).fail(c.reject)}.bind(this)).fail(c.reject);return c.promise()};s.prototype.clearRecentActivities=function(){return this.oRecentActivity.clearAllActivities()};s.prototype.getRecentActivity=function(){return this.oRecentActivity.getRecentItems()};s.prototype.getFrequentActivity=function(){return this.oRecentActivity.getFrequentItems()};s.prototype.noticeDataSource=function(e){var c=o.get("objectName.value",e)||"";var r=o.get("objectName",e)||"";var n=c.toLowerCase()==="$$all$$";var a=r.toLowerCase()==="$$all$$";if(!n&&!a){var s=new t.Deferred;this.oRecentDataSources.newItem(e).done(function(){this.oRecentDataSources.getRecentItems().done(s.resolve).fail(s.reject)}.bind(this)).fail(s.reject);return s.promise()}return this.oRecentDataSources.getRecentItems()};s.prototype.addDataSourceActivity=s.prototype.noticeDataSource;s.prototype.getRecentDataSources=function(){return this.oRecentDataSources.getRecentItems()};s.prototype.noticeSearch=function(e){var c=new t.Deferred;this.oRecentSearches.newItem(e).done(function(){this.oRecentSearches.getRecentItems().done(c.resolve).fail(c.reject)}.bind(this)).fail(c.reject);return c.promise()};s.prototype.addSearchActivity=s.prototype.noticeSearch;s.prototype.getRecentSearches=function(){return this.oRecentSearches.getRecentItems()};s.prototype.noticeApp=function(e){var c=new t.Deferred;this.oRecentApps.newItem(e).done(function(){this.oRecentApps.getRecentItems().done(c.resolve).fail(c.reject)}.bind(this)).fail(c.reject);return c.promise()};s.prototype.addAppActivity=s.prototype.noticeApp;s.prototype.getRecentApps=function(){return this.oRecentApps.getRecentItems()};s.prototype.addAppUsage=function(e){var t=c.getBasicHash(e);this.oAppsUsage.addAppUsage(t)};s.prototype.getAppsUsage=function(){return this.oAppsUsage.getAppsUsage()};s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/VisualizationDataProvider",["sap/ushell/resources","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/utils/chipsUtils","sap/base/Log","sap/ushell/Config"],function(i,t,e,a,o,r,l){"use strict";var n=a.DisplayFormat;function s(){this.S_COMPONENT_NAME="sap.ushell.services.VisualizationDataProvider";this._init.apply(this,arguments)}s.prototype._init=function(i){this.oLaunchPageAdapter=i;this.oCatalogTilePromise=null};s.prototype._getCatalogTileIndex=function(){if(this._oCatalogTileIndexPromise){return this._oCatalogTileIndexPromise}var i=this.oLaunchPageAdapter;return i._getCatalogTileIndex()};s.prototype._getCatalogTiles=function(){if(this.oCatalogTilePromise){return this.oCatalogTilePromise}var i=this.oLaunchPageAdapter;this.oCatalogTilePromise=new Promise(function(t,a){i.getCatalogs().then(function(o){var r=[];var n=[];var s=[];var u={};for(var p=0;p<o.length;p++){if(typeof o[p].ui2catalog==="undefined"||o[p].ui2catalog.getType()!=="REMOTE"){r.push(i.getCatalogTiles(o[p]).then(function(i){n.push(i)}))}}e.when.apply(null,r).done(function(){s=[].concat.apply([],n);for(var e=0;e<s.length;e++){var a=i.getCatalogTileId(s[e]);if(l.last("/core/stableIDs/enabled")){a=i.getStableCatalogTileId(s[e])}u[a]=s[e]}t(u)}).fail(a)}).fail(a)});return this.oCatalogTilePromise};s.prototype.getVisualizationData=function(){var t;var e=this.oLaunchPageAdapter;if(this._oVisualizationDataPromise){return this._oVisualizationDataPromise}this._oVisualizationDataPromise=Promise.all([this._getCatalogTiles(),this._getCatalogTileIndex()]).then(function(i){var a=i[0];t=i[1];var o=Object.keys(a).filter(function(i){return e.isTileIntentSupported(a[i])}).map(function(i){var t=a[i];if(!e.getCatalogTilePreviewTitle(t)){return new Promise(function(i,a){e.getCatalogTileViewControl(t).done(i).fail(a)}).then(function(e){return{id:i,catalogTile:t,view:e}})}return Promise.resolve({id:i,catalogTile:t})});return Promise.all(o)}).then(function(i){return i.reduce(function(i,a){var o=a.id;var r=a.view;var l=a.catalogTile;var n=l.getChip().getBaseChipId();i.visualizations[o]={vizType:n,title:e.getCatalogTilePreviewTitle(l),subTitle:e.getCatalogTilePreviewSubtitle(l),icon:e.getCatalogTilePreviewIcon(l),info:e.getCatalogTilePreviewInfo(l),keywords:e.getCatalogTileKeywords(l),size:e.getCatalogTileSize(l),indicatorDataSource:e.getCatalogTilePreviewIndicatorDataSource(l),url:e.getCatalogTileTargetURL(l),numberUnit:e.getCatalogTileNumberUnit(l),isCustomTile:e.isCustomTile&&e.isCustomTile(l)};if(r){r.destroy()}if(t[o]){i.visualizations[o]._instantiationData={platform:"ABAP",simplifiedChipFormat:false,chip:t[o]}}if(i.visualizations[o].isCustomTile&&!i.vizTypes[n]){i.vizTypes[n]={id:n,url:undefined,vizOptions:{displayFormats:this._getDisplayFormats(l,i.visualizations[o].size)},tileSize:i.visualizations[o].size}}return i}.bind(this),{visualizations:{},vizTypes:{},page:{}})}.bind(this)).catch(function(t){var e={component:this.S_COMPONENT_NAME,description:i.i18n.getText("VisualizationDataProvider.CannotLoadData"),detail:t};return Promise.reject(e)}.bind(this));return this._oVisualizationDataPromise};s.prototype._getDisplayFormats=function(i,t){var e=["tile"];var a="tile";var o=i.getContract("types");if(o){e=o.getAvailableTypes();a=o.getDefaultType()}return{supported:this._mapDisplayFormats(e,t),default:this._mapDisplayFormats([a],t)[0]}};s.prototype._mapDisplayFormats=function(i,t){var e={tile:n.Standard,tilewide:n.StandardWide,link:n.Compact,flat:n.Flat,flatwide:n.FlatWide};return i.map(function(i){i=e[i];if(i===n.Standard&&t==="1x2"){return n.StandardWide}return i})};s.prototype.loadVizType=function(i){var t={chipId:i};return o.loadChipInstanceFromSimplifiedChip(t).then(function(t){var e=o.getTileSize(t);return{id:i,url:undefined,vizOptions:{displayFormats:this._getDisplayFormats(t,e)},tileSize:e}}.bind(this)).catch(function(t){r.error("The chipInstance '"+i+"' could not be loaded: ",t)})};s.hasNoAdapter=false;return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/VisualizationInstantiation",["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap","sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm","sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage","sap/ushell/services/_VisualizationInstantiation/VizInstanceLink","sap/m/library","sap/ushell/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(t,e,a,i,n,s,o,r,d,l){"use strict";var c=s.LoadState;var u=o.DisplayFormat;function p(){}p.prototype.instantiateVisualization=function(s){var o;var p=r.get("_instantiationData.platform",s);var v={vizRefId:s.id,title:s.title,subtitle:s.subtitle,icon:s.icon,keywords:s.keywords,instantiationData:s._instantiationData,indicatorDataSource:s.indicatorDataSource,dataSource:s.dataSource,contentProviderId:s.contentProviderId,vizConfig:s.vizConfig,supportedDisplayFormats:s.supportedDisplayFormats,displayFormat:s.displayFormatHint,numberUnit:s.numberUnit,dataHelpId:s.vizId,preview:s.preview};if(v.indicatorDataSource){v.indicatorDataSource.ui5object=true}if((p==="ABAP"||p==="CDM")&&v.displayFormat===u.Compact){this._cleanInstantiationDataForLink(v);p="LINK"}switch(p){case"ABAP":o=new e(v);break;case"CDM":o=new a(v);break;case"LINK":o=new n(v);break;case"LAUNCHPAGE":o=new i(v);break;default:return new t({state:c.Failed})}o.setTargetURL(s.targetURL);if(p!=="LINK"){o.setInfo(s.info)}if(l.isStandardVizType(s.vizType)){try{o.load().then(function(){d.emit("VizInstanceLoaded",s.id)})}catch(t){o.setState(c.Failed);d.emit("VizInstanceLoaded",s.id)}}else{o.setState(c.Loading);d.once("CoreResourcesComplementLoaded").do(function(){try{o.load(true).then(function(){o.setState(c.Loaded)})}catch(t){o.setState(c.Failed)}})}return o};p.prototype._cleanInstantiationDataForLink=function(t){delete t.info;delete t.icon;delete t.keywords;delete t.instantiationData;delete t.dataSource;delete t.contentProviderId;delete t.vizConfig;delete t.numberUnit;delete t.indicatorDataSource;delete t.preview};p.hasNoAdapter=true;return p});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/Formatter",[],function(){"use strict";function e(e){return"#"+e.semanticObject+"-"+e.action+"{"+n(e.signature)+"}"}function r(e){var r=e.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!r){throw"Cannot parse inbound"}var n={semanticObject:r[1],action:r[2],signature:{parameters:{}}};if(!r[3]){return n}n.signature=a(r[4]);return n}function n(e){var r=e||{},n=r.parameters||{},a={optional:"[FORMAT]",required:"FORMAT"},t={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"},u={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};var i=n&&Object.prototype.toString.apply(n)==="[object Object]"&&Object.keys(n).length>0;if(!i){return"<no params>"+(u[r.additionalParameters]||u._unknown)}var o=[];Object.keys(n).forEach(function(e){var r=n[e],u=r.required?"required":"optional",i=r.filter&&r.filter.value,l=r.defaultValue&&r.defaultValue.value,f=r.filter&&r.filter.format||"plain",s=r.defaultValue&&r.defaultValue.format||"plain";var c=[],p=t[f]||t._unknown,d=t[s]||t._unknown;if(i){c.push(a["required"].replace("FORMAT",p.replace("VALUE",i)))}if(l){c.push(a["optional"].replace("FORMAT",d.replace("VALUE",l)))}o.push(a[u].replace("FORMAT",e+":"+c.join("")))});return o.join(",")+(u[r.additionalParameters]||u._unknown)}function a(e){function r(e){var r=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce(function(r,n){var a=e.match(n.re);if(r){return r}if(!a){return null}return{format:n.format,value:a[1]}},null);if(r){return r}return{value:e}}function n(e){var n,a,t,u,i,o,l,f,s,c,p,d;d="<no params>";n="[^\\]\\[]";p="("+n+"+?):("+n+"*)(.*)";c="\\["+p+"\\]";s=d+"|"+c+"|"+p;f=new RegExp("^"+s+"$");i={success:false,name:null,value:{}};l=e.match(f);if(!l){return i}o=l.shift();while(l.length>0){u=l.shift();t=l.shift();a=l.shift();if(u){i.name=u;if(t){i.value.filter=r(t)}if(a){i.value.defaultValue=r(a.replace(/\[(.+)\]/,"$1"))}i.value.required=o.charAt(0)!=="["}}i.success=true;return i}function a(e){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce(function(r,n,a,t){if(r){return r}var u=Object.keys(n)[0];if(e===u){return n[u]}return null},null)}function t(e){var r=[];e.split(":").reduce(function(e,n,a,t){var u,i,o;if(a===0){return n}if(a<t.length-1){o=n.split(",");if(o.length>1){i=o.pop();u=o.join(",")}else{return e+":"+n}}else{u=n}r.push([e,u].join(":"));return i},"");return r}var u={parameters:{}};var i=e.substr(e.length-3,3);var o=!!i.match(/<[?o+-]>/);var l=e;if(o){l=e.substr(0,e.length-3)}var f=t(l);f.forEach(function(r){var a=n(r);if(!a.success){throw new Error("Cannot parse parameters from "+e)}if(a.name){u.parameters[a.name]=a.value}});if(o){var s=a(i);if(s){u.additionalParameters=a(i)}}else{u.additionalParameters="ignored"}return u}return{formatInboundSignature:n,parseInboundSignature:a,parseInbound:r,formatInbound:e}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/InboundIndex",["sap/base/util/ObjectPath","sap/base/Log"],function(e,n){"use strict";function t(){return this.index.all}function i(e){if(e==="*"||e===undefined){return this.index.all}return(this.index.segment[e]||[]).concat(this.index.always)}function a(e){return e.map(function(e){return this.index.tag[e]||[]},this).reduce(function(e,n){Array.prototype.push.apply(e,n.filter(function(e){return e.isAlreadyInUnion?false:e.isAlreadyInUnion=true}));return e},[]).map(function(e){delete e.isAlreadyInUnion;return e})}var r={getSegment:i,getAllInbounds:t,getSegmentByTags:a};function u(n,t){var i=e.get("signature.parameters.sap-tag.defaultValue.value",n);if(!i){return}if(!t.tag[i]){t.tag[i]=[]}t.tag[i].push(n)}function s(e,n){var t=e.semanticObject;if(t==="*"){n.always.push(e)}else{if(!n.segment[t]){n.segment[t]=[]}n.segment[t].push(e)}}function o(e){var t={all:e,segment:{},always:[],tag:{}};e.forEach(function(e,i){if(!e){n.warning("Void inbound provided to indexer","the inbound will be skipped");return}u(e,t);s(e,t)});r.index=t;return r}return{createIndex:o,private:{tagInbound:u,createIndex:o,segmentInbound:s}}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/InboundProvider",["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/InboundIndex"],function(n,e){"use strict";function t(){this._init.apply(this,arguments)}t.prototype._init=function(n){this._fnRetrieveInbounds=n;this._oInboundsRetrievalPromise=null};t.prototype.getInbounds=function(n){if(n){return this._getSomeInbounds(n)}return this._getAllInbounds()};t.prototype._getSomeInbounds=function(t){var i=this;return new Promise(function(o,s){i._fnRetrieveInbounds(t).done(function(t){o(e.createIndex(t.concat(n.getInbounds())))}).fail(function(){s.apply(null,arguments)})})};t.prototype._getAllInbounds=function(){var t=this;if(this._oInboundsRetrievalPromise){return this._oInboundsRetrievalPromise}this._oInboundsRetrievalPromise=new Promise(function(i,o){t._fnRetrieveInbounds().done(function(t){i(e.createIndex((t||[]).concat(n.getInbounds())))}).fail(function(){o.apply(null,arguments)})});return this._oInboundsRetrievalPromise};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations",["sap/base/Log","sap/base/util/deepExtend","sap/ui/generic/app/navigation/service/SelectionVariant"],function(e,t,r){"use strict";var a="sap.ushell.services.ClientSideTargetResolution.PrelaunchOperations";function n(e){if(!e){return Promise.resolve(null)}return sap.ushell.Container.getServiceAsync("AppState").then(function(t){return new Promise(function(r,a){t.getAppState(e).done(function(e){r(e)}).fail(function(e){a(e)})})})}function i(e,t,r,a,n){if(e.startupParametersModified){t.mappedIntentParamsPlusSimpleDefaults=a}if(e.defaultedParameterNamesModified){t.mappedDefaultedParamNames=n}if(e.selectionVariantModified){return sap.ushell.Container.getServiceAsync("AppState").then(function(e){var a=e.createEmptyAppState(undefined,true);a.setData({selectionVariant:r.toJSONObject()});return new Promise(function(e,r){a.save().done(function(){t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[a.getKey()];e(t)}).fail(function(e){r(e)})})})}return Promise.resolve(t)}function o(e){var t=e.type;switch(t){case"merge":case"split":return t+" - source: "+e.source+" & target: "+e.target;case"delete":return t+" - target: "+e.target;default:return""}}function s(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].Low}return undefined}function u(e,t){if(t.getSelectOption(e)){return t.getSelectOption(e)[0].High}return undefined}function l(e,t){if(t[e]){return t[e][0]}return undefined}function f(e,t,r){var a=e.source[0],n=e.source[1],i=s(a,t),o=s(n,t),u=l(a,r),f=l(n,r),d,p,c=e.target;function g(e,t){if(t===undefined||e===t){return e}return undefined}if(i&&o){d=g(i,u);p=g(o,f)}else if(u&&f){d=g(u,i);p=g(f,o)}if(d&&p&&!t.getSelectOption(c)&&!r.hasOwnProperty(c)){t.addSelectOption(c,"I","BT",d,p);return{selectionVariantModified:true,startupParametersModified:false,defaultedParameterNamesModified:false}}return{}}function d(t,r,a){var n=t.target,i=t.source;if(!r.getSelectOption(i)){e.error("Invalid split operation: "+i+" does not exist in selection variant");return false}if(r.getSelectOption(n[0])){e.error("Invalid split operation: "+n[0]+" already exists in selection variant");return false}if(r.getSelectOption(n[1])){e.error("Invalid split operation: "+n[1]+" already exists in selection variant");return false}if(a[n[0]]){e.error("Invalid split operation: "+n[0]+" already exists in startup parameters");return false}if(a[n[1]]){e.error("Invalid split operation: "+n[1]+" already exists in startup parameters");return false}return true}function p(e,t,r){var a=e.target,n=e.source,i=d(e,t,r);if(i){var o=s(n,t),l=u(n,t);t.addSelectOption(a[0],"I","EQ",o,null);r[a[0]]=[o];t.addSelectOption(a[1],"I","EQ",l||o,null);r[a[1]]=[l||o];return{selectionVariantModified:true,startupParametersModified:true,defaultedParameterNamesModified:false}}return{}}function c(t,r,a,n){var i=t.target,o={selectionVariantModified:false,startupParametersModified:false,defaultedParameterNamesModified:false};for(var s=0;s<i.length;s++){var u=i[s];if(u==="sap-xapp-state"){e.warning("Cannot execute delete: 'sap-xapp-state' is not allowed to be deleted");continue}if(r.getParameter(u)){r.removeParameter(u);o.selectionVariantModified=true}if(r.getSelectOption(u)){r.removeSelectOption(u);o.selectionVariantModified=true}if(a[u]){delete a[u];o.startupParametersModified=true}var l=n.indexOf(u);if(l>-1){n.splice(l,1);o.defaultedParameterNamesModified=true}}return o}function g(t){var r;if(t===""){return[]}try{r=JSON.parse(t)}catch(t){e.error("Cannot parse operation array: sap-prelaunch-operations should be in json format.");return[]}if(!Array.isArray(r)){e.error("Invalid operation array: sap-prelaunch-operations should be an array.");return[]}return r}function m(t){if(t.length===0){return null}var r={split:true,merge:true,delete:true};var a=t.filter(function(e){return!r[e.type]});if(a.length>0){e.error("Invalid operation: the following sap-prelaunch-operations are invalid: "+a.join(", "));return null}var n=t.some(function(e){return e.type==="split"&&e.target[0]===e.target[1]});if(n){e.error("Invalid operation: split operation contains the same target value. Use two different target values instead.");return null}var i=t.some(function(e){if(e.type==="split"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.source!=="string"||!Array.isArray(e.target)||Object.keys(e).length!==3||Object.keys(e.target).length!==2}if(e.type==="merge"){return!e.hasOwnProperty("source")||!e.hasOwnProperty("target")||typeof e.target!=="string"||!Array.isArray(e.source)||Object.keys(e).length!==3||Object.keys(e.source).length!==2}if(e.type==="delete"){return!e.hasOwnProperty("target")||!Array.isArray(e.target)||Object.keys(e).length!==2}});if(i){e.error("Invalid operation: one or more operations are specified in an incorrect format.");return null}return t}function v(e){var t=g(e);return m(t)}function y(t,r,n,i){var s=e.getLevel()>=e.Level.DEBUG?[]:null,u={selectionVariantModified:false,startupParametersModified:false};r.forEach(function(r){var a={};switch(r.type){case"split":a=p(r,t,n);break;case"merge":a=f(r,t,n);break;case"delete":a=c(r,t,n,i);break;default:e.error("Invalid operation: "+r.type+" prelaunch operation type is not supported")}if(s){var l=Object.keys(a).length!==0?"✅":"❌";s.push(l+" "+o(r))}if(Object.keys(a).length===0){e.warning("Cannot execute "+o(r))}u.selectionVariantModified=u.selectionVariantModified||a.selectionVariantModified;u.startupParametersModified=u.startupParametersModified||a.startupParametersModified;u.defaultedParameterNamesModified=u.defaultedParameterNamesModified||a.defaultedParameterNamesModified});if(s){e.debug(a+"\n"+s.join("\n"))}return u}function P(e,a){if(!a){return Promise.resolve(e)}var o=e.mappedIntentParamsPlusSimpleDefaults,s=e.mappedDefaultedParamNames,u=o["sap-xapp-state"]&&o["sap-xapp-state"][0],l=v(a);if(!l||l.length===0){return Promise.resolve(e)}return n(u).then(function(a){var n=a?a.getData():{},u=t({},o),f=t([],s),d;if(n.selectionVariant){d=new r(JSON.stringify(n.selectionVariant))}else{d=new r}var p=y(d,l,u,f);return i(p,e,d,u,f)})}return{executePrelaunchOperations:P,parseAndValidateOperations:v}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/Search",["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/TechnicalParameters","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,r,n,a,i,u){"use strict";var s=[undefined,"GUI","WDA","UI5"];function o(e,t){var r=e.inbound.resolutionResult;if(!r){return""}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(function(e){if(t){return r.hasOwnProperty(e)?e+":"+r[e]:""}return r.hasOwnProperty(e)?r[e]:""}).join("")}function l(e){return e.sort(function(e,t){if((e["sap-priority"]||0)-(t["sap-priority"]||0)!==0){return-((e["sap-priority"]||0)-(t["sap-priority"]||0))}if(e.priorityString<t.priorityString){return 1}if(e.priorityString>t.priorityString){return-1}var r=o(e);var n=o(t);if(r<n){return 1}else if(r>n){return-1}return 0})}function f(e,t){var r;if(e&&e["sap-priority"]&&e["sap-priority"][0]){r=parseInt(e["sap-priority"][0],10);if(!isNaN(r)){t["sap-priority"]=r}}return}function c(e,t,r,n){var a;if(!t){return true}if(!e&&e!==""){return false}a=t.value;if(t.format==="reference"){if(/UserDefault\.extended\./.test(a)){i.error("Illegal inbound: extended user default '"+a+"' used as filter");return false}if(r.hasOwnProperty(a)){return e===r[a]}n[a]=true;return true}if(t.format==="value"||t.format==="plain"||t.format===undefined){return e===t.value}else if(t.format==="regexp"){return!!e.match("^"+t.value+"$")}i.error("Illegal oFilter format");return false}function d(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.ui"]&&e.inbound.resolutionResult["sap.ui"].technology}function p(e){return e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult.appId}function m(e,t,r,n,a){var i={},u={};Object.keys(e).forEach(function(t){if(t!=="sap-ushell-defaultedParameterNames"){i[t]=e[t]}});if(!t){return i}Object.keys(t).forEach(function(e){var a=t[e],s,o=false;if(!i[e]&&a.hasOwnProperty("defaultValue")){if(a.defaultValue.format&&a.defaultValue.format==="reference"){s=a.defaultValue.value;if(r.hasOwnProperty(s)){if(typeof r[s]==="string"){i[e]=[r[s]];o=true}else if(typeof r[s]==="object"){i[e]=r[s];o=true}}else{i[e]=[a.defaultValue];n.push(a.defaultValue.value)}}else{i[e]=[a.defaultValue.value];o=true}if(o){u[e]=true}}});Object.keys(u).sort().forEach(function(e){a.push(e)});return i}function h(e,t){e.resolutionResult={contentProviderId:t.contentProviderId};if(t&&t.resolutionResult&&t.resolutionResult.hasOwnProperty("sap.platform.runtime")){e.resolutionResult["sap.platform.runtime"]=t.resolutionResult["sap.platform.runtime"]}Object.keys(e.intentParamsPlusAllDefaults).slice(0).forEach(function(t){if(!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!e.resolutionResult.oNewAppStateMembers){e.resolutionResult.oNewAppStateMembers={}}e.resolutionResult.oNewAppStateMembers[t]=e.intentParamsPlusAllDefaults[t]}})}function v(e,t){e.forEach(function(e){t[e]=true})}function P(e){var t=e.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];var r=e.defaultedParamNames&&e.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0;if(t&&d(e)===t){return r?1:2}return 0}function g(e){var t=e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"]&&e.intentParamsPlusAllDefaults["sap-ui-app-id-hint"][0];if(t&&t===p(e)){return 1}return 0}function y(e,t){function r(e){var t="000"+e;return t.substr(t.length-3)}return["AIDM="+g(e),"CURCP="+(t.isCurrentContentProvider?"1":"0"),e.genericSO?"g":"x","TECM="+P(e),"MTCH="+r(t.countMatchingParams),"MREQ="+r(t.countMatchingRequiredParams),"NFIL="+r(t.countMatchingFilterParams),"NDEF="+r(t.countDefaultedParams),"POT="+r(t.countPotentiallyMatchingParams),"RFRE="+r(999-t.countFreeInboundParams),"TECP="+b(e)].join(" ")}function b(e){var t=d(e);var r=s.indexOf(t);return Math.max(0,r)}function R(e,t){var r=false;if(e.signature.additionalParameters==="allowed"||e.signature.additionalParameters==="ignored"){return true}if(e.signature.additionalParameters==="notallowed"||e.signature.additionalParameters===undefined){r=Object.keys(t).every(function(t){return!(!e.signature.parameters[t]&&t.indexOf("sap-")!==0)})}else{i.error("Unexpected value of inbound for signature.additionalParameters")}return r}function O(e,t,r,a,i){function s(e,t,r){var a=n.formatInbound(r);e[a]=t.noMatchReason+(t.noMatchDebug?"| DEBUG: "+t.noMatchDebug:"")}var o=a?a():(new u.Deferred).resolve(null).promise();return o.then(function(n){var a=t.reduce(function(t,a){var u=a.contentProviderId||"";var o=r[u]||{};if(!t.missingReferences[u]){t.missingReferences[u]={}}var l=D(e,a,o,t.missingReferences[u],n?n[u]:null);if(l.matches){t.matchResults.push(l)}else if(i){s(t.noMatchReasons,l,a)}return t},{matchResults:[],noMatchReasons:{},missingReferences:{}});return u.when(a)})}function I(e,t,r,n,a,i){var u=Object.keys(e).every(function(r){var n=t[r],u=n&&n[0],s=e[r];if(s.required&&(u===null||u===undefined)){return false}if(s.filter){if(!c(u,s.filter,a,i)){return false}}return true});return u}function M(e,t,r,n,i){var u=e.signature.parameters,s=0,o=0,l=0,f=0,c=false,d={};function p(e){return!a.isTechnicalParameter(e)}var m=Object.keys(r).filter(p);var h=n.filter(p);Object.keys(u).filter(p).forEach(function(e){var n=t[e],a=n&&n[0],i=u[e],c=r.hasOwnProperty(e);if(c){++s;if(i.filter){++l}if(i.required){++o}}else if(a===null||a===undefined){++f}});if(i){d.countPotentiallyMatchingParams=m.filter(function(e){return u.hasOwnProperty(e)}).length}else{d.countPotentiallyMatchingParams=m.length}if(r&&r["sap-app-origin-hint"]&&(r["sap-app-origin-hint"][0]||r["sap-app-origin-hint"][0]==="")){var v=r["sap-app-origin-hint"][0];c=v===e.contentProviderId}d.countDefaultedParams=h.length;d.countMatchingParams=s;d.countMatchingRequiredParams=o;d.countMatchingFilterParams=l;d.countFreeInboundParams=f;d.isCurrentContentProvider=c;return d}function D(e,a,i,u,s){var o={inbound:a};function l(e,t,r){e.matches=false;e.noMatchReason=t;e.noMatchDebug=r;return e}function c(t){t.matches=true;t.matchesVirtualInbound=r.isVirtualInbound(a);t.parsedIntent=e;return t}var p=a.semanticObject==="*";o.genericSO=p;var P=e.semanticObject===undefined||e.semanticObject===a.semanticObject||p;if(!P){return l(o,'Semantic object "'+e.semanticObject+'" did not match')}var g=e.action===undefined||e.action===a.action;if(!g){return l(o,'Action "'+e.action+'" did not match')}var b=!a.deviceTypes||e.formFactor===undefined||a.deviceTypes[e.formFactor];if(!b){return l(o,'Form factor "'+e.formFactor+'" did not match',"Inbound: ["+Object.keys(a.deviceTypes).filter(function(e){return!!a.deviceTypes[e]}).join(", ")+"]")}var O=e.params&&e.params["sap-ui-tech-hint"]&&e.params["sap-ui-tech-hint"][0];if(e.treatTechHintAsFilter&&O){var D=d({inbound:a});if(D!==O){return l(o,'Tech Hint as filter "'+O+'" did not match',"Inbound: ["+D+"]")}}var j=[],A=[],S=e.params||{};var w=m(S,a.signature&&a.signature.parameters,i,j,A);var T=w["sap-system"]&&w["sap-system"][0],C=w["sap-app-origin"]&&w["sap-app-origin"][0],F=a.contentProviderId;if(C&&C!==F){return l(o,'Contetn provider as filter "'+C+'" did not match',"Inbound: ["+F+"]")}if(T&&typeof F==="string"&&s&&!s[T]){return l(o,'Data origin "'+T+'" is not compatible with the content provider "'+F+'"',"Inbound: ["+Object.keys(s).join(", ")+"]")}o.intentParamsPlusAllDefaults=w;o.defaultedParamNames=A;f(w,o);var N=I(a.signature.parameters,w,S,A,i,u);if(!N){return l(o,"Inbound parameter signature did not match",n.formatInboundSignature(a.signature))}var x=t.constructParameterDominatorMap(a.signature.parameters);var E=t.findDominatedDefaultParameters(w,A,x);var k=A.filter(function(e){return!E[e]});var V=t.filterObjectKeys(w,function(e){return!E[e]});if(!R(a,V)){return l(o,"Additional parameters not allowed",n.formatInboundSignature(a.signature))}var U=a.signature.additionalParameters==="ignored";if(U){t.filterObjectKeys(V,function(e){if(e.indexOf("sap-")===0){return true}if(a.signature.parameters.hasOwnProperty(e)){return true}return false},true)}var q=M(a,w,S,A,U);h(o,a);o.intentParamsPlusAllDefaults=V;o.defaultedParamNames=k;o.priorityString=y(o,q);v(j,u);return c(o)}return{match:O,matchOne:D,sortMatchingResultsDeterministic:l,matchesFilter:c,checkAdditionalParameters:R,addDefaultParameterValues:m,extractSapPriority:f,serializeMatchingResult:o}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/StagedLogger",["sap/base/Log","sap/ushell/services/_ClientSideTargetResolution/Utils"],function(e,n){"use strict";var r={};function t(e){var n;var t;var o=e();if(!o.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.")}n=o.logId;if(r[n]){throw new Error("'cannot call #begin twice with same log id: '"+n+"'")}else{r[n]={}}t=r[n];t.title=o.title||null;t.moduleName=o.moduleName||null;var l=function(e,n){if(n===1){return e}return l(e,n-1)+e};t.stages=o.stages.map(function(e){return[e,l("-",e.length)]});return n}function o(e){var n,t,o,l,i,a,g,u;u=e();if(!u.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}n=u.logId;a=u.stage;i=u.prefix;l=u.lines;o=u.line;g=u.number;if(!l&&o&&i){o=i+" "+o}t=r[n].stages[a-1];if(o){t.push(o)}if(l){if(i){i=(o?" ":"")+i}var s=l.map(function(e,n){return(g?n+1:"")+(i?i+" ":"")+e});t.push.apply(t,s)}}function l(n){var t,o,l;t=n();if(!t.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.")}l=t.logId;o=r[l];if(typeof o!=="object"){throw new Error("Logger .end was called on an already ended logger")}var i=o.stages.map(function(e){return e.join("\n")}).join("\n\n");e.debug("[REPORT #"+l+"] "+o.title,"\n"+i+"\n",o.moduleName);delete r[l]}function i(){return r}return{begin:function(){if(e.getLevel()>=e.Level.DEBUG){t.apply(null,arguments)}},log:function(){if(e.getLevel()>=e.Level.DEBUG){o.apply(null,arguments)}},end:function(){if(e.getLevel()>=e.Level.DEBUG){l.apply(null,arguments)}},_getLogs:i}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/SystemContext",["sap/base/util/ObjectPath","sap/ui/thirdparty/URI"],function(t,e){"use strict";var r={};r._getProtocol=function(){return new e(window.location.toString()).protocol()};r.createSystemContextFromSystemAlias=function(r){return{id:r.id,label:r.label||r.id,getFullyQualifiedXhrUrl:function(i){var n=new e(i).protocol();if(n==="http"||n==="https"){return i}var o=this._getProtocol();var a="";if(o==="https"){a=t.get("https.xhr.pathPrefix",r)||""}else if(o==="http"){a=t.get("http.xhr.pathPrefix",r)||""}if(a){if(i.indexOf("dynamic_dest")>-1){return i}return e.joinPaths(a,i).path()}return i}.bind(this),getProperty:function(e){var i=t.get("properties",r)||{};return i[e]}}};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds",[],function(){"use strict";var e={};var a=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderers.fiori2.search.searchComponent",additionalInformation:"SAPUI5.Component=sap.ushell.renderers.fiori2.search.searchComponent",url:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/search/searchComponent"),loadCoreExt:true,loadDefaultDependencies:false}},{hideIntentLink:true,semanticObject:"FLPPageTemplate",action:"manage",deviceTypes:{desktop:true,tablet:false,phone:false},signature:{parameters:{pageId:{required:false,defaultValue:{value:""}},mode:{required:false,defaultValue:{value:"view"}}},additionalParameters:"notallowed"},resolutionResult:{applicationType:"URL",ui5ComponentName:"nw.core.flp.pagecomposer.conf",additionalInformation:"SAPUI5.Component=nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man",applicationDependencies:{manifest:"/sap/bc/lrep/content/apps/nw.core.flp.pagecomposer.conf/app/sap/sui_paget_man/manifest.appdescr",name:"nw.core.flp.pagecomposer.conf",self:{name:"nw.core.flp.pagecomposer.conf",url:"/sap/bc/ui5_ui5/sap/sui_paget_man"},asyncHints:{libs:[{name:"nw.core.flp.transport.cust",url:{final:false,url:"/sap/bc/ui5_ui5/sap/sui_tr_cust"}}]}},async:true,loadDefaultDependencies:false}}];e.isVirtualInbound=function(e){return a.some(function(a){return a===e})};e.getInbounds=function(){return a};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/XAppStateProcessing",["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/navigationMode","sap/ushell/services/AppConfiguration","sap/ushell/Config","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/ui/generic/app/navigation/service/SelectionVariant","sap/base/Log"],function(e,t,a,n,r,i,s,o,u,l,p){"use strict";function f(e,a){var n=new i.Deferred,r,s=e.resolutionResult,o=e.inbound&&(e.inbound.signature||{}),u=d(s)||o.additionalParameters==="ignored"||A(e);if(!u){c(n,e);return n.promise()}var l=e.intentParamsPlusAllDefaults["sap-xapp-state"]&&e.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(l){N(a,l).then(v).then(function(i){if(d(s)){var u=t.constructParameterDominatorMap(o.parameters);Object.keys(s.oNewAppStateMembers).forEach(function(e){var t=u[e].dominatedBy;if(P(i,t)){delete s.oNewAppStateMembers[e]}})}var l=o.additionalParameters==="ignored";if(!d(s)&&!A(e)&&!l){c(n,e);return}r=a.createEmptyAppState(undefined,true);if(r){r.setData(i);m(r,e,n)}},function(){delete s.oNewAppStateMembers;c(n,e);return});return n.promise()}if(d(s)){var p=a.createEmptyAppState(undefined,true);m(p,e,n);return n.promise()}c(n,e);return n.promise()}function m(e,t,a){var n=e.getData()||{},r,i={},s=t.inbound.signature,o=t.resolutionResult;if(n.selectionVariant){r=new l(JSON.stringify(n.selectionVariant))}else{r=new l}if(d(o)){Object.keys(o.oNewAppStateMembers).forEach(function(e){r.massAddSelectOption(e,o.oNewAppStateMembers[e].Ranges)})}var u=s.additionalParameters==="ignored";r=S(r,i,s.parameters,u);if(r.getParameterNames().length!==0||r.getSelectOptionsPropertyNames().length!==0||i.deleted){n.selectionVariant=r.toJSONObject()}if(!i.changed&&!i.deleted&&!d(o)){c(a,t);return}e.setData(n);e.save().done(function(){t.intentParamsPlusAllDefaults["sap-xapp-state"]=[e.getKey()];t.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[e.getKey()];c(a,t)})}function c(t,i){var o;h(i);O(i);o=a.compute(s.get("inbound.resolutionResult.applicationType",i),(i.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(i.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(n.getCurrentApplication()||{}).applicationType,r.last("/core/navigation/enableInPlaceForClassicUIs"));e.shallowMergeObject(i.resolutionResult,o);delete i.resolutionResult.oNewAppStateMembers;t.resolve(i)}function d(e){return e.oNewAppStateMembers&&!o(e.oNewAppStateMembers)}function g(e,t){return Array.isArray(e)&&e.some(function(e){return t.indexOf(e)!==-1})}function P(e,t){if(e&&e.selectionVariant){var a=new l(JSON.stringify(e.selectionVariant)),n=a.getSelectOptionsPropertyNames()||[],r=a.getParameterNames()||[];if(g(n,t)||g(r,t)){return true}}return false}function S(e,t,a,n){var r=new l,i=e.getParameterNames()||[],s=e.getSelectOptionsPropertyNames()||[],o,u;i.forEach(function(i){o=e.getParameter(i);if(n&&!a[i]){t.deleted=true;return}if(a[i]&&a[i].renameTo){if(r.getParameter(a[i].renameTo)===undefined&&r.getSelectOption(a[i].renameTo)===undefined){r.addParameter(a[i].renameTo,o);t.changed=true}else{p.error("renaming of appstate creates duplicates "+i+"->"+a[i].renameTo)}}else if(r.getParameter(i)===undefined&&r.getSelectOption(i)===undefined){r.addParameter(i,o)}});s.forEach(function(i){u=e.getSelectOption(i);if(n&&!a[i]){t.deleted=true;return}if(a[i]&&a[i].renameTo){if(r.getSelectOption(a[i].renameTo)===undefined&&r.getParameter(a[i].renameTo)===undefined){r.massAddSelectOption(a[i].renameTo,u);t.changed=true}else{p.error("renaming of appstate creates duplicates "+i+"->"+a[i].renameTo)}}else if(r.getSelectOption(i)===undefined&&r.getParameter(i)===undefined){r.massAddSelectOption(i,u)}});i.forEach(function(t){e.removeParameter(t)});s.forEach(function(t){e.removeSelectOption(t)});r.getParameterNames().forEach(function(t){e.addParameter(t,r.getParameter(t))});r.getSelectOptionsPropertyNames().forEach(function(t){e.massAddSelectOption(t,r.getSelectOption(t))});return e}function b(e){if(e===undefined||u(e)){return false}return true}function A(e){return e.inbound&&e.inbound.signature&&e.inbound.signature.parameters&&Object.keys(e.inbound.signature.parameters).some(function(t){return!!e.inbound.signature.parameters[t].renameTo})}function h(e){e.defaultedParamNames=e.defaultedParamNames.filter(function(t){if(e.intentParamsPlusAllDefaults[t]&&!Array.isArray(e.intentParamsPlusAllDefaults[t])){if(!(e.resolutionResult.oNewAppStateMembers&&e.resolutionResult.oNewAppStateMembers[t])){return false}}return true})}function O(e){var t=s.get("inbound.signature.parameters",e)||{},a={};e.defaultedParamNames.forEach(function(e){var n=t[e]&&t[e].renameTo||e;if(a[n]){p.error("renaming of defaultedParamNames creates duplicates"+e+"->"+n)}else{a[n]=true}});e.mappedDefaultedParamNames=Object.keys(a).sort()}function v(e){if(b(e)){return Promise.reject()}return Promise.resolve(e)}function N(e,t){return new Promise(function(a,n){e.getAppState(t).done(function(e){a(e.getData())}).fail(function(e){n(e)})})}return{mixAppStateIntoResolutionResultAndRename:f,_hasRenameTo:A}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/ContextContainer",["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,n,i,o,r,a){"use strict";function s(){this._init.apply(this,arguments)}s.prototype._init=function(n,i,r,a,s){this._oService=n;this._sContainerKey=r;this._oAdapterContainer={};this._oScope=a||t.adjustScope(a);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var p;if(!(s instanceof o)&&s!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined")}if(s&&s.getMetadata&&s.getMetadata().getComponentName){p=s.getMetadata().getComponentName()}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=i.getAdapterContainer(this._sContainerKey,this._oScope,p);return this};s.prototype.getValidity=function(){return this._oScope.validity};s.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new e.Map};s.prototype.load=function(){var t={},n,i=this;t=new r.Deferred;if(!this._sContainerKey){throw new e.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this.clear();n=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,t);n.always(function(){i._oAdapterContainer.load().fail(function(){t.reject()}).done(function(){i._copyFromAdapter();if(i._isExpired()){i.clear()}t.resolve()})});return t.promise()};s.prototype._copyFromAdapter=function(){var e=this,t;t=e._oAdapterContainer.getItemKeys().splice(0);t.forEach(function(t){e._oItemMap.put(t,JSON.stringify(e._oAdapterContainer.getItemValue(t)))});this._aLoadedItemKeys=e._oItemMap.keys().splice(0)};s.prototype._isExpired=function(){var e,t,o;if(this.getValidity()===Infinity||this.getValidity()===0){return false}t=this._getItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);e=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});o=e.format(this._getNow(),true);return t&&o>t};s.prototype._getNow=function(){return new Date};s.prototype._copyToAdapterUpdatingValidity=function(){var e=[],o=[],r=this,a,s,p,_;if(this._clear){e=this._oAdapterContainer.getItemKeys().splice(0);e.forEach(function(e){r._oAdapterContainer.delItem(e)});this._clear=false}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE);this._delItemInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE)}else{s=i.getDateInstance({pattern:n.S_ABAPTIMESTAMPFORMAT});a=this._getNow();_=s.format(a,true);p=s.format(new Date(a.getTime()+this.getValidity()*6e4),true);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_EXPIRE,p);this._setItemValueInternal(n.S_ADMIN_PREFIX,n.S_ITEMKEY_STORAGE,_)}e=this._oItemMap.keys();e.forEach(function(e){r._oAdapterContainer.setItemValue(e,t.cloneToObject(r._oItemMap.get(e)))});o=this._aLoadedItemKeys.filter(function(t){return!(e.indexOf(t)>-1)});o.forEach(function(e){r._oAdapterContainer.delItem(e)})};s.prototype.save=function(){var e,t,n=this;this._copyToAdapterUpdatingValidity();e=new r.Deferred;t=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,e);t.always(function(){try{n._oAdapterContainer.save().fail(function(){e.reject()}).done(function(){e.resolve()})}catch(t){e.reject()}});return e.promise()};s.prototype.saveDeferred=function(e){var t,n,i=this;this._copyToAdapterUpdatingValidity();t=new r.Deferred;n=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,t);function o(){n.always(function(){try{i._oAdapterContainer.save().fail(function(){t.reject()}).done(function(){t.resolve()})}catch(e){t.reject()}})}t._sapFnSave=o;t._sapTimeoutId=setTimeout(o,e);return t.promise()};s.prototype.flush=function(){var e,t;this._copyToAdapterUpdatingValidity();e=new r.Deferred;t=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,e);t.fail(function(){e.reject()}).done(function(){e.resolve()});return e.promise()};s.prototype.getItemKeys=function(){var e=this._oItemMap.keys().filter(function(e){return e.indexOf(n.S_ITEM_PREFIX)===0});return e.map(function(e){return e.replace(n.S_ITEM_PREFIX,"","")})};s.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};s.prototype.getItemValue=function(e){return this._getItemValueInternal(n.S_ITEM_PREFIX,e)};s.prototype._getItemValueInternal=function(e,n){if(typeof n!=="string"||typeof e!=="string"){return undefined}return t.cloneToObject(this._oItemMap.get(e+n))};s.prototype.containsItem=function(e){if(typeof e!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+e)};s.prototype.setItemValue=function(e,t){this._setItemValueInternal(n.S_ITEM_PREFIX,e,t)};s.prototype._setItemValueInternal=function(t,n,i){if(typeof n!=="string"||typeof t!=="string"){throw new e.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ")}if(n.length>40){a.error('Personalization Service item key/variant set name ("'+n+'") should be less than 40 characters [current :'+n.length+"]")}this._oItemMap.put(t+n,JSON.stringify(i))};s.prototype.delItem=function(e){this._delItemInternal(n.S_ITEM_PREFIX,e)};s.prototype._delItemInternal=function(e,t){if(typeof t!=="string"){return undefined}if(typeof e!=="string"){return undefined}this._oItemMap.remove(e+t)};s.prototype.getKey=function(){return this._sContainerKey.substring(n.S_CONTAINER_PREFIX.length)};s.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=function(){var n={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(function(t){n[t]=function(t){throw new e.Error("Function "+t+" can't be called on unmodifiable container","ContextContainer"," ")}.bind(undefined,t)});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer","getValidity"].forEach(function(e){if(t[e]){n[e]=t[e].bind(t)}});return n}()}return this._oUnmodifiableContainer};return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainer",["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet","sap/ui/thirdparty/jquery"],function(t,e,n,r,i){"use strict";function a(e,n){this._sContainerKey=n;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var r={},a=this;this._init();r=new i.Deferred;if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new t.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._oAdapterContainer=e.getAdapterContainer(this._sContainerKey);this.load().fail(function(){r.reject()}).done(function(){r.resolve(a)});return r.promise()}a.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new t.Map;this._oItemMap=new t.Map};a.prototype.load=function(){var a={},o=[],s=[],p=[],u=[],_=this;function f(t){var r=[],i=[];r=t.filter(function(t){return t.indexOf(n.S_ITEM_PREFIX)!==0});if(r.length===0){return t}i=t.filter(function(t){return t.indexOf(n.S_ITEM_PREFIX)===0});r.forEach(function(t){var r={},a="";a=n.S_ITEM_PREFIX+t;r=e.clone(_._oAdapterContainer.getItemValue(t));_._oAdapterContainer.setItemValue(a,r);_._oAdapterContainer.delItem(t);if(i&&Array.prototype.indexOf.call(i,a)===-1){i.push(a)}});return i}a=new i.Deferred;if(!this._sContainerKey){throw new t.Error("Invalid container key: sap.ushell.services.Personalization"," ")}this._init();this._oAdapterContainer.load().fail(function(){a.reject()}).done(function(){o=_._oAdapterContainer.getItemKeys().splice(0);s=o.filter(function(t){return t.indexOf(n.S_VARIANT_PREFIX)===0});s.forEach(function(t){var e={};e=new r(t,_._oAdapterContainer);_._oVariantSetMap.put(t,e)});p=o.filter(function(t){return t.indexOf(n.S_VARIANT_PREFIX)!==0});u=f(p);u.forEach(function(t){_._oItemMap.put(t,e.clone(_._oAdapterContainer.getItemValue(t)))});_._aLoadedVariantSetKeys=_._oVariantSetMap.keys().splice(0);_._aLoadedItemKeys=_._oItemMap.keys().splice(0);a.resolve()});return a.promise()};a.prototype.save=function(){var t,e;this._serializeVariantSets();this._serializeItems();t=new i.Deferred;function n(){t.resolve()}function r(){t.reject()}try{e=this._oAdapterContainer.save();e.fail(r);e.done(n)}catch(e){t.reject()}return t.promise()};a.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(t){return t.replace(n.S_ITEM_PREFIX,"","")})};a.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.get(n.S_ITEM_PREFIX+t)};a.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(n.S_ITEM_PREFIX+t)};a.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}this._oItemMap.put(n.S_ITEM_PREFIX+e,r)};a.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}if(this.containsItem(t)){this._oItemMap.remove(n.S_ITEM_PREFIX+t)}};a.prototype._serializeItems=function(){var t=[],n=[],r=this;t=this._oItemMap.keys();t.forEach(function(t){r._oAdapterContainer.setItemValue(t,e.clone(r._oItemMap.get(t)))});n=this._aLoadedItemKeys.filter(function(e){return!(t.indexOf(e)>-1)});n.forEach(function(t){r._oAdapterContainer.delItem(t)})};a.prototype.getVariantSetKeys=function(){var t=[],e=[];e=this._oVariantSetMap.keys();t=e.map(function(t){return t.replace(n.S_VARIANT_PREFIX,"","")});return t};a.prototype.containsVariantSet=function(t){return this._oVariantSetMap.containsKey(n.S_VARIANT_PREFIX+t)};a.prototype.getVariantSet=function(t){var e,r={};e=n.S_VARIANT_PREFIX+t;r=this._oVariantSetMap.get(e);return r};a.prototype.addVariantSet=function(e){var i={},a={},o="";if(this.containsVariantSet(e)){throw new t.Error("Container already contains a variant set with key '"+e+"': sap.ushell.services.Personalization"," ")}o=n.S_VARIANT_PREFIX+e;i={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(o,i);a=new r(o,this._oAdapterContainer);this._oVariantSetMap.put(o,a);return a};a.prototype._serializeVariantSets=function(){var t=[],n=[],r=this;t=this._oVariantSetMap.keys();t.forEach(function(t){var n={},i={};n=r._oVariantSetMap.get(t);i=n._serialize();r._oAdapterContainer.setItemValue(t,e.clone(i))});n=this._aLoadedVariantSetKeys.filter(function(e){return!(t.indexOf(e)>-1)});n.forEach(function(t){r._oAdapterContainer.delItem(t)})};a.prototype.delVariantSet=function(t){var e="";e=n.S_VARIANT_PREFIX+t;this._oVariantSetMap.remove(e);return this._oAdapterContainer.delItem(e)};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariant",["sap/ushell/utils"],function(t){"use strict";function e(e,r,n){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(n&&typeof n!=="object"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantKey=e;this._oVariantName=r;this._oItemMap=new t.Map;this._oItemMap.entries=n||{}}e.prototype.getVariantKey=function(){return this._oVariantKey};e.prototype.getVariantName=function(){return this._oVariantName};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.get(t)};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}return this._oItemMap.put(e,r)};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.containsKey(t)};e.prototype.getItemKeys=function(){return this._oItemMap.keys()};e.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}return this._oItemMap.remove(t)};e.prototype._serialize=function(){var t=[],e={},r={},n=this;e.name=this.getVariantName();t=this._oItemMap.keys();t.forEach(function(t){r[t]=n.getItemValue(t)});e.variantData=r;return e};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/PersonalizationContainerVariantSet",["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],function(t,a,r){"use strict";function e(e,n){var i,s,o,p,u;this._sVariantSetKey=e;this._oAdapterContainer=n;this._oVariantNameMap=new t.Map;this._oVariantMap=new t.Map;i=a.clone(this._oAdapterContainer.getItemValue(e));if(i.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=i.currentVariant}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(i.hasOwnProperty("variants")){for(s in i.variants){if(i.variants.hasOwnProperty(s)){o=i.variants[s].name;p=i.variants[s].variantData;if(this._oVariantNameMap.containsKey(o)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{this._oVariantNameMap.put(o,s);u=new r(s,o,p);this._oVariantMap.put(s,u)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}e.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey};e.prototype.setCurrentVariantKey=function(t){this._sCurrentVariantKey=t};e.prototype.getVariantKeys=function(){return this._oVariantMap.keys()};e.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries))};e.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.get(t)};e.prototype.getVariantKeyByName=function(t){if(typeof t!=="string"){return undefined}return this._oVariantNameMap.get(t)};e.prototype.containsVariant=function(t){if(typeof t!=="string"){return undefined}return this._oVariantMap.containsKey(t)};e.prototype.addVariant=function(a){var e=0,n="",i={};e=parseInt(this._oVariantMap.keys().sort(function(t,a){return t-a}).reverse()[0],10);n=isNaN(e)?"0":(e+1).toString();if(this._oVariantMap.containsKey(n)){throw new t.Error("Variant key '"+n+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ")}if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantNameMap.containsKey(a)){throw new t.Error("Variant name '"+a+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(a)+"' New key: '"+n+"') ': sap.ushell.services.Personalization"," ")}i=new r(n,a);this._oVariantMap.put(n,i);this._oVariantNameMap.put(a,n);return i};e.prototype._serialize=function(){var t=[],a={},r={},e=this;a.currentVariant=this._sCurrentVariantKey;t=this.getVariantKeys();t.forEach(function(t){var a={};a=e._oVariantMap.get(t);r[t]=a._serialize()});a.variants=r;return a};e.prototype.delVariant=function(t){var a=this._oVariantMap.get(t);if(a){this._oVariantNameMap.remove(a.getVariantName());this._oVariantMap.remove(t)}};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Personalizer",["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,n){"use strict";function r(t,n,r,i,o){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=n;this._oService=t;this._oScope=i;this._oComponent=o;if(!r||!r.container||!r.item||typeof r.container!=="string"||typeof r.item!=="string"){throw new e.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ")}this._sPersContainer=r.container;this._sPersItem=r.item}r.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){var e={},r=this;e=new t.Deferred;this._getContainer(this._sPersContainer).fail(function(){e.reject()}).done(function(t){e.resolve(t.getItemValue(r._sPersItem))});e.fail(function(){n.error("Fail to get Personalization data for Personalizer container: "+r._sPersContainer)});return e.promise()};r.prototype.setPersData=function(e){var r={},i=this;r=new t.Deferred;this._getContainer(this._sPersContainer).fail(function(){r.reject()}).done(function(t){t.setItemValue(i._sPersItem,e);t.save().fail(function(){r.reject()}).done(function(){r.resolve()})});r.fail(function(){n.error("Fail to set Personalization data for Personalizer container: "+i._sPersContainer)});return r.promise()};r.prototype.delPersData=function(){var e={},r=this,i;e=new t.Deferred;this._getContainer(this._sPersContainer).fail(function(){e.reject()}).done(function(t){t.delItem(r._sPersItem);t.save().fail(function(){e.reject()}).done(function(){e.resolve()})});i=e.promise();i.fail(function(){n.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer)});return i};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/TransientPersonalizer",["sap/ui/thirdparty/jquery"],function(e){"use strict";function r(){this._oValue=undefined}r.prototype.getPersData=function(){var r;r=new e.Deferred;r.resolve(this._oValue);return r.promise()};r.prototype.setPersData=function(r){var t;t=new e.Deferred;this._oValue=r;t.resolve();return t.promise()};r.prototype.delPersData=function(){var r;r=new e.Deferred;this._oValue=undefined;r.resolve();return r.promise()};r.prototype.setValue=function(e){this._oValue=e};r.prototype.getValue=function(){return this._oValue};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/Variant",["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],function(t,a){"use strict";function e(a,e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ")}if(typeof r!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}this._oVariantSet=a;this._sVariantKey=e;this._sVariantName=r}e.prototype.getVariantKey=function(){return this._sVariantKey};e.prototype.getVariantName=function(){return this._sVariantName};e.prototype.setVariantName=function(a){var e=this._oVariantSet._getVariantSet(),r;if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this._oVariantSet.getVariantKeyByName(a)!==undefined){throw new t.Error("Variant with name '"+a+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization"," ")}if(Object.prototype.hasOwnProperty.call(e,"variants")&&Object.prototype.hasOwnProperty.call(e.variants,this._sVariantKey)){r=e.variants[this._sVariantKey];r.name=a;this._sVariantName=a;this._oVariantSet._serialize()}else{throw new t.Error("Variant does not longer exist"," ")}};e.prototype.getItemValue=function(t){if(typeof t!=="string"){return undefined}var e=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(e,t)&&a.clone(e[t])};e.prototype.setItemValue=function(e,r){if(typeof e!=="string"){throw new t.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ")}var i,n=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!n){throw new t.Error("Variant does not longer exist"," ")}if(!n.variantData){n.variantData={}}i=n.variantData;i[e]=a.clone(r);this._oVariantSet._serialize()};e.prototype.containsItem=function(t){if(typeof t!=="string"){return undefined}var a=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,t)};e.prototype.getItemKeys=function(){var t=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,a,e=[];for(a in t){if(Object.prototype.hasOwnProperty.call(t,a)){e.push(a)}}e.sort();return e};e.prototype.delItem=function(t){if(typeof t!=="string"){return undefined}var a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[t];this._oVariantSet._serialize()};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSet",["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariant","sap/ushell/services/_Personalization/Variant"],function(t,a,e,r){"use strict";function n(r,n){var i,s,o=new t.Map,p=new t.Map,l,h;this._oContextContainer=n;this._sVariantSetKey=r;this._oVariantSetData=this._oContextContainer._getItemValueInternal(a.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(i in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,i)){s=this._oVariantSetData.variants[i].name;l=this._oVariantSetData.variants[i].variantData;if(o.containsKey(s)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{o.put(s,i);h=new e(i,s,l);p.put(i,h)}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return this}n.prototype._getVariantSet=function(){return this._oVariantSetData};n.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(a.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData)};n.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};n.prototype.setCurrentVariantKey=function(t){this._getVariantSet().currentVariant=t;this._serialize()};n.prototype.getVariantKeys=function(){var a=new t.Map,e=this._getVariantSet(this._sVariantSetKey),r;if(Object.prototype.hasOwnProperty.call(e,"variants")){for(r in e.variants){if(Object.prototype.hasOwnProperty.call(e.variants,r)){a.put(r,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return a.keys()};n.prototype.getVariantNamesAndKeys=function(){var a=new t.Map,e=new t.Map,r=this._getVariantSet(this._sVariantSetKey),n,i;if(Object.prototype.hasOwnProperty.call(r,"variants")){for(n in r.variants){if(Object.prototype.hasOwnProperty.call(r.variants,n)){i=r.variants[n].name;if(a.containsKey(i)){throw new t.Error("Variant name already exists: sap.ushell.services.Personalization"," ")}else{a.put(i,n)}e.put(n,"dummy")}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return a.entries};n.prototype.getVariant=function(t){if(typeof t!=="string"){return undefined}var a=this._getVariantSet(this._sVariantSetKey),e,n,i;if(Object.prototype.hasOwnProperty.call(a,"variants")&&Object.prototype.hasOwnProperty.call(a.variants,t)){e=a.variants[t].name;i=a.variants[t].variantData;n=new r(this,t,e,i);return n}return undefined};n.prototype.getVariantKeyByName=function(a){if(typeof a!=="string"){return undefined}var e=this._getVariantSet(this._sVariantSetKey),r;if(Object.prototype.hasOwnProperty.call(e,"variants")){for(r in e.variants){if(Object.prototype.hasOwnProperty.call(e.variants,r)){if(a===e.variants[r].name){return r}}}}else{throw new t.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ")}return undefined};n.prototype.containsVariant=function(t){var a=this._getVariantSet();if(typeof t!=="string"){return undefined}return Object.prototype.hasOwnProperty.call(a,"variants")&&Object.prototype.hasOwnProperty.call(a.variants,t)};n.prototype.addVariant=function(a){var e=[],n=0,i="",s={};e=this.getVariantKeys();n=parseInt(e.sort(function(t,a){return t-a}).reverse()[0],10);i=isNaN(n)?"0":(n+1).toString();if(e.indexOf(i)>=0){throw new t.Error("Variant key '"+i+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ")}if(typeof a!=="string"){throw new t.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ")}if(this.getVariantKeyByName(a)!==undefined){throw new t.Error("Variant name '"+a+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(a)+"' New key: '"+i+"') ': sap.ushell.services.Personalization"," ")}s=new r(this,i,a);this._getVariantSet(this._sVariantSetKey).variants[i]={name:a,variantData:{}};this._serialize();return s};n.prototype.delVariant=function(t){var a;if(typeof t!=="string"){return undefined}a=this._getVariantSet();if(a&&a.variants){delete this._oVariantSetData.variants[t]}this._serialize()};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSetAdapter",["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],function(t,e,n){"use strict";function a(t){this._oContextContainer=t}a.prototype.save=function(){return this._oContextContainer.save()};a.prototype.getVariantSetKeys=function(){var e=this._oContextContainer._getInternalKeys(),n=[];n=e.map(function(e){return e.replace(t.S_VARIANT_PREFIX,"","")});return n};a.prototype.containsVariantSet=function(t){return this.getVariantSetKeys().indexOf(t)>=0};a.prototype.getVariantSet=function(e){var a=this._oContextContainer._getItemValueInternal(t.S_VARIANT_PREFIX,e);if(!a){return undefined}return new n(e,this._oContextContainer)};a.prototype.addVariantSet=function(a){var r={},i={};if(this.containsVariantSet(a)){throw new e.Error("Container already contains a variant set with key '"+a+"': sap.ushell.services.Personalization"," ")}r={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(t.S_VARIANT_PREFIX,a,r);i=new n(a,this._oContextContainer);return i};a.prototype.delVariantSet=function(e){this._oContextContainer._delItemInternal(t.S_VARIANT_PREFIX,e)};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapter",["sap/ui/thirdparty/jquery"],function(e){"use strict";var t=function(e,t){this._oBackendAdapter=t;if(t){this.supportsGetWithoutSubsequentLoad=t.supportsGetWithoutSubsequentLoad}};t.prototype.data={};t.prototype.getAdapterContainer=function(e,t,r){var a=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(e,t,r);var n=sap.ui.require("sap/ushell/services/_Personalization/WindowAdapterContainer");return new n(e,t,a)};t.prototype.delAdapterContainer=function(r,a){var n=new e.Deferred;delete t.prototype.data[r];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(r,a).done(function(){n.resolve()}).fail(function(e){n.reject(e)})}else{n.resolve()}return n.promise()};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapterContainer",["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/WindowAdapter","sap/ui/thirdparty/jquery"],function(e,t,n,o){"use strict";function i(t,n,o){this._oBackendContainer=o;this._oItemMap=new e.Map;this._sContainerKey=t}function a(e){var t,n=e.getItemKeys();for(t=0;t<n.length;t=t+1){e.delItem(n[t])}}i.prototype.load=function(){var e=new o.Deferred,i,s,r=this;if(n.prototype.data[this._sContainerKey]){this._oItemMap.entries=t.clone(n.prototype.data[this._sContainerKey]);if(this._oBackendContainer){a(this._oBackendContainer);s=this.getItemKeys();for(i=0;i<s.length;i=i+1){this._oBackendContainer.setItemValue(s[i],this._oItemMap.get(s[i]))}}e.resolve()}else if(this._oBackendContainer){this._oBackendContainer.load().done(function(){s=r._oBackendContainer.getItemKeys();for(i=0;i<s.length;i=i+1){r.setItemValue(s[i],r._oBackendContainer.getItemValue(s[i]))}n.prototype.data[r._sContainerKey]=t.clone(r._oItemMap.entries);e.resolve()}).fail(function(t){e.reject(t)})}else{n.prototype.data[this._sContainerKey]={};e.resolve()}return e.promise()};i.prototype.save=function(){var e=new o.Deferred;n.prototype.data[this._sContainerKey]=t.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){e.resolve()}).fail(function(t){e.reject(t)})}else{e.resolve()}return e.promise()};i.prototype.getItemKeys=function(){return this._oItemMap.keys()};i.prototype.containsItem=function(e){this._oItemMap.containsKey(e)};i.prototype.getItemValue=function(e){return this._oItemMap.get(e)};i.prototype.setItemValue=function(e,t){this._oItemMap.put(e,t);if(this._oBackendContainer){this._oBackendContainer.setItemValue(e,t)}};i.prototype.delItem=function(e){this._oItemMap.remove(e);if(this._oBackendContainer){this._oBackendContainer.delItem(e)}};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants",[],function(){"use strict";return{keyCategory:{FIXED_KEY:"FIXED_KEY",GENERATED_KEY:"GENERATED_KEY"},writeFrequency:{HIGH:"HIGH",LOW:"LOW"}}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/constants.private",[],function(){"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/utils",["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,r,n){"use strict";function i(e,t){var r;for(r in t){if(typeof t[r]!=="function"){if(t.hasOwnProperty(r)){if(r===e){return true}}}}return false}function a(e){if(e.length>40){n.error('Personalization Service container key ("'+e+'") should be less than 40 characters [current :'+e.length+"]")}return t.S_CONTAINER_PREFIX+e}function l(e,t,r){if(e&&e.validity===0){return t}return r}function u(t){var r={validity:Infinity,keyCategory:e.keyCategory.GENERATED_KEY,writeFrequency:e.writeFrequency.HIGH,clientStorageAllowed:false};if(t){r.validity=t.validity;if(r.validity===null||r.validity===undefined||typeof r.validity!=="number"){r.validity=Infinity}if(!(typeof r.validity==="number"&&(r.validity>=0&&r.validity<1e3||r.validity===Infinity))){r.liftime=Infinity}r.keyCategory=i(t.keyCategory,e.keyCategory)?t.keyCategory:r.keyCategory;r.writeFrequency=i(t.writeFrequency,e.writeFrequency)?t.writeFrequency:r.writeFrequency;if(typeof t.clientStorageAllowed==="boolean"&&(t.clientStorageAllowed===true||t.clientStorageAllowed===false)){r.clientStorageAllowed=t.clientStorageAllowed}}return r}function o(e){if(!e.lazy){return r.when(e.instance)}try{return e.create.call(null)}catch(e){return(new r.Deferred).reject(e).promise()}}function f(e){if(!e){return false}var t=e.getManifestObject();if(!t){return false}var r=t.getEntry("/sap.ui5/appVariantId");if(!r){return false}var n=t.getComponentName();if(r===n){return false}return true}function y(e){if(e===undefined){return undefined}try{return JSON.parse(e)}catch(e){return undefined}}function c(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){return undefined}}return{adjustScope:u,cloneToObject:y,clone:c,addContainerPrefix:a,pickAdapter:l,isAppVariant:f,loadAdapter:o}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_UserRecents/RecentActivity",["./UserRecentsBase","sap/ushell/library","sap/ushell/EventHub","sap/ui/Device","sap/base/Log"],function(e,t,i,r,n){"use strict";var s=t.AppType;var a=e.extend("sap.ushell.services.RecentActivity",{constructor:function(t){e.call(this,"RecentActivity",t,a._compareItems)}});a.MAX_DAYS=30;a.ITEM_COUNT=30;a._compareItems=function(e,t){if(e.appType===t.appType){if(e.appType!==s.APP){return e.url===t.url}return e.appId===t.appId}else if(e.appType===s.APP||t.appType===s.APP){return e.appId===t.appId&&e.url===t.url}return false};a.prototype._updateIfAlreadyIn=function(t,i){return this.oRecentActivities.recentUsageArray.some(function(r){var n;if(a._compareItems(r.oItem,t)){if(t.appType===r.oItem.appType||t.appType!==s.APP){jQuery.extend(r.oItem,t);r.iTimestamp=i;r.oItem.timestamp=i;r.mobile=undefined;r.tablet=undefined;r.desktop=undefined;if(t.appType===r.oItem.appType||t.appType!==s.APP&&r.oItem.appType!==s.APP){r.aUsageArray[r.aUsageArray.length-1]+=1;r.iCount+=1}this.oRecentActivities.recentUsageArray.sort(e._itemSorter)}n=true}else{n=false}return n}.bind(this))};a.prototype._insertNew=function(e,t,i){e.timestamp=t;if(i){e.icon=i}var r={oItem:e,iTimestamp:t,aUsageArray:[1],iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};if(this.oRecentActivities.recentUsageArray.length===this.iMaxItems){this.oRecentActivities.recentUsageArray.pop()}this.oRecentActivities.recentUsageArray.unshift(r)};a.prototype.newItem=function(e){var t=new jQuery.Deferred;var r=Date.now();var n=this.getActivityIcon(e.appType,e.icon);var s;var a=this.getDayFromDateObj(new Date);this._load().done(function(o){this.oRecentActivities=this.getRecentActivitiesFromLoadedData(o);if(a!==this.oRecentActivities.recentDay){this.addNewDay();this.oRecentActivities.recentDay=a}s=this._updateIfAlreadyIn(e,r);if(!s){this._insertNew(e,r,n)}this._save(this.oRecentActivities).done(function(){i.emit("newUserRecentsItem",this.oRecentActivities);t.resolve()}.bind(this)).fail(function(){t.reject()})}.bind(this));return t.promise()};a.prototype.getActivityIcon=function(e,t){switch(e){case s.SEARCH:return t||"sap-icon://search";case s.COPILOT:return t||"sap-icon://co";case s.URL:return t||"sap-icon://internet-browser";default:return t||"sap-icon://product"}};a.prototype.clearAllActivities=function(){var e=new jQuery.Deferred;this._save([]).done(function(){i.emit("userRecentsCleared",Date.now());e.resolve()}).fail(function(){e.reject()});return e.promise()};a.prototype.getRecentItemsHelper=function(e){var t=new jQuery.Deferred;var i;var n;var s;var a=false;var o=[];var c=[];var u=this.getDayFromDateObj(new Date);if(r.system.desktop){s="desktop"}else if(r.system.tablet){s="tablet"}else{s="mobile"}this._load().done(function(r){this.oRecentActivities=this.getRecentActivitiesFromLoadedData(r);var p=false;var f;if(u!==this.oRecentActivities.recentDay){this.addNewDay();this.oRecentActivities.recentDay=u;p=true}for(i=0;i<this.oRecentActivities.recentUsageArray.length&&!a;i++){n=this.oRecentActivities.recentUsageArray[i];if(n[s]===undefined){if(!(n.oItem.url[0]==="#")){c.push(n.oItem.url)}else if(n.oItem.url.indexOf("?")>-1){f=n.oItem.url.substring(n.oItem.url.indexOf("?"));if(f.indexOf("&/")>-1){f=f.substring(0,f.indexOf("&/"))}o.push(n.oItem.appId+f)}else{o.push(n.oItem.appId)}}else{a=true}}if(c.length>0){var v;for(i=0;i<this.oRecentActivities.recentUsageArray.length;i++){if(!(this.oRecentActivities.recentUsageArray[i].oItem.url[0]==="#")){v=this.oRecentActivities.recentUsageArray[i];v[s]=true}}if(o.length<=0){this._save(this.oRecentActivities).done(function(){var i=this._getRecentItemsForDevice(s,this.oRecentActivities,e);t.resolve(i)}.bind(this)).fail(function(){t.reject()})}}if(o.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.isIntentSupported(o).done(function(r){a=false;for(i=0;i<this.oRecentActivities.recentUsageArray.length&&!a;i++){n=this.oRecentActivities.recentUsageArray[i];if(n[s]===undefined){f="";if(n.oItem.url.indexOf("?")>-1){f=n.oItem.url.substring(n.oItem.url.indexOf("?"));if(f.indexOf("&/")>-1){f=f.substring(0,f.indexOf("&/"))}}var o=r[n.oItem.appId+f];n[s]=!!(o&&o.supported)}else if(n.oItem.url[0]==="#"){a=true}}this._save(this.oRecentActivities).done(function(){var i=this._getRecentItemsForDevice(s,this.oRecentActivities,e);t.resolve(i)}.bind(this)).fail(function(){t.reject()})}.bind(this)).fail(function(e){t.reject(e)})}.bind(this))}else if(o.length<=0&&c.length<=0){if(p){this._save(this.oRecentActivities).done(function(){var i=this._getRecentItemsForDevice(s,this.oRecentActivities,e);t.resolve(i)}.bind(this)).fail(function(){t.reject()})}else{var l=this._getRecentItemsForDevice(s,this.oRecentActivities,e);t.resolve(l)}}}.bind(this)).fail(function(){t.reject()});return t.promise()};a.prototype._getRecentItemsForDevice=function(e,t,i){var r=[];var n=0;var s;for(var a=0;a<t.recentUsageArray.length&&(!i||n<i);a++){s=t.recentUsageArray[a];if(s[e]){r.push(s);n++}}return r};a.prototype.getRecentItems=function(){var e=new jQuery.Deferred;this.getRecentItemsHelper(a.ITEM_COUNT).done(function(t){e.resolve(jQuery.map(t,function(e){return e.oItem}))}).fail(function(){e.reject()});return e.promise()};a.prototype.getFrequentItems=function(){var e=new jQuery.Deferred;this.getRecentItemsHelper().done(function(t){var i;var r=0;var n=[];var s;var o=t[0]?new Date(t[0].iTimestamp):undefined;var c;for(i=0;i<t.length&&r<a.MAX_DAYS;i++){s=t[i];if(s.iCount>1){n.push(s)}c=new Date(s.iTimestamp);if(o.toDateString()!==c.toDateString()){r++;o=c}}n.sort(function(e,t){return t.iCount-e.iCount});n=n.slice(0,a.ITEM_COUNT);e.resolve(jQuery.map(n,function(e){return e.oItem}))}).fail(function(){e.reject()});return e.promise()};a.prototype.addNewDay=function(){var e,t;for(e=0;e<this.oRecentActivities.recentUsageArray.length;e++){if(this.oRecentActivities.recentUsageArray[e].aUsageArray){t=this.oRecentActivities.recentUsageArray[e].aUsageArray}else{t=[];this.oRecentActivities.recentUsageArray[e].aUsageArray=t;this.oRecentActivities.recentUsageArray[e].iCount=0}t[t.length]=0;if(t.length>a.MAX_DAYS){this.oRecentActivities.recentUsageArray[e].iCount-=t[0];t.shift()}}};a.prototype.getDayFromDateObj=function(e){return e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate()};a.prototype.getRecentActivitiesFromLoadedData=function(e){var t;if(Array.isArray(e)){t={recentDay:null,recentUsageArray:e}}else{t=e||{recentDay:null,recentUsageArray:[]}}t.recentUsageArray=(t.recentUsageArray||[]).filter(function(e){var t=e&&e.oItem&&e.oItem.url;if(!t){n.error("FLP Recent Activity",e,"is not valid. The activity is removed from the list.")}return t});return t};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_UserRecents/RecentAppsUsage",["./UserRecentsBase","sap/base/Log","sap/ushell/utils"],function(e,t,a){"use strict";var s=e.extend("sap.ushell.services.RecentAppsUsage",{constructor:function(){e.call(this,"AppsUsage")}});s.MAX_DAYS=30;s.prototype.init=function(){var e=this.getDayFromDateObj(new Date);var a=false;if(this._oInitDeferred===undefined){this._oInitDeferred=new jQuery.Deferred}if(!a||e!==this.oAppsUsageData.recentDay){a=true;this._load().done(function(t){this.oAppsUsageData=t||{recentDay:null,recentAppsUsageMap:{}};this.calculateInitialUsage(e);this._oInitDeferred.resolve(this.oAppsUsageData)}.bind(this)).fail(function(){t.error("UShell-lib ; RecentAppsUsage ; Load data in Init failed");this._oInitDeferred.reject()}.bind(this))}return this._oInitDeferred.promise()};s.prototype.calculateInitialUsage=function(e){if(e!==this.oAppsUsageData.recentDay){this.addNewDay();this.oAppsUsageData.recentDay=e;setTimeout(function(){this.cleanUnusedHashes()}.bind(this),3e3);this.saveAppsUsage(this.oAppsUsageData)}};s.prototype.addAppUsage=function(e){if(!a.validHash(e)){return(new jQuery.Deferred).reject("Non valid hash").promise()}return this.init().done(function(){var t=this.oAppsUsageData.recentAppsUsageMap[e]||[];if(t.length===0){t[0]=1}else{t[t.length-1]+=1}this.oAppsUsageData.recentAppsUsageMap[e]=t;this.saveAppsUsage(this.oAppsUsageData)}.bind(this)).fail(function(){t.error("Ushell-lib ; addAppUsage ; Initialization falied!")})};s.prototype.getAppsUsage=function(){var e;var t=new jQuery.Deferred;this.init().done(function(){e=this.summarizeUsage();t.resolve(e)}.bind(this)).fail(function(){t.reject("Not initialized yet")});return t.promise()};s.prototype.summarizeUsage=function(){var e={};var t,a;var s=true;for(var i in this.oAppsUsageData.recentAppsUsageMap){e[i]=this.getHashUsageSum(i);if(s){t=a=e[i];s=false}else if(e[i]<a){a=e[i]}else if(e[i]>t){t=e[i]}}return{usageMap:e,maxUsage:t,minUsage:a}};s.prototype.addNewDay=function(){var e;for(var t in this.oAppsUsageData.recentAppsUsageMap){e=this.oAppsUsageData.recentAppsUsageMap[t];e[e.length]=0;if(e.length>s.MAX_DAYS){e=e.shift()}}};s.prototype.cleanUnusedHashes=function(){var e;for(var t in this.oAppsUsageData.recentAppsUsageMap){e=this.getHashUsageSum(t);if(e===0){delete this.oAppsUsageData.recentAppsUsageMap[t]}}};s.prototype.getHashUsageSum=function(e){var t=0;var a;var s=this.oAppsUsageData.recentAppsUsageMap[e];var i=s.length;for(a=0;a<i;a++){t+=s[a]}return t};s.prototype.saveAppsUsage=function(e){return this._save(e).fail(function(){t.error("Ushell-lib ; saveAppsUsage ; Save action failed")})};s.prototype.getDayFromDateObj=function(e){return e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate()};return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_UserRecents/RecentsList",["./UserRecentsBase"],function(e){"use strict";var t=e.extend("sap.ushell.services.RecentsList");t.prototype._updateIfAlreadyIn=function(e,t){return this.aRecents.some(function(s){var i;if(this._compareItems(s.oItem,e)){s.oItem=e;s.iTimestamp=t;s.iCount=s.iCount+1;i=true}else{i=false}return i}.bind(this))};t.prototype._insertNew=function(t,s){var i={oItem:t,iTimestamp:s,iCount:1};if(this.aRecents.length===this.iMaxItems){this.aRecents.sort(e._itemSorter);this.aRecents.pop()}this.aRecents.push(i)};t.prototype.clearAllActivities=function(){return this._save([])};t.prototype.newItem=function(e){var t=new jQuery.Deferred;var s=Date.now();var i;this._load().done(function(n){this.aRecents=n||[];i=this._updateIfAlreadyIn(e,s);if(!i){this._insertNew(e,s)}this._save(this.aRecents).done(function(){t.resolve()}).fail(function(){t.reject()})}.bind(this));return t.promise()};t.prototype.getRecentItems=function(){var t=new jQuery.Deferred;this._load().done(function(s){s=s||[];s.sort(e._itemSorter);this.aRecents=s.slice(0,this.iMaxItems);t.resolve(jQuery.map(this.aRecents,function(e){return e.oItem}))}.bind(this));return t.promise()};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_UserRecents/UserRecentsBase",["sap/ui/base/Object","sap/base/Log"],function(e,r){"use strict";var s="sap.ushell.services.UserRecents";var t=e.extend("sap.ushell.services.UserRecentsBase",{constructor:function(e,r,t){this.aRecents=[];this.iMaxItems=r;this._oPersonalizerPromise=sap.ushell.Container.getServiceAsync("Personalization").then(function(r){return r.getPersonalizer({container:s,item:e})});this._compareItems=t}});t.prototype._load=function(){var e=new jQuery.Deferred;this._oPersonalizerPromise.then(function(r){r.getPersData().done(e.resolve).fail(e.reject)}).catch(function(s){r.error("Personalization service does not work:");r.error(s.name+": "+s.message);e.reject(s)});return e.promise()};t.prototype._save=function(e){var s=new jQuery.Deferred;this._oPersonalizerPromise.then(function(r){r.setPersData(e).done(s.resolve).fail(s.reject)}).catch(function(e){r.error("Personalization service does not work:");r.error(e.name+": "+e.message);s.reject(e)});return s.promise()};t._itemSorter=function(e,r){return r.iTimestamp-e.iTimestamp};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstance",["sap/m/ActionSheet","sap/m/Button","sap/m/GenericTile","sap/m/library","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/events/PseudoEvents","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/services/_VisualizationInstantiation/VizInstanceRenderer"],function(e,t,i,o,n,s,a,r,l,c,u,p,h,d){"use strict";var f=o.PlacementType;var g=o.FrameType;var y=o.GenericTileScope;var m=o.LoadState;var v=o.TileSizeBehavior;var A=p.DisplayFormat;var _=r.extend("sap.ushell.ui.launchpad.VizInstance",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",bindable:true},subtitle:{type:"string",defaultValue:"",bindable:true},height:{type:"int",defaultValue:2},width:{type:"int",defaultValue:2},info:{type:"string",defaultValue:"",bindable:true},icon:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},numberUnit:{type:"string",defaultValue:"",bindable:true},state:{type:"sap.m.LoadState",defaultValue:m.Loaded,bindable:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",defaultValue:v.Responsive,bindable:true},editable:{type:"boolean",defaultValue:false,bindable:true},removable:{type:"boolean",defaultValue:true,bindable:true},active:{type:"boolean",defaultValue:false},targetURL:{type:"string"},indicatorDataSource:{type:"object",defaultValue:undefined},dataSource:{type:"object",defaultValue:undefined},keywords:{type:"string[]",defaultValue:[]},instantiationData:{type:"object",defaultValue:{}},contentProviderId:{type:"string",defaultValue:""},vizConfig:{type:"object"},supportedDisplayFormats:{type:"string[]",defaultValue:[A.Standard]},dataHelpId:{type:"string",defaultValue:""},vizRefId:{type:"string",defaultValue:""},displayFormat:{type:"string",defaultValue:A.Standard},preview:{type:"boolean",defaultValue:false}},defaultAggregation:"tileActions",aggregations:{content:{type:"sap.ui.core.Control",multiple:false},tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}},events:{press:{parameters:{scope:{type:"sap.m.GenericTileScope"},action:{type:"string"}}},beforeActionSheetOpen:{},afterActionSheetClose:{}}},renderer:d});_.prototype.init=function(){this._customTileActions=[];var e=new i({frameType:this._formatPlaceholderFrameType(this.getDisplayFormat()),state:this.getState()});this.setAggregation("content",e)};_.prototype.setDisplayFormat=function(e){this.setProperty("displayFormat",e);this._setSize();var t=this.getContent();if(t.isA("sap.m.GenericTile")){t.setFrameType(this._formatPlaceholderFrameType(e))}return this};_.prototype.setState=function(e){this.setProperty("state",e);var t=this.getContent();if(t.isA("sap.m.GenericTile")){t.setState(e)}return this};_.prototype.setEditable=function(e){this.setProperty("editable",e);this.setTileEditable(e);return this};_.prototype.setTileEditable=function(e){var t=e?y.ActionMore:y.Display;var i=this.getContent();if(i.isA("sap.m.GenericTile")){i.setScope(t)}return this};_.prototype._formatPlaceholderFrameType=function(e){this._setSize();switch(e){case A.Flat:return g.OneByHalf;case A.FlatWide:return g.TwoByHalf;case A.StandardWide:return g.TwoByOne;default:return g.OneByOne}};_.prototype.exit=function(){if(this._oActionModeButtonIconVBox){this._oActionModeButtonIconVBox.destroy()}if(this._oActionDivCenter){this._oActionDivCenter.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}if(this._oRemoveIconVBox){this._oRemoveIconVBox.destroy()}};_.prototype.getLayout=function(){return{columns:this.getWidth(),rows:this.getHeight()}};_.prototype.setContent=function(e){var t=this.getLayoutData();if(t&&t.isA("sap.f.GridContainerItemLayoutData")){t.setRows(this.getHeight());t.setColumns(this.getWidth());this.getParent().invalidate()}var i=this.getDataHelpId();var o=this.getVizRefId();if(i){e.data("help-id",i,true);e.data("tile-id",i,true)}else{e.data("tile-id",o,true)}this.setAggregation("content",e)};_.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new e;this._oActionSheet.attachAfterClose(this.fireAfterActionSheetClose.bind(this))}return this._oActionSheet};_.prototype._destroyCustomTileActions=function(){this._customTileActions.forEach(function(e){this.removeTileAction(e);e.destroy()}.bind(this));this._customTileActions=[]};_.prototype._addCustomTileActions=function(){if(this._oCustomTileActionsPromise){return this._oCustomTileActionsPromise}this._destroyCustomTileActions();var e=sap.ushell.Container.getRenderer();this._oCustomTileActionsPromise=e.getCustomTileActions(this).then(function(e){e.forEach(function(e){var i=new t(e);this._customTileActions.push(i);this.addTileAction(i)}.bind(this));this._oCustomTileActionsPromise=null}.bind(this));return this._oCustomTileActionsPromise};_.prototype._onActionMenuIconPressed=function(){if(this._oActionModeIcon){if(!this._getTileActionSheet().isOpen()){this.fireBeforeActionSheetOpen()}var e=u.last("/core/extension/enableTileColors");if(e){this._addCustomTileActions()}if(this.getTileActions().length===0){this._openNoActionsPopover();return}this._getTileActionSheet().openBy(this._oActionModeIcon)}};_.prototype.getFocusDomRef=function(){if(this.getEditable()){return this._oActionModeIcon&&this._oActionModeIcon.getFocusDomRef()}var e=this.getContent();var t=e.findAggregatedObjects(true,function(e){return e.isA("sap.m.GenericTile")||e.isA("sap.f.Card")});if(t.length){return t[0].getFocusDomRef()}if(this._oComponent&&this._oComponent.findAggregatedObjects){t=this._oComponent.findAggregatedObjects(true,function(e){return e.isA("sap.m.GenericTile")||e.isA("sap.f.Card")});if(t.length){return t[0].getFocusDomRef()}}return e.getFocusDomRef()};_.prototype.onclick=function(e){if(this._preventDefault(e)){this.firePress({scope:"Display",action:"Press"})}else if(this._oRemoveIconVBox&&this._oRemoveIconVBox.getDomRef().contains(e.target)){this.firePress({scope:"Actions",action:"Remove"})}else{this._onActionMenuIconPressed()}};_.prototype.onBeforeRendering=function(){var e=this.getDomRef();if(e){e.removeEventListener("keyup",this._fnKeyupHandler);e.removeEventListener("touchend",this._fnTouchendHandler)}};_.prototype._openNoActionsPopover=function(){new n({placement:f.Bottom,showHeader:false,content:new s({text:h.i18n.getText("tileHasNoActions")})}).addStyleClass("sapUiContentPadding").openBy(this._oActionModeIcon)};_.prototype.onAfterRendering=function(){var e=this.getDomRef();this._fnKeyupHandler=this.onkeyup.bind(this);this._fnTouchendHandler=this.onclick.bind(this);e.addEventListener("keyup",this._fnKeyupHandler,true);e.addEventListener("touchend",this._fnTouchendHandler,true)};_.prototype.onkeyup=function(e){if(this.getEditable()){if(c.events.sapdelete.fnCheck(e)||c.events.sapbackspace.fnCheck(e)){this.firePress({scope:"Actions",action:"Remove"})}if(c.events.sapspace.fnCheck(e)||c.events.sapenter.fnCheck(e)){this._preventDefault(e)}}};_.prototype._preventDefault=function(e){if(this.getEditable()){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false}return true};_.prototype.load=function(){return Promise.resolve()};_.prototype._setSize=function(){var e={};switch(this.getDisplayFormat()){case A.Flat:e.width=2;e.height=1;break;case A.FlatWide:e.width=4;e.height=1;break;case A.StandardWide:e.width=4;e.height=2;break;default:e.width=2;e.height=2;break}this.setWidth(e.width);this.setHeight(e.height)};_.prototype.getAvailableDisplayFormats=function(){var e;var t=this.getSupportedDisplayFormats();var i=this.getDisplayFormat();e=t.filter(function(e){return e!==i});var o=e.indexOf("compact");var n=this.getTitle();var s=this.getTargetURL();if(o>-1&&(!n||!s)){e.splice(o,1)}return e};_.prototype._getRemoveIconVBox=function(){if(!this._oRemoveIconVBox){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");var t=new l({id:this.getId()+"-action-remove",alt:e.getText("GENERICTILE_ACTIONS_ARIA_TEXT"),decorative:false,noTabStop:true,src:"sap-icon://decline",tooltip:h.i18n.getText("removeButtonTitle")}).addStyleClass("sapUshellTileDeleteIconInnerClass sapMPointer");this._oRemoveIconVBox=new a({items:[t]}).addStyleClass("sapUshellTileDeleteIconOuterClass sapUshellTileDeleteClickArea sapMPointer");this._oRemoveIconVBox.setParent(this)}return this._oRemoveIconVBox};_.prototype._getActionModeButtonIconVBox=function(){if(!this._oActionModeButtonIconVBox){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oActionModeIcon=new l({id:this.getId()+"-action-more",decorative:false,alt:e.getText("LIST_ITEM_NAVIGATION"),noTabStop:true,press:[this._onActionMenuIconPressed,this],src:"sap-icon://overflow",tooltip:h.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner sapMPointer");this._oActionModeButtonIconVBox=new a({items:[this._oActionModeIcon]}).addStyleClass("sapUshellTileActionIconDivBottom sapMPointer");this._oActionModeButtonIconVBox.setParent(this)}return this._oActionModeButtonIconVBox};return _});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap",["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/base/Log","sap/ushell/library","sap/ushell/utils/chipsUtils","sap/ushell/services/_VisualizationInstantiation/VizInstanceRenderer"],function(t,i,e,n,s,a){"use strict";var r=i.LoadState;var o=n.DisplayFormat;var p=t.extend("sap.ushell.ui.launchpad.VizInstanceAbap",{metadata:{library:"sap.ushell"},renderer:a});p.prototype.init=function(){t.prototype.init.apply(this,arguments);this._oChipInstancePromise=sap.ushell.Container.getServiceAsync("PageBuilding").then(function(t){var i=t.getFactory();var e=this.getInstantiationData();var n;var a;if(!e.simplifiedChipFormat){n={chipId:e.chip.id,chip:e.chip}}else{var r=e.chip||{};a=r.bags;n={chipId:r.chipId,configuration:r.configuration?JSON.stringify(r.configuration):"{}"}}var o=i.createChipInstance(n);s.addBagDataToChipInstance(o,a);return o}.bind(this))};p.prototype.load=function(t){return this._oChipInstancePromise.then(function(t){this._oChipInstance=t;return new Promise(this._oChipInstance.load)}.bind(this)).then(function(){if(this.getPreview()){var t=this._oChipInstance.getContract("preview");if(t){t.setEnabled(true)}}return this._oChipInstance.getImplementationAsSapui5Async()}.bind(this)).then(function(t){this._setChipInstanceType();this.setContent(t);if(t.getComponentInstance&&t.getComponentInstance()){t.getComponentInstance().setParent(this)}return Promise.resolve()}.bind(this)).catch(function(t){this.setState(r.Failed);return Promise.reject(t)}.bind(this))};p.prototype._setChipInstanceType=function(){var t=this._oChipInstance.getContract("types");if(t){t.setType(this._mapDisplayFormatToChip(this.getDisplayFormat()))}};p.prototype._mapDisplayFormatToChip=function(t){var i={};i[o.Standard]="tile";i[o.StandardWide]="tile";i[o.Compact]="link";i[o.Flat]="flat";i[o.FlatWide]="flatwide";return i[t]};p.prototype._setVisible=function(t){var i=this._oChipInstance&&!this._oChipInstance.isStub()&&this._oChipInstance.getContract("visible");if(i){i.setVisible(t)}};p.prototype.refresh=function(){if(this._oChipInstance){this._oChipInstance.refresh()}};p.prototype.setActive=function(t,i){this._setVisible(t);if(i){this.refresh()}return this.setProperty("active",t,false)};return p});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm",["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/m/library","sap/ui/core/Component","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/ui/core/ComponentContainer","sap/ushell/UI5ComponentType","sap/ushell/services/_VisualizationInstantiation/VizInstanceRenderer"],function(t,e,n,o,i,a,r,s){"use strict";var p=e.LoadState;var u=t.extend("sap.ushell.ui.launchpad.VizInstanceCdm",{metadata:{library:"sap.ushell"},renderer:s});u.prototype.load=function(t){var e;if(t===true){e=this._loadCustomVizType()}else{e=this._loadStandardVizType()}return e.then(function(t){this._oComponent=t;var e=new a({component:t});t.setParent(this);this.setContent(e);this._setComponentTileVisible(this.getActive());this.setTileEditable(this.getEditable())}.bind(this)).catch(function(t){this.setState(p.Failed);return Promise.reject(t)}.bind(this))};u.prototype._loadStandardVizType=function(){var t=this._getComponentConfiguration();return n.create(t)};u.prototype._loadCustomVizType=function(){var t=this._getCustomComponentConfiguration();var e={};var n=[];return sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(o){var i=o.createComponent(t,e,n,r.Visualization);return new Promise(function(t,e){i.done(function(e){t(e)})})}).then(function(t){if(t&&t.componentHandle&&t.componentHandle.getInstance){return t.componentHandle.getInstance()}throw new Error("Create component failed: no instance found in the component handle.")})};u.prototype._getComponentConfiguration=function(){var t=this.getInstantiationData().vizType;var e=this.getVizConfig();var n=o.get(["sap.platform.runtime","componentProperties"],t);n=i({},this._getComponentProperties(),n);var a={name:t["sap.ui5"].componentName,componentData:{properties:n},url:o.get(["sap.platform.runtime","componentProperties","url"],t),manifest:o.get(["sap.platform.runtime","componentProperties","manifest"],t),asyncHints:o.get(["sap.platform.runtime","componentProperties","asyncHints"],t)};var r=o.get(["sap.platform.runtime","includeManifest"],t);var s=o.get(["sap.platform.runtime","includeManifest"],e);if(r||s){a.manifest=i({},t,e)}if(typeof a.manifest==="object"){n.manifest=a.manifest}return a};u.prototype._getCustomComponentConfiguration=function(){var t=this._getComponentConfiguration();var e={loadCoreExt:true,loadDefaultDependencies:false,componentData:t.componentData,url:t.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:t,ui5ComponentName:t.name};return e};u.prototype._getComponentProperties=function(){return{title:this.getTitle(),subtitle:this.getSubtitle(),icon:this.getIcon(),info:this.getInfo(),indicatorDataSource:this.getIndicatorDataSource(),dataSource:this.getDataSource(),contentProviderId:this.getContentProviderId(),targetURL:this.getTargetURL(),displayFormat:this.getDisplayFormat(),numberUnit:this.getNumberUnit()}};u.prototype._setComponentTileVisible=function(t){if(this._oComponent&&typeof this._oComponent.tileSetVisible==="function"){this._oComponent.tileSetVisible(t)}};u.prototype.setActive=function(t,e){this._setComponentTileVisible(t);if(e){this.refresh()}return this.setProperty("active",t,false)};u.prototype.setTileEditable=function(t){if(this._oComponent&&typeof this._oComponent.tileSetEditMode==="function"){this._oComponent.tileSetEditMode(t)}return this};u.prototype.refresh=function(){if(this._oComponent&&typeof this._oComponent.tileRefresh==="function"){this._oComponent.tileRefresh()}};return u});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage",["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/library","sap/ushell/services/_VisualizationInstantiation/VizInstanceRenderer"],function(e,t,i){"use strict";var a=t.DisplayFormat;var n=e.extend("sap.ushell.ui.launchpad.VizInstanceLaunchPage",{metadata:{library:"sap.ushell"},renderer:i});n.prototype.load=function(){var e=this.getInstantiationData().launchPageTile;return sap.ushell.Container.getServiceAsync("LaunchPage").then(function(t){return new Promise(function(i,a){t.getCatalogTileViewControl(e).done(i).fail(function(){t.getTileView(e).done(i).fail(a)})}).then(function(i){this._setDisplayFormatFromTileSize(e,t);this.setContent(i)}.bind(this))}.bind(this))};n.prototype._setDisplayFormatFromTileSize=function(e,t){var i=t.getTileSize(e);if(i==="1x2"){this.setDisplayFormat(a.StandardWide)}else{this.setDisplayFormat(a.Standard)}};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstanceLink",["sap/m/library","sap/ushell/library","sap/m/GenericTile","sap/m/Button","sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/ActionSheet"],function(t,e,i,s,o,r,a,n,l){"use strict";var p=t.GenericTileMode;var u=t.GenericTileScope;var h=e.AppType;var c=e.DisplayFormat;var d=i.extend("sap.ushell.ui.launchpad.VizInstanceLink",{metadata:{library:"sap.ushell",properties:{title:{type:"string",defaultValue:"",group:"Appearance",bindable:true},subtitle:{type:"string",defaultValue:"",group:"Appearance",bindable:true},editable:{type:"boolean",defaultValue:false,group:"Behavior",bindable:true},removable:{type:"boolean",defaultValue:true,group:"Behavior",bindable:true},active:{type:"boolean",group:"Misc",defaultValue:false},targetURL:{type:"string",group:"Misc"},mode:{type:"sap.m.GenericTileMode",group:"Appearance",defaultValue:p.LineMode},displayFormat:{type:"string",defaultValue:c.Compact},supportedDisplayFormats:{type:"string[]",defaultValue:[c.Compact]},dataHelpId:{type:"string",defaultValue:""},vizRefId:{type:"string",defaultValue:""}},defaultAggregation:"tileActions",aggregations:{tileActions:{type:"sap.m.Button",forwarding:{getter:"_getTileActionSheet",aggregation:"buttons"}}},events:{beforeActionSheetOpen:{},afterActionSheetClose:{}}},renderer:i.getMetadata().getRenderer()});d.prototype.init=function(){i.prototype.init.apply(this,arguments);this.attachPress(this._handlePress,this);this._customTileActions=[]};d.prototype.exit=function(){if(this._oActionSheet){this._oActionSheet.destroy()}};d.prototype._getTileActionSheet=function(){if(!this._oActionSheet){this._oActionSheet=new l;this._oActionSheet.attachAfterClose(this.fireAfterActionSheetClose.bind(this))}return this._oActionSheet};d.prototype._destroyCustomTileActions=function(){this._customTileActions.forEach(function(t){this.removeTileAction(t);t.destroy()}.bind(this));this._customTileActions=[]};d.prototype._addCustomTileActions=function(){if(this._oCustomTileActionsPromise){return this._oCustomTileActionsPromise}this._destroyCustomTileActions();var t=sap.ushell.Container.getRenderer();this._oCustomTileActionsPromise=t.getCustomTileActions(this).then(function(t){t.forEach(function(t){var e=new s(t);this._customTileActions.push(e);this.addTileAction(e)}.bind(this));this._oCustomTileActionsPromise=null}.bind(this));return this._oCustomTileActionsPromise};d.prototype._handlePress=function(){if(this.getEditable()){if(!this._getTileActionSheet().isOpen()){this.fireBeforeActionSheetOpen()}var t=a.last("/core/extension/enableTileColors");if(t){this._addCustomTileActions()}this._getTileActionSheet().openBy(this);return}var e=this.getTargetURL();if(!e){return}if(e[0]==="#"){r.setHash(e)}else{var i=a.last("/core/shell/enableRecentActivity")&&a.last("/core/shell/enableRecentActivityLogging");if(i){var s={title:this.getTitle(),appType:h.URL,url:this.getTargetURL(),appId:this.getTargetURL()};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(s)}n.openURL(e,"_blank")}};d.prototype.load=o.prototype.load;d.prototype.setVizRefId=function(t){if(!this.getDataHelpId()){this.data("tile-id",t,true)}return this.setProperty("vizRefId",t)};d.prototype.setDataHelpId=function(t){this.data("help-id",t,true);this.data("tile-id",t,true);return this.setProperty("dataHelpId",t)};d.prototype.setTitle=function(t){this.setHeader(t);return this.setProperty("title",t)};d.prototype.setSubtitle=function(t){this.setSubheader(t);return this.setProperty("subtitle",t)};d.prototype.setTargetURL=function(t){this.setUrl(t);return this.setProperty("targetURL",t)};d.prototype.setProperty=function(t,e,s){if(t==="title"){this.setProperty("header",e,s)}if(t==="subtitle"){this.setProperty("subheader",e,s)}if(t==="targetURL"){this.setProperty("url",e,s)}if(t==="editable"){if(e&&this.getRemovable()){this.setProperty("scope",u.Actions,s)}else if(e){this.setProperty("scope",u.ActionMore,s)}else{this.setProperty("scope",u.Display,s)}}if(t==="removable"){var o=this.getEditable();if(e&&o){this.setProperty("scope",u.Actions,s)}else if(o){this.setProperty("scope",u.ActionMore,s)}else{this.setProperty("scope",u.Display,s)}}return i.prototype.setProperty.apply(this,arguments)};d.prototype.getAvailableDisplayFormats=o.prototype.getAvailableDisplayFormats;return d});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_VisualizationInstantiation/VizInstanceRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,n){var t=this._prepareControlsToBeRendered(n);e.openStart("div",n);e.class("sapUshellVizInstance");if(n.getEditable()){e.class("sapUshellVizInstanceEdit")}e.openEnd();t.forEach(function(n){e.renderControl(n)});e.close("div")};e._prepareControlsToBeRendered=function(e){var n=[e.getContent()];if(e.getEditable()){if(e.getRemovable()){var t=e._getRemoveIconVBox();n.unshift(t)}var r=e._getActionModeButtonIconVBox();n.push(r)}return n};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/AppContainer",["sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Element","sap/ui/Device","sap/base/Log","./AppContainerRenderer"],function(e,t,r,o,i){"use strict";var a=e.extend("sap.ushell.ui.AppContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"pages"}},events:{beforeNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}}}}});a.prototype.addPages=function(e){if(this.getPages().indexOf(e)>-1){return}if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",true)}else{e.toggleStyleClass("hidden",true)}this.addAggregation("pages",e,true);var r=this.getDomRef();if(r){var o=t.createRenderManager();o.render(e,r);o.destroy()}};a.prototype.addCenterViewPort=a.prototype.addPages;a.prototype.removeCenterViewPort=function(e){this.removeAggregation("pages",e,true)};a.prototype.getCurrentCenterPage=function(){return this.getPages().reduce(function(e,t){if(t&&t.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){return!t.hasStyleClass("sapUShellApplicationContainerIframeHidden")?t.getId():e}return t&&!t.hasStyleClass("hidden")?t.getId():e},null)};a.prototype.navTo=function(e,r){var a=t.byId(r),n=this.getCurrentCenterPage(),s=t.byId(n)||null,p=sap.ushell.Container.getRenderer("fiori2").byId("Shell-home-component-container"),l=p&&p.getId(),d=n&&l===n,u=l===r;if(e!=="centerViewPort"){i.error("Navigation to "+e+" is not allowed in Fiori3");return}if(this.getPages().indexOf(a)===-1){i.error("AppContainer: invalid navigation target");return}if(o.system.desktop&&d){this._saveFocus()}if(n!==r){this.fireBeforeNavigate({toId:r,to:a,fromId:n,from:s})}this.getPages().forEach(function(e){if(e){if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",e.getId()!==r)}else{e.toggleStyleClass("hidden",e.getId()!==r)}}});if(o.system.desktop&&u){this._restoreFocus()}if(n!==r){this.fireAfterNavigate({toId:r,to:a,fromId:n,from:s})}};a.prototype._restoreFocus=function(){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){var r;if(this.sLastFocusId){e.registerAppKeysHandler(this.fnLastAppKeyHandler);r=t.byId(this.sLastFocusId);if(r){r.focus()}}}.bind(this))};a.prototype._saveFocus=function(){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){var t=r.closestTo(document.activeElement);this.sLastFocusId=t?t.getId():null;this.fnLastAppKeyHandler=e.getAppKeysHandler()}.bind(this))};a.prototype.getViewPortControl=function(e,t){return this.getPages().reduce(function(r,o){return e==="centerViewPort"&&o&&o.getId()===t?o:r},null)};var n=function(){};a.prototype.switchState=n;a.prototype._handleSizeChange=n;a.prototype.shiftCenterTransitionEnabled=n;a.prototype.shiftCenterTransition=n;a.prototype.addLeftViewPort=n;a.prototype.addRightViewPort=n;a.prototype.attachAfterSwitchState=n;a.prototype.detachAfterSwitchState=n;a.prototype.attachAfterSwitchStateAnimationFinished=n;a.prototype.detachAfterSwitchStateAnimationFinished=n;a.prototype.getCurrentState=function(){return"Center"};return a});
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/ui/AppContainerRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,n){if(!n.getVisible()){return}e.openStart("div",n);e.openEnd();n.getPages().forEach(function(n){e.renderControl(n)});e.close("div")};return e},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ShellHeader",["sap/ui/core/Control","sap/ui/core/theming/Parameters","sap/ui/Device","sap/ui/dom/units/Rem","sap/base/Log","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/shell/ShellAppTitle","sap/ushell/ui/ShellHeaderRenderer","sap/ushell/utils","sap/ushell/utils/WindowUtils"],function(e,t,i,a,o,r,n,s,l,h,p,u,d){"use strict";var g="sapUshellShellShowSearchOverlay";var f=0;var c;var y;var v=sap.ui.require.toUrl("sap/ushell/themes/base/img/SAPLogo.svg");var m=e.extend("sap.ushell.ui.ShellHeader",{metadata:{library:"sap.ushell",properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},showLogo:{type:"boolean",defaultValue:true},homeUri:{type:"sap.ui.core.URI",defaultValue:"#"},searchState:{type:"string",defaultValue:"COL"},ariaLabel:{type:"string"},centralAreaElement:{type:"string",defaultValue:null},title:{type:"string",defaultValue:""}},aggregations:{headItems:{type:"sap.ushell.ui.shell.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.core.Control",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},appTitle:{type:"sap.ushell.ui.shell.ShellAppTitle",multiple:false}},associations:{shellLayout:{type:"sap.ui.base.ManagedObject",multiple:false}},events:{searchSizeChanged:{}}}});m.prototype.setHomeUri=function(e){if(d.hasInvalidProtocol(e)){o.fatal("Tried to set a URL with an invalid protocol as the home uri. Setting to an empty string instead.",null,"sap/ushell/ui/ShellHeader");e=""}return this.setProperty("homeUri",e)};m.prototype.getShellLayoutControl=function(){return sap.ui.getCore().byId(this.getShellLayout())};m.prototype.createUIArea=function(){var e=window.document.getElementById("shell-hdr");if(!e){window.document.body.insertAdjacentHTML("afterbegin",'<div id="shell-hdr" class="sapContrastPlus sapUshellShellHead"></div>');this.placeAt("shell-hdr")}};m.prototype.SearchState={COL:"COL",EXP:"EXP",EXP_S:"EXP_S"};m.prototype.init=function(){i.media.attachHandler(this.invalidate,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED);i.resize.attachHandler(this.refreshLayout,this);r.once("ShellNavigationInitialized").do(function(){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){this._rerenderLogoNavigationFilterBound=this._rerenderLogoNavigationFilter.bind(this,e);e.registerNavigationFilter(this._rerenderLogoNavigationFilterBound);this._rerenderLogoNavigationFilterBound.detach=function(){e.unregisterNavigationFilter(this._rerenderLogoNavigationFilterBound)}}.bind(this))}.bind(this))};m.prototype.exit=function(){i.media.detachHandler(this.invalidate,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED);i.resize.detachHandler(this.refreshLayout,this);var e=window.document.getElementById("shell-hdr");if(e){e.parentElement.removeChild(e)}if(this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter){this._rerenderLogoNavigationFilterfnRerenderLogoNavigationFilter.detach()}};m.prototype.setFocusOnShellHeader=function(e){if(e){var t=this.getHeadEndItems();if(t.length>0){t[t.length-1].focus()}else{this.getAppTitle().focus()}}else{var i=this.getHeadItems();if(i.length>0){i[0].focus()}else{this.getAppTitle().focus()}}};m.prototype.onsapspace=function(e){if(e.target===this.getDomRef("logo")){this._setLocationHref(e.target.href)}};m.prototype._setLocationHref=function(e){if(d.hasInvalidProtocol(e)){o.fatal("Tried to navigate to URL with an invalid protocol. Preventing navigation.",null,"sap/ushell/ui/ShellHeader");return}window.location.href=e};m.prototype.onAfterRendering=function(){var e=this.getDomRef();if(!c&&e.parentElement.getBoundingClientRect().height>0){e.style.visibility="hidden";e.style.height="2.75rem";return}this.refreshLayout()};m.prototype.onThemeChanged=function(e){var t=false;if(c!==e.theme){c=e.theme;t=true}if(y!==this.getLogo()){y=this.getLogo();t=true}if(t){this.invalidate()}};m.prototype.getLogo=function(){if(this.getProperty("logo")!==""){return this.getProperty("logo")}var e=t.get({name:"sapUiGlobalLogo",callback:function(){this.invalidate()}});if(e==="none"){return v}if(e){var i=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(e);if(i){return i[1]}}return undefined};m.prototype.refreshLayout=function(){if(!this.getDomRef()){return}this._setAppTitleFontSize();this._adjustAppTitleTooltip();if(this.getSearchVisible()){var e=this.getDomRef("hdr-search");e.style.display="none";this._hideElementsForSearch();e.style.display="";e.style["max-width"]=f+"rem";this.fireSearchSizeChanged({remSize:a.fromPx(e.getBoundingClientRect().width),isFullWidth:this.isPhoneState()||this.getDomRef("hdr-end").style.display==="none"})}};m.prototype._setAppTitleFontSize=function(){if(this.isExtraLargeState()){return}var e=this.getDomRef("hdr-begin"),t=window.document.getElementById("shellAppTitle"),i="sapUshellHeadTitleWithSmallerFontSize";if(e&&t){t.classList.remove(i);t.style.overflow="visible";var a=e.getBoundingClientRect(),o=a.x+a.width,r=t.getBoundingClientRect(),n=r.x+r.width;if(n>o){t.classList.add(i)}t.style.overflow=""}};m.prototype._adjustAppTitleTooltip=function(){var e=sap.ui.getCore().byId("shellAppTitle");if(e){var t=e.getDomRef("button");var i=t&&t.firstChild;if(i){var a;var o=n.last("/core/shell/model/currentState/stateName");var r=n.last("/core/services/allMyApps/enabled");var s=(o==="app"||o==="home")&&r;var h=sap.ui.getCore().byId(e.getNavigationMenu());var p=h&&h.getItems()&&h.getItems().length>0;if(s||p){a=l.i18n.getText("shellNavMenu_openMenuTooltip")}else{var u=i.offsetWidth<i.scrollWidth;a=u?e.getText():null}if(e.getTooltip()!==a){e.setTooltip(a)}}}};m.prototype.removeHeadItem=function(e){if(typeof e==="number"){e=this.getHeadItems()[e]}this.removeAggregation("headItems",e)};m.prototype.addHeadItem=function(e){this.addAggregation("headItems",e)};m.prototype.isExtraLargeState=function(){return i.media.getCurrentRange(i.media.RANGESETS.SAP_STANDARD_EXTENDED).from===1440};m.prototype.isPhoneState=function(){var e=i.media.getCurrentRange(i.media.RANGESETS.SAP_STANDARD).name;var t=this.getDomRef().getBoundingClientRect().width>f;return i.system.phone||e==="Phone"||!t};m.prototype.setSearchState=function(e,t,i){if(this.SearchState[e]&&this.getSearchState()!==e){if(typeof t==="boolean"){i=t;t=undefined}this.setProperty("searchState",e,false);var a=e!=="COL";var o=this.getShellLayoutControl();if(o){o.toggleStyleClass(g,a&&i)}f=a?t||35:0}};m.prototype._hideElementsForSearch=function(){if(this.isExtraLargeState()){return}var e,t=this.getDomRef("hdr-search-container"),i=this.getDomRef("hdr-begin"),o=this.getDomRef("hdr-center"),r=this.getDomRef("hdr-end");if(this.getSearchState()==="EXP"||this.isPhoneState()){e=a.toPx(f+3)}else{e=a.toPx(9+.5)}var n=[i];Array.prototype.forEach.call(i.childNodes,function(e){n.unshift(e)});if(o){n.unshift(o)}i.style.flexBasis="";r.style.display="";n.forEach(function(e){if(e.getAttribute("id")==="shellAppTitle"){e.classList.remove("sapUiPseudoInvisibleText")}else{e.style.display=""}});var s;for(var l=0;l<n.length;l++){s=n[l];if(e>t.getBoundingClientRect().width){if(s.getAttribute("id")==="shellAppTitle"){s.classList.add("sapUiPseudoInvisibleText")}else{s.style.display="none";if(o&&l===0){i.style.flexBasis="auto"}}}else{return}}if(a.toPx(f)>t.getBoundingClientRect().width){r.style.display="none"}};m.prototype.getSearchWidth=function(){return f};m.prototype.isHomepage=function(){var e=window.hasher&&"#"+window.hasher.getHash()||"";var t=new RegExp("[?]"+"(?:"+"(?!&[/])."+")*");var i=e.replace(t,"");return u.isRootIntent(i)||i==="#Launchpad-openFLPPage"};m.prototype._rerenderLogoNavigationFilter=function(e,t,i){var a=e.hashChanger.isInnerAppNavigation(t,i);if(a){this.invalidate()}return e.NavigationFilterStatus.Continue};m.prototype.getSearchVisible=function(){return this.getSearchState()!==this.SearchState.COL};m.prototype.getCentralControl=function(){return sap.ui.getCore().byId(this.getCentralAreaElement())};m.prototype.setNoLogo=function(){this.setLogo(undefined)};m.prototype._getLeanMode=function(){return(window.location.search||"").indexOf("appState=lean")>=0};return m},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ShellHeaderRenderer",["sap/ushell/resources","sap/ui/Device"],function(e,t){"use strict";var r={apiVersion:2};r.render=function(t,r){var a=r.getId();var l=r.getCentralControl();t.openStart("header",r);if(!r.getVisible()){t.style("display","none")}t.class("sapUshellShellHeader");t.class("sapUshellShellCntnt");t.attr("aria-label",e.i18n.getText("Shell_Header_AriaLabel"));t.attr("data-sap-ui-customfastnavgroup","true");t.openEnd();t.openStart("div");t.attr("id",a+"-hdr-begin");t.class("sapUshellShellHeadBegin");if(l){t.class("sapUshellHeadWithCenter")}t.openEnd();this.renderHeaderItems(t,r);this.renderLogo(t,r);this.renderTitle(t,r);t.close("div");if(l){t.openStart("div",l);t.attr("id",a+"-hdr-center");t.class("sapUshellShellHeadCenter");t.openEnd();t.renderControl(l);t.close("div")}t.openStart("div");t.attr("id",a+"-hdr-search-container");t.class("sapUshellShellHeadSearchContainer");t.openEnd();this.renderSearch(t,r);t.close("div");t.openStart("div");t.attr("id",a+"-hdr-end");t.class("sapUshellShellHeadEnd");t.openEnd();this.renderHeaderEndItems(t,r);t.close("div");t.close("header")};r.renderSearch=function(e,t){var r=t.getSearch();e.openStart("div");e.attr("id",t.getId()+"-hdr-search");e.class("sapUshellShellSearch");e.style("max-width",t.getSearchWidth()+"rem");if(t.getSearchState()==="COL"){e.style("display","none")}e.openEnd();if(r){e.renderControl(r)}e.close("div")};r.renderTitle=function(e,t){var r=t.getTitle();e.renderControl(t.getAppTitle());if(r&&t.isExtraLargeState()){e.openStart("div");e.attr("id",t.getId()+"-hdr-shell-title");e.class(t.getAppTitle()?"sapUshellShellHeadSubtitle":"sapUshellShellHeadTitle");e.openEnd();e.openStart("h2");e.class("sapUshellHeadTitle");e.attr("aria-level","2");e.attr("title",r);e.openEnd();e.text(r);e.close("h2");e.close("div")}};r.renderHeaderItems=function(e,t){var r=t.getHeadItems();r.forEach(function(t){e.renderControl(t)})};r.renderHeaderEndItems=function(e,t){t.getHeadEndItems().forEach(e.renderControl)};r.renderLogo=function(t,r){var a=r.getLogo();if(!r.getShowLogo()||a===undefined){return}var l=r._getLeanMode();var n=e.i18n.getText("homeBtn_tooltip");var s=e.i18n.getText("homeBtn_tooltip_text");t.openStart(l?"div":"a");t.attr("id",r.getId()+"-logo");t.class("sapUshellShellIco");if(l){t.class("sapUshellLean")}else{t.attr("href",r.getHomeUri());t.attr("title",s);t.attr("aria-label",n);t.attr("role","button")}t.openEnd();t.voidStart("img");t.attr("id",r.getId()+"-icon");t.attr("alt",e.i18n.getText("SHELL_LOGO_TOOLTIP"));t.attr("src",a);t.voidEnd();t.close(l?"div":"a")};return r},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/ContactSupportButton",["sap/base/Log","sap/m/ButtonRenderer","sap/m/library","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/ActionItem"],function(t,e,n,i,a,o,s,l,r){"use strict";var u=n.ButtonType;var h=r.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"},renderer:"sap.m.ButtonRenderer"});h.prototype.init=function(){if(r.prototype.init){r.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(s.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog);this.setEnabled()};h.prototype.showContactSupportDialog=function(){sap.ui.require(["sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout","sap/m/TextArea","sap/m/Input","sap/m/Link","sap/m/Label","sap/m/Text","sap/m/Dialog","sap/m/Button","sap/ushell/UserActivityLog"],function(t,e,n,o,r,h,p,d,c,x){var g="",m="",C="",f=[],b,S;S=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();if(this.oClientContext.navigationData.applicationInformation){g=this.oClientContext.navigationData.applicationInformation.applicationType;m=this.oClientContext.navigationData.applicationInformation.url;C=this.oClientContext.navigationData.applicationInformation.additionalInformation}f.push(new p({text:this.translationBundle.getText("loginDetails")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));f.push(new h({text:this.translationBundle.getText("userFld")}));f.push(new p({text:this.oClientContext.userDetails.fullName||""}));f.push(new h({text:this.translationBundle.getText("serverFld")}));f.push(new p({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==""){f.push(new h({text:this.translationBundle.getText("eMailFld")}));f.push(new p({text:this.oClientContext.userDetails.eMail||""}))}f.push(new h({text:this.translationBundle.getText("languageFld")}));f.push(new p({text:this.oClientContext.userDetails.Language||""}));if(this.oClientContext.shellState==="app"||this.oClientContext.shellState==="standalone"){f.push(new p({text:""}));f.push(new p({text:this.translationBundle.getText("navigationDataFld")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));f.push(new h({text:this.translationBundle.getText("hashFld")}));f.push(new p({text:this.oClientContext.navigationData.navigationHash||""}));f.push(new p({text:""}));f.push(new p({text:this.translationBundle.getText("applicationInformationFld")}).addStyleClass("sapUshellContactSupportHeaderInfoText"));f.push(new h({text:this.translationBundle.getText("applicationTypeFld")}));f.push(new p({text:g}));f.push(new h({text:this.translationBundle.getText("urlFld")}));f.push(new p({text:m}));f.push(new h({text:this.translationBundle.getText("additionalInfoFld")}));f.push(new p({text:C}))}this.oBottomSimpleForm=new t("technicalInfoBox",{layout:e.ResponsiveLayout,content:f}).addStyleClass("sapUshellTechnicalInfoBox");if(i.os.ios&&i.system.phone){this.oBottomSimpleForm.addStyleClass("sapUshellContactSupportFixWidth")}b=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){b.apply(this,arguments);var t=a(this.getDomRef());t.attr("tabIndex",0);setTimeout(function(){this.focus()}.bind(t),700)};this.oDialog.addContent(this.oBottomSimpleForm)}.bind(this);this._embedLoginDetailsInBottomForm=S;this.translationBundle=s.i18n;this.oClientContext=x.getMessageInfo();this.oLink=new r({text:this.translationBundle.getText("technicalDataLink")});this.oBottomSimpleForm=new t("bottomForm",{editable:false,content:[this.oLink]});this.sendButton=new c("contactSupportSendBtn",{text:this.translationBundle.getText("sendBtn"),type:u.Emphasized,enabled:true,press:function(){this.oSubjectInput.fireChange();this.oTextArea.fireChange();if(this.oSubjectInput.getValueState()!=="Error"&&this.oTextArea.getValueState()!=="Error"){sap.ushell.Container.getServiceAsync("SupportTicket").then(function(t){var e=this.oSubjectInput.getValue();var n=this.oTextArea.getValue();t.createTicket({subject:e,text:n,clientContext:this.oClientContext}).done(function(){sap.ushell.Container.getServiceAsync("Message").then(function(t){t.info(this.translationBundle.getText("supportTicketCreationSuccess"))}.bind(this))}.bind(this)).fail(function(){sap.ushell.Container.getServiceAsync("Message").then(function(t){t.error(this.translationBundle.getText("supportTicketCreationFailed"))}.bind(this))}.bind(this));this.oDialog.close()}.bind(this))}}.bind(this)});this.cancelButton=new c("contactSupportCancelBtn",{text:this.translationBundle.getText("cancelBtn"),press:function(){this.oDialog.close()}.bind(this)});var B=function(t){var e=t.getSource();if(!e.getValue()){if(e.getId()==="subjectInput"){e.setValueStateText(this.translationBundle.getText("subjectEmptyErrorMessage"))}if(e.getId()==="textArea"){e.setValueStateText(this.translationBundle.getText("txtAreaEmptyErrorMessage"))}e.setValueState("Error")}else{e.setValueState("None")}}.bind(this);this.oSubjectLabel=new h("subjectLabel",{text:this.translationBundle.getText("subjectLabel"),required:true});this.oSubjectInput=new o("subjectInput",{});this.oSubjectInput.attachLiveChange(B);this.oSubjectInput.attachChange(B);this.oTextAreaLabel=new h("textAreaLabel",{text:this.translationBundle.getText("txtAreaLabel"),required:true});this.oTextArea=new n("textArea",{rows:7});this.oTextArea.attachLiveChange(B);this.oTextArea.attachChange(B);this.oTopSimpleForm=new t("topForm",{editable:false,content:[this.oSubjectLabel,this.oSubjectInput,this.oTextAreaLabel,this.oTextArea],layout:e.ResponsiveGridLayout});this.oDialog=new d({id:"ContactSupportDialog",title:this.translationBundle.getText("contactSupportBtn"),contentWidth:"29.6rem",leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:"subjectInput",afterOpen:function(){a("#textArea").on("focusout",function(){window.scrollTo(0,0)})},afterClose:function(){this.oDialog.destroy();if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("meAreaHeaderButton").focus()}}.bind(this)}).addStyleClass("sapUshellContactSupportDialog").addStyleClass("sapContrastPlus");this.oSubjectInput.setPlaceholder(this.translationBundle.getText("subjectPlaceHolderHeader"));this.oTextArea.setPlaceholder(this.translationBundle.getText("txtAreaPlaceHolderHeader"));this.oLink.attachPress(S.bind(this));this.oDialog.addCustomData(new l({key:"aria-label",value:this.translationBundle.getText("ContactSupportArialLabel"),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open()}.bind(this))};h.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){t.warning("Disabling 'Contact Support' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.ContactSupportButton")}e=false}r.prototype.setEnabled.call(this,e)};return h});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AccessibilityCustomData",["sap/ui/core/CustomData"],function(e){"use strict";var t=e.extend("sap.ushell.ui.launchpad.AccessibilityCustomData",{metadata:{library:"sap.ushell"}});t.prototype._checkWriteToDom=function(){var t=sap.ui.getCore().getConfiguration().getAccessibility();if(!t){return null}var a=this.getKey();var i=e.prototype._checkWriteToDom.apply(this,arguments);if(i&&(a.indexOf("aria-")===0||a==="role"||a==="tabindex")){i.key=i.key.replace(/^data-/,"")}return i};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ActionItem",["sap/m/Button","sap/m/ButtonRenderer","sap/m/library"],function(e,t,r){"use strict";var s=r.ButtonType;var a=e.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:"standard"}},events:{press:{},afterRendering:{}}},renderer:"sap.m.ButtonRenderer"});a.prototype.setActionType=function(e){if(!this.sOrigType){this.sOrigType=this.getType()}this.setType(e==="action"?s.Unstyled:this.sOrigType||s.Standard);this.setProperty("actionType",e,true)};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialog",["sap/m/Label","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/Popup","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./LoadingDialogRenderer"],function(e,i,t,s,o,a,l){"use strict";var n=i.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{iconUri:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},loadAnimationWithInterval:{type:"boolean",group:"Appearance",defaultValue:true}}}});n.prototype.init=function(){this._oPopup=new s;this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,"sapUshellLoadingDialog");this.oIcon=new t;this._oLabel=new e(this.getId()+"loadingLabel").addStyleClass("sapUshellLoadingDialogLabel");this.sState="idle";this.sLoadingString=a.i18n.getText("genericLoading").replace("..."," ")};n.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy()};n.prototype.isOpen=function(){return this._oPopup.isOpen()};n.prototype.openLoadingScreen=function(){if(this.sState==="idle"){this.sState="busy"}if(this.getLoadAnimationWithInterval()){this.addStyleClass("sapUshellVisibilityHidden");this._iTimeoutId=setTimeout(function(){this.removeStyleClass("sapUshellVisibilityHidden");this.focus()}.bind(this),3e3)}else{this.removeStyleClass("sapUshellVisibilityHidden");this.focus()}if(!this.getVisible()){this.setVisible(true);this.$().show()}if(!this.isOpen()){this._oPopup.setContent(this);this._oPopup.setPosition("center center","center center",document,"0 0","fit");this._oPopup.open()}};n.prototype.showAppInfo=function(e,i,t){this.setText(e);this.setIconUri(i);this.oIcon.setSrc(i);this._oLabel.setText(e);this._oLabel.addCustomData(new l({key:"aria-hidden",value:"true",writeToDom:true}));var s=this.getDomRef("accessibility-helper");if(s&&t){s.innerText=this.sLoadingString}};n.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId)}if(this.getVisible()){this.sState="idle";this.setVisible(false);this.$().hide();this._oPopup.close()}};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LoadingDialogRenderer",["sap/ui/thirdparty/jquery"],function(e){"use strict";var i={apiVersion:2,render:function(i,r){var o=r.getTooltip_AsString();i.openStart("div",r);i.class("sapUshellLoadingDialogControl");if(o){i.attr("title",o)}i.openEnd();if(e.os.ios||!r._isPlatformDependent){this.renderAppInfo(i,r);this.renderFioriFlower(i)}else{this.renderFioriFlower(i);this.renderAppInfo(i,r)}i.close("div")},renderAppInfo:function(e,i){e.openStart("div");e.class("sapUshellLoadingDialogAppData");e.openEnd();if(i.getIconUri()){e.renderControl(i.oIcon)}e.openStart("span",i.getId()+"-accessibility-helper");e.class("sapUshellAccessibilityHelper");e.attr("aria-live","rude");e.attr("aria-relevant","additions text");e.openEnd();e.close("span");e.renderControl(i._oLabel);e.close("div")},renderFioriFlower:function(i){var r=/Android\s4\.2.+GT-I9505.+Chrome\/18/,o=navigator.userAgent&&r.test(navigator.userAgent);if(e.support.cssAnimations&&!o){i.openStart("div","fiori2-loader");i.openEnd();i.openStart("div");i.class("fiori2-blossom");i.openEnd();for(var n=1;n<6;++n){i.openStart("div");i.class("fiori2-leafContainer");i.class("fiori2-leafContainer"+n);i.openEnd();i.openStart("div");i.class("fiori2-leaf");i.class("fiori2-leaf"+n);i.openEnd();i.close("div");i.close("div")}i.close("div");i.close("div")}}};return i},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Tile",["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],function(e,t,i,o,s,n,a,l,r,c,u){"use strict";var d=o.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}},renderer:u});d.prototype.init=function(){this.addDelegate({onsapenter:this._launchTileViaKeyboard,onsapspace:this._launchTileViaKeyboard,ontap:function(){e.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress()}},this)};d.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy()}if(this.actionIcon){this.actionIcon.destroy()}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy()}};d.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new t({text:r.i18n.getText("Tile.failedToLoadView")})}return this.failedToLoadViewText};d.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined}if(!this.actionSheetIcon){this.actionSheetIcon=new n({src:"sap-icon://overflow",tooltip:r.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner")}return this.actionSheetIcon};d.prototype.destroy=function(e){this.destroyTileViews();o.prototype.destroy.call(this,e)};d.prototype.addTileView=function(e,t){e.setParent(null);i.prototype.addAggregation.call(this,"tileViews",e,t)};d.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};d.prototype.onBeforeRendering=function(){var e=this.getDomRef();if(e){var t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=null}if(document.activeElement===e){this.bFocused=true}this.sTabIndex=e.getAttribute("tabindex");if(this.sTabIndex){e.removeAttribute("tabindex")}}};d.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){var e=this.getParent();e.removeAggregation("tiles",this,false)}var t=this.getDomRef();if(t){if(this.sTabIndex){t.setAttribute("tabindex",this.sTabIndex);delete this.sTabIndex}if(this.bFocused){t.focus();delete this.bFocused}}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering()};d.prototype._disableInnerLink=function(){var e=this.getDomRef();var t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=function(e){e.preventDefault()}}};d.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()})}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){var t=this.getTileViews()[0],i=false,o,s;if(t.firePress){t.firePress({id:this.getId()})}else if(t.getComponentInstance){o=t.getComponentInstance();if(o._oController&&o._oController.oView.getContent()){s=o._oController.oView.getContent()[0];if(s&&s.firePress){s.firePress({id:this.getId()})}}}else{while(t.getContent&&!i){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});i=true}}}}}};d.prototype.onfocusin=function(){var t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){var i=this.$().prevUntil("h3"),o;if(i.length>0){o=i[i.length-1].previousSibling}else{o=t.previousSibling}var s=t.querySelector(".sapUshellTileInner");if(s&&s.children&&s.children[0]){var n=[];if(o){n.push("sapUshellCatalogAccessibilityTileText")}else{n.push("sapUshellDashboardAccessibilityTileText")}var a=this.getNavigationMode();if(a){var l=r.i18n.getText(a+"NavigationMode");if(l){var c=this.getId()+"-navigationMode";if(!document.getElementById(c)){var u=document.createElement("div");u.setAttribute("id",c);u.style.display="none";u.innerText=l;s.appendChild(u)}n.push(c)}else{e.warning("The navigation mode is of a unkown mode, it can not be read!")}}n.push(s.children[0].getAttribute("id"));var d=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(d){n.push(d.id)}if(o){n.push(o.getAttribute("id"))}if(this.getTileActionModeActive()){n.push("sapUshellDashboardAccessibilityTileEditModeText")}t.setAttribute("aria-labelledby",n.join(" "))}}};d.prototype.onclick=function(e){if(this.getTileActionModeActive()){var t=e.originalEvent.srcElement;if(a(t).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress()}else{this.fireCoverDivPress({id:this.getId()})}}else{this._announceLoadingApplication()}};d.prototype._announceLoadingApplication=function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo"),t=r.i18n.getText("screenReaderNavigationLoading");if(e){e.setAttribute("role","alert");e.innerText=t;setTimeout(function(){e.removeAttribute("role");e.innerText=""},0)}};d.prototype._initDeleteAction=function(){var e=this;if(!this.deleteIcon){this.deleteIcon=new n({src:"sap-icon://decline",tooltip:r.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(t){e.fireDeletePress();t.stopPropagation()}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new c({key:"aria-label",value:r.i18n.getText("removeButtonLabel"),writeToDom:true}))}return this.deleteIcon};d.prototype.setShowActionsIcon=function(e){if(e){if(!this.actionIcon){this.actionIcon=new n({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");var e=s.getEventBus(),t=function(i,o,s){s.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",t)};e.subscribe("dashboard","actionSheetClose",t)}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass")}}this.setProperty("showActionsIcon",e)};d.prototype.setIsDraggedInTabBarToSourceGroup=function(e){this.setProperty("isDraggedInTabBarToSourceGroup",e);this.setVisible(!e)};d.prototype.setRgba=function(e){this.setProperty("rgba",e);this._redrawRGBA()};d.prototype._redrawRGBA=function(){var e=this.getRgba(),t=this.$();if(e&&t){var i=this.getModel();t.css("background-color",e);t.unbind("mouseenter mouseleave");var o,s=t.css("border").split("px")[0];if(s>0){o=t.css("border-color")}else{o=e}t.hover(function(){if(i&&!i.getProperty("/tileActionModeActive")){var e=t.css("box-shadow"),s=e?e.split(") ")[1]:null;if(s){t.css("box-shadow",s+" "+o)}}},function(){t.css("box-shadow","")})}};return d});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileRenderer",["sap/ushell/Config","sap/base/Log","sap/m/Text"],function(e,i,t){"use strict";var l={apiVersion:2};l.render=function(t,l){var n=null,s;try{n=l.getTileViews()[0]}catch(e){i.warning("Failed to load tile view: ",e.message);n=l.getFailedtoLoadViewText()}var o=l.getParent();var a=[];if(o&&o.getTiles){a=o.getTiles()}else if(o&&o.getAppBoxesContainer&&o.getCustomTilesContainer){a=o.getAppBoxesContainer().concat(o.getCustomTilesContainer())}var r=a.filter(function(e){return e.getVisible()});var c=r.indexOf(l)>-1?r.indexOf(l)+1:"";if(!o){return}t.openStart("li",l);if(e.last("/core/shell/model/enableHelp")){t.attr("data-help-id",l.getTileCatalogId())}t.class("sapUshellTile");if(l.getTileActionModeActive()){t.class("sapUshellTileWrapper")}if(n&&n.getContent){s=n.getContent();s.forEach(function(e){if(e.isA("sap.m.GenericTile")){t.class("sapUshellFeedTileBG")}})}if(l.getLong()){t.class("sapUshellLong")}if(!l.getVisible()){t.class("sapUshellHidden")}if(l.getIsLocked()){t.class("sapUshellLockedTile")}if(e.last("/core/home/sizeBehavior")==="Small"){t.class("sapUshellSmall")}t.attr("aria-posinset",c);t.attr("aria-setsize",r.length);var d=o.getId()+"-titleText";t.attr("aria-describedby",d);t.openEnd();if(l.getTileActionModeActive()){this.renderTileActionMode(t,l);this.renderTileView(t,l,n)}else{t.openStart("div");t.class("sapUshellTileWrapper");t.openEnd();this.renderTileView(t,l,n);if(l.getShowActionsIcon()){t.renderControl(l.actionIcon)}t.close("div");this.renderTileActionsContainer(t,n,l.getPinButton())}t.close("li")};l.renderTileActionsContainer=function(e,i,t){t=t.length?t[0]:undefined;if(t){t.addStyleClass("sapUshellActionButton");e.openStart("div");e.class("sapUshellTilePinButtonOverlay");if(i.getHeader){e.attr("role","toolbar");e.attr("aria-label",i.getHeader())}e.openEnd();e.renderControl(t);e.close("div")}};l.renderTileView=function(e,i,t){e.openStart("div");e.class("sapUshellTileInner");if(i.getTileActionModeActive()){e.class("sapUshellTileActionBG")}e.openEnd();e.renderControl(t);e.close("div")};l.renderTileActionMode=function(e,i){e.openStart("div");e.class("sapUshellTileActionLayerDiv");e.openEnd();if(!i.getIsLocked()){e.openStart("div");e.class("sapUshellTileDeleteClickArea");e.openEnd();e.openStart("div");e.class("sapUshellTileDeleteIconOuterClass");e.openEnd();e.renderControl(i._initDeleteAction());e.close("div");e.close("div")}e.openStart("div");e.class("sapUshellTileActionDivCenter");e.openEnd();e.close("div");e.openStart("div");e.class("sapUshellTileActionIconDivBottom");e.openEnd();e.openStart("div");e.class("sapUshellTileActionIconDivBottomInnerDiv");e.openEnd();e.renderControl(i.getActionSheetIcon());e.close("div");e.close("div");e.close("div")};return l},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ContentRenderer",["sap/ui/base/Object"],function(e){"use strict";var t=e.extend("sap.ushell.ui.shell.ContentRenderer",{constructor:function(t,r,i,n){e.apply(this);this._id=r;this._cntnt=i;this._ctrl=t;this._rm=sap.ui.getCore().createRenderManager();this._cb=n||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);var t=e!=null;if(t){if(typeof this._cntnt==="string"){var r=this._ctrl.getAggregation(this._cntnt,[]);for(var i=0;i<r.length;i++){this._rm.renderControl(r[i])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(t)}.bind(this),0)}});return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/OverflowListItem",["sap/m/StandardListItem","sap/ui/core/CustomData","sap/ushell/library","sap/ushell/ui/shell/ShellHeadItem"],function(e,t,a,r){"use strict";var o=r.getMetadata().getProperties();var l=e.extend("sap.ushell.ui.shell.OverflowListItem",{metadata:{library:"sap.ushell",properties:{floatingNumber:{type:o.floatingNumber.type,group:o.floatingNumber.group,defaultValue:o.floatingNumber.defaultValue},floatingNumberMaxValue:{type:o.floatingNumberMaxValue.type,group:o.floatingNumberMaxValue.group,defaultValue:o.floatingNumberMaxValue.defaultValue},floatingNumberType:{type:o.floatingNumberType.type,group:o.floatingNumberType.group,defaultValue:o.floatingNumberType.defaultValue}}},renderer:{apiVersion:2}});l.prototype.init=r.prototype.init;l.prototype.onBeforeRendering=r.prototype.onBeforeRendering;l.prototype.tooltipFormatter=r.prototype.tooltipFormatter;l.prototype.floatingNumberFormatter=r.prototype.floatingNumberFormatter;l.prototype._getImage=function(){var a=this._oImage;if(!a){a=e.prototype._getImage.call(this)}if(this.getFloatingNumber()>0){a.addStyleClass("sapUshellShellHeadItmCounter");a.addCustomData(new t({key:"counter-content",value:this.floatingNumberFormatter(),writeToDom:true}))}else{a.removeStyleClass("sapUshellShellHeadItmCounter")}this._oImage=a;return this._oImage};return l},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/RightFloatingContainer",["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ushell/library"],function(e,t,i){"use strict";var n=e.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{library:"sap.ushell",properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"56px"},top:{type:"string",group:"Appearance",defaultValue:"0"},right:{type:"string",group:"Appearance",defaultValue:"0"},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{apiVersion:2,render:function(e,t){var n=i.getRTL();e.openStart("div",t);e.class("sapUshellRightFloatingContainer");e.style("top",t.getTop()+"rem");e.style(n?"left":"right",t.getRight());e.attr("data-role","alert");e.openEnd();e.openStart("ul");e.class("sapUshellNotificationListContainer");e.attr("role","list");e.openEnd();this.renderFloatingContainerItems(e,t);e.close("ul");e.close("div")},renderFloatingContainerItems:function(e,t){var i=t.getInsertItemsWithAnimation(),n=t.getActAsPreviewContainer(),a=t.getFloatingContainerItems(),s;for(s=0;s<a.length;s++){if(n&&!i){a[s].addStyleClass("sapUshellNonAnimatedNotificationListItem")}else if(a[s].hasStyleClass("sapUshellNonAnimatedNotificationListItem")){a[s].addStyleClass("sapUshellNotificationsListItem");a[s].addStyleClass("sapUshellRightFloatingContainerItemBackToViewport");a[s].addStyleClass("sapUshellRightFloatingContainerItemHidden");a[s].addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");a[s].removeStyleClass("sapUshellNonAnimatedNotificationListItem")}e.renderControl(a[s])}}}});n.prototype.init=function(){var e;t(window).bind("resize",function(){clearTimeout(e);e=setTimeout(this._handleResize.bind(this),100)}.bind(this));this.iRequiredItemsNumber=5};n.prototype.onBeforeRendering=function(){};n.prototype._setSize=function(){};n.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){var e=this.iRequiredItemsNumber,i=window.innerHeight,n=this.getDomRef(),a=n.getBoundingClientRect().top,s=t(".sapUiSizeCompact").length>0?56:64,o=this.$().find("li").eq(0),l,r;if(!o.length){return}l=o[0].clientHeight;var u=t("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((i-a-s-u)/l,10),5);if(e!==this.iRequiredItemsNumber){r=this.getFloatingContainerItems();for(var d=0;d<r.length;d++){if(d<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){r[d].removeStyleClass("sapUshellShellHidden")}else{r[d].addStyleClass("sapUshellShellHidden")}}}}};n.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(function(){this._handleResize()}.bind(this),500);this.addStyleClass("sapContrastPlus");this.addStyleClass("sapContrast");this.addStyleClass("sapUshellNotificationsListItem")};n.prototype.setVisible=function(e){this.setProperty("visible",e,true);if(e){t(this.getDomRef()).css("visibility","visible")}else{t(this.getDomRef()).css("visibility","hidden")}};n.prototype.setFloatingContainerItemsVisiblity=function(e){var t=this.getFloatingContainerItems(),i=e?300:0,n=this.getInsertItemsWithAnimation(),a=function(i){if(e){t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn")}else{t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut")}};for(var s=0;s<t.length;s++){(function(s){return function(){if(n){setTimeout(function(){a(s)},i+s*100)}else{t[s].setVisible(e)}}})(s)()}};n.prototype._animationBouncer=function e(t){var i=function(){if(!e._animationQueue.length){e._itemTimeoutId=undefined;return}var t=e._animationQueue.shift();t.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");e._itemTimeoutId=setTimeout(i,100)};if(!e._animationQueue){e._animationQueue=[]}e._animationQueue.push(t);if(e._mainTimeoutId||e._itemTimeoutId){return}e._mainTimeoutId=setTimeout(function(){e._mainTimeoutId=undefined;i()},500)};n.prototype.addFloatingContainerItem=function(e){this.addAggregation("floatingContainerItems",e);e.addStyleClass("sapContrastPlus");if(this.getInsertItemsWithAnimation()){e.addStyleClass("sapUshellNotificationsListItem");e.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){n.prototype._animationBouncer(e)}else{setTimeout(function(){var t=this.getFloatingContainerItems();if(t.length>5){var i=t[t.length-1];i.addStyleClass("sapUshellRightFloatingContainerHideLastItem")}e.addStyleClass("sapUshellRightFloatingContainerItemBackToViewport").addStyleClass("sapUshellRightFloatingContainerItmHeightVisible")}.bind(this),500)}}else if(this.getActAsPreviewContainer()){e.addStyleClass("sapUshellNonAnimatedNotificationListItem")}if(this.getHideItemsAfterPresentation()){setTimeout(function(){e.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport")},5e3)}};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellAppTitle",["sap/ushell/library","sap/m/Bar","sap/m/Button","sap/m/Label","sap/m/library","sap/m/Popover","sap/m/ResponsivePopover","sap/m/ToggleButton","sap/ui/core/IconPool","sap/ui/Device","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/resources","sap/ui/performance/Measurement","sap/ushell/services/AllMyApps"],function(e,t,o,l,s,p,i,n,a,r,h,u,c,v){"use strict";var A=e.AppTitleState;var y=e.AllMyAppsState;var d=s.PlacementType;var g=o.extend("sap.ushell.ui.shell.ShellAppTitle",{metadata:{library:"sap.ushell",associations:{navigationMenu:{type:"sap.ushell.ui.shell.ShellNavigationMenu"},allMyApps:{type:"sap.ui.core.mvc.View"}},events:{textChanged:{deprecated:true}}},renderer:{apiVersion:2,render:function(e,t){var o=t._getControlVisibilityAndState(),l=t.getText(),s=t.getModel();e.openStart("h1",t);e.class("sapUshellHeadTitle");if(o||r.system.phone){e.class("sapUshellAppTitleClickable")}e.attr("aria-level","1");e.openEnd();e.openStart("div",t.getId()+"-button");e.class("sapUshellAppTitle");if(o||r.system.phone){e.attr("tabindex","0")}if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(o){e.attr("role","button");e.attr("aria-haspopup","dialog");if(s&&g._getCurrentState()===A.AllMyAppsOnly){e.attr("aria-label",c.i18n.getText("ShowAllMyApps_AriaLabel",[l]))}else{e.attr("aria-label",c.i18n.getText("ShellNavigationMenu_AriaLabel",[l]))}}e.openEnd();if(r.media.getCurrentRange(r.media.RANGESETS.SAP_STANDARD).name!=="Phone"){e.openStart("span");e.class("sapUshellAppTitleText");e.openEnd();e.text(l||"");e.close("span")}if(o&&l){e.openStart("span");e.class("sapUshellShellHeadAction");e.openEnd();e.renderControl(t.oIcon);e.close("span")}e.close("div");e.close("h1")}}});g.prototype.init=function(){o.prototype.init.apply(this,arguments);this.oIcon=a.createControlByURI(a.getIconURI("slim-arrow-down"));this.oIcon.addStyleClass("sapUshellAppTitleMenuIcon");if(r.system.desktop){this.addEventDelegate({onkeydown:function(e){if(e.altKey&&e.keyCode===40){this.onclick(e)}}.bind(this)})}};g.prototype.getFocusDomRef=function(){return this.getDomRef("button")};g._getCurrentState=function(){return h.last("/core/shellHeader/ShellAppTitleState")};g.prototype.onclick=function(e){e.preventDefault();this.firePress();if(!this._getControlVisibilityAndState()){if(r.system.phone){window.hasher.setHash(h.last("/core/shellHeader/rootIntent"))}return}if(g._getCurrentState()===A.AllMyAppsOnly){v.start("FLP:ShellAppTitle.onClick","Click ShellAppTitle in HOME state, Launching AllMyApps","FLP");this._openCloseAllMyAppsPopover();return}this._openCloseNavMenuPopover()};g.prototype._openCloseAllMyAppsPopover=function(){if(!this.oAllMyAppsPopover){this.oAllMyAppsPopover=this._createAllMyAppsPopover()}if(this.oAllMyAppsPopover){if(this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close()}else{this.oAllMyAppsPopover.openBy(this)}}};g.prototype._openCloseNavMenuPopover=function(){if(!this.oNavMenuPopover){this.oNavMenuPopover=this._createNavMenuPopover()}this.getModel().setProperty("/ShellAppTitleState",A.ShellNavMenu);if(this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close()}else{this.oNavMenuPopover.openBy(this)}if(this.oNavMenuPopover.getFooter()){var e=h.last("/core/shell/model/currentState/stateName");this.oNavMenuPopover.getFooter().setVisible(e==="home"||e==="app")}};g.prototype._getControlVisibilityAndState=function(){v.start("FLP:ShellAppTitle.getControlVisibilityAndState","Check AllMyApps and NavShellMenu visibility","FLP");var e=this.getModel(),t=h.last("/core/shell/model/currentState/stateName"),o=this._isNavMenuEnabled(),l=o;if(!e){return false}if(t==="app"||t==="home"){var s=h.last("/core/services/allMyApps/enabled");l=s||o;if(s&&o){e.setProperty("/ShellAppTitleState",A.ShellNavMenu)}else if(!s&&o){e.setProperty("/ShellAppTitleState",A.ShellNavMenuOnly)}else if(s&&!o){e.setProperty("/ShellAppTitleState",A.AllMyAppsOnly)}}else{e.setProperty("/ShellAppTitleState",A.ShellNavMenuOnly)}v.end("FLP:ShellAppTitle.getControlVisibilityAndState");return l};g.prototype._createAllMyAppsPopover=function(){var e=sap.ui.getCore().byId(this.getAllMyApps());if(!e){return null}var t=new i("sapUshellAllMyAppsPopover",{placement:d.Bottom,title:"",showArrow:true,customHeader:this._getPopoverHeader(),verticalScrolling:false,showHeader:{path:"/ShellAppTitleState",formatter:function(e){return e!==A.ShellNavMenu}},content:[e],contentHeight:"28rem",contentWidth:"56rem"}).addStyleClass("sapContrastPlus");t.setModel(this.getModel());t.attachAfterOpen(function(){e.getController()._afterOpen();var o=t.getCustomHeader(),l=o.getContentLeft()[0],s=o.getContentLeft()[1];if(s.getVisible()){s.firePress();s.setPressed(true)}l.focus()});t.attachAfterClose(function(){this._bPressedSpace=false;if(!r.system.phone&&!(this.oNavMenuPopover&&this.oNavMenuPopover.isOpen())){this.focus()}}.bind(this));return t};g.prototype._createNavMenuPopover=function(){var e=sap.ui.getCore().byId(this.getNavigationMenu());var t=new p("sapUshellAppTitlePopover",{placement:d.Bottom,title:"",showArrow:true,showHeader:{path:"/ShellAppTitleState",formatter:function(e){return e!==A.ShellNavMenu}},contentWidth:"20rem",content:e}).addStyleClass("sapContrastPlus");if(h.last("/core/services/allMyApps/enabled")){t.setFooter(this._getPopoverFooterContent())}t.addStyleClass("sapUshellAppTitleNavigationMenuPopover");t.setModel(this.getModel());h.emit("/core/shell/model/allMyAppsMasterLevel",y.FirstLevel);t.attachBeforeOpen(function(){e._beforeOpen()});t.attachAfterOpen(function(){e.$().on("touchmove.scrollFix",function(e){e.stopPropagation()});e._afterOpen()});t.attachAfterClose(function(){this._bPressedSpace=false;if(!r.system.phone&&!(this.oAllMyAppsPopover&&this.oAllMyAppsPopover.isOpen())){this.focus()}}.bind(this));return t};g.prototype._getPopoverHeader=function(){var e=new l({text:c.i18n.getText("allMyApps_headerTitle")});this.addCustomData(e,"role","heading");this.addCustomData(e,"aria-level","2");var o=new t("sapUshellShellAppPopoverHeader",{contentLeft:[this._createPopoverBackButton(),this._createPopoverToggleButton()],contentMiddle:[e]});return o};g.prototype.onAfterRendering=function(){var e=sap.ui.getCore().byId("shell-header");if(e){e.refreshLayout()}};g.prototype._createPopoverBackButton=function(){var e=new o("sapUshellAppTitleBackButton",{icon:a.getIconURI("nav-back"),press:[this._popoverBackButtonPressHandler,this],tooltip:c.i18n.getText("backBtn_tooltip"),visible:this.getAllMyAppsController().getBackButtonVisible()});e.addStyleClass("sapUshellCatalogNewGroupBackButton");return e};g.prototype._popoverBackButtonPressHandler=function(){var e=this.getAllMyAppsController(),t=e.getCurrentState();if(t===y.FirstLevel||t===y.FirstLevelSpread){if(g._getCurrentState()!==A.AllMyAppsOnly){this.getModel().setProperty("/ShellAppTitleState",A.ShellNavMenu);this.oAllMyAppsPopover.close();this.oNavMenuPopover.openBy(this)}}else if(t===y.SecondLevel){e.switchToInitialState()}else{e.handleSwitchToMasterAreaOnPhone()}e.updateHeaderButtonsState()};g.prototype._createPopoverToggleButton=function(){var e=this.getAllMyAppsController();var t=new n("sapUshellAllMyAppsToggleListButton",{icon:a.getIconURI("sap-icon://menu2"),press:function(t){e.switchToInitialState();this.setTooltip(t.getParameter("pressed")?c.i18n.getText("ToggleButtonHide"):c.i18n.getText("ToggleButtonShow"))},tooltip:c.i18n.getText("ToggleButtonShow"),visible:e.getToggleListButtonVisible()});r.media.attachHandler(function(){t.setVisible(e.getToggleListButtonVisible())},this,r.media.RANGESETS.SAP_STANDARD);t.addStyleClass("sapUshellAllMyAppsToggleListButton");return t};g.prototype._getPopoverFooterContent=function(){var e=this,l;l=new o("allMyAppsButton",{text:c.i18n.getText("allMyApps_launchingButtonTitle"),press:function(){e._openCloseAllMyAppsPopover();if(e.oAllMyAppsPopover){v.start("FLP:ShellNavMenu.footerClick","Click the footer of ShellNavMenu, Launching AllMyApps","FLP");e.getModel().setProperty("/ShellAppTitleState",A.AllMyApps);e.oNavMenuPopover.close()}},visible:{path:"/ShellAppTitleState",formatter:function(e){return e===A.ShellNavMenu}}});var s=new t("shellpopoverFooter",{contentMiddle:[l]});this.addCustomData(l,"role","button");this.addCustomData(l,"aria-label",c.i18n.getText("allMyApps_launchingButtonTitle"));return s};g.prototype._isNavMenuEnabled=function(){var e=sap.ui.getCore().byId(this.getNavigationMenu());return e?e.getItems()&&e.getItems().length>0:false};g.prototype.addCustomData=function(e,t,o){e.addCustomData(new u({key:t,value:o,writeToDom:true}))};g.prototype.close=function(){if(this.oNavMenuPopover&&this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close()}if(this.oAllMyAppsPopover&&this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close()}};g.prototype.setTooltip=function(e){this.setAggregation("tooltip",e);this.oIcon.setTooltip(e)};g.prototype.getAllMyAppsController=function(){var e=sap.ui.getCore().byId(this.getAllMyApps());return e.getController()};g.prototype.onkeyup=function(e){if(e.keyCode===32){this.onclick(e)}};g.prototype.onsapenter=g.prototype.onclick;g.prototype.exit=function(){var e=sap.ui.getCore().byId(this.getNavigationMenu()),t=sap.ui.getCore().byId(this.getAllMyApps());if(e){e.destroy()}if(t){t.destroy()}if(this.oAllMyAppsPopover){this.oAllMyAppsPopover.destroy()}if(this.oNavMenuPopover){this.oNavMenuPopover.destroy()}if(this.oIcon){this.oIcon.destroy()}};return g},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellHeadItem",["sap/base/util/ObjectPath","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ushell/library","sap/ushell/resources"],function(e,t,a,i,r,o){"use strict";var n=r.FloatingNumberType;var l=t.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{library:"sap.ushell",properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaHidden:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHaspopup:{type:"string",group:"Accessibility",defaultValue:""},text:{type:"string",group:"Appearance",defaultValue:null},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999},floatingNumberType:{type:"string",group:"Appearance",defaultValue:n.None}},events:{press:{}}},renderer:{apiVersion:2,render:function(e,t){var i=t.getTarget();e.openStart("a",t);e.attr("tabindex","0");if(i){e.attr("href",i)}e.attr("role",i?"link":"button");var r=t.getAriaLabel();if(r){e.attr("aria-label",r)}var o=t.getAriaHidden();if(o){e.attr("aria-hidden",o)}var n=t.getAriaHaspopup();if(n){e.attr("aria-haspopup",n)}e.attr("aria-describedby",t._oAriaDescribedbyText.getId());if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getFloatingNumber()>0){e.attr("data-counter-content",t.floatingNumberFormatter());e.class("sapUshellShellHeadItmCounter")}e.class("sapUshellShellHeadItm");if(!t.getEnabled()){e.class("sapUshellShellHeadItmDisabled")}if(t.getSelected()){e.class("sapUshellShellHeadItmSel")}var l=t.getText();var s=t.getTooltip_AsString();if(l&&s&&l!==s){e.attr("title",l+" "+s)}else if(l||s){e.attr("title",l||s)}e.openEnd();e.openStart("span");e.class("sapUshellShellHeadItmCntnt");var u=t.getIcon();var p=a.isIconURI(u)&&a.getIconInfo(u);if(p){e.style("font-family",p.fontFamily);e.openEnd();e.text(p.content)}else{e.openEnd();e.voidStart("img");e.attr("id",t.getId()+"-img-inner");e.attr("src",u);e.voidEnd()}e.close("span");e.close("a")}}});l.prototype.init=function(){this._oAriaDescribedbyText=new i(this.getId()+"-describedby").toStatic();this.addDependent(this._oAriaDescribedbyText)};l.prototype.onBeforeRendering=function(){switch(this.getFloatingNumberType()){case n.None:this._oAriaDescribedbyText.setText("");break;default:var e=this.getFloatingNumber();if(!e){this._oAriaDescribedbyText.setText("")}else{var t=this.getFloatingNumberMaxValue();this._oAriaDescribedbyText.setText(e>t?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",t):o.i18n.getText("NotificationToggleButton.NewNotifications",e))}break}};l.prototype.tooltipFormatter=function(e){var t=typeof e!=="undefined"?e:this.getFloatingNumber();var a=this.getFloatingNumberMaxValue();switch(this.getFloatingNumberType()){default:case n.None:return"";case n.Notifications:if(!t){return o.i18n.getText("NotificationToggleButton.NoNewNotifications")}return t>a?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",a):o.i18n.getText("NotificationToggleButton.NewNotifications",t);case n.OverflowButton:var i=o.i18n.getText("shellHeaderOverflowBtn_tooltip");if(!t){return i}i+=" ("+(t>a?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",a):o.i18n.getText("NotificationToggleButton.NewNotifications",t))+")";return i}};l.prototype.floatingNumberFormatter=function(e){var t=typeof e!=="undefined"?e:this.getFloatingNumber();var a=this.getFloatingNumberMaxValue();return t>a?a+"+":t.toString()};l.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault()}}};l.prototype.onkeyup=function(e){var t=e.originalEvent;var a=t.key;var i=t.shiftKey;if(["Enter"," "].includes(a)&&!i){this.onclick(e)}};e.set("sap.ui.unified.ShellHeadItem",l);return l},true);
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/ui/shell/ShellLayout",["sap/base/Log","sap/ui/core/Control","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/util/Storage","sap/ushell/Config","sap/ui/core/Configuration","sap/ushell/ui/shell/ShellLayoutRenderer","sap/ushell/library","sap/ushell/ui/shell/ToolArea"],function(e,t,a,i,o,l,n,r){"use strict";var s=t.extend("sap.ushell.ui.shell.ShellLayout",{metadata:{library:"sap.ushell",properties:{headerHiding:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},headerVisible:{type:"boolean",group:"Appearance",defaultValue:true},toolAreaVisible:{type:"boolean",group:"Appearance",defaultValue:false},floatingContainerVisible:{type:"boolean",group:"Appearance",defaultValue:false},backgroundColorForce:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},showBrandLine:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},showAnimation:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},enableCanvasShapes:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{toolArea:{type:"sap.ushell.ui.shell.ToolArea",multiple:false},rightFloatingContainer:{type:"sap.ushell.ui.shell.RightFloatingContainer",multiple:false},canvasSplitContainer:{type:"sap.ushell.ui.shell.SplitContainer",multiple:false},floatingActionsContainer:{type:"sap.ushell.ui.shell.ShellFloatingActions",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},associations:{header:{type:"sap.ushell.ui.shell.ShellHeader",multiple:false},floatingContainer:{type:"sap.ushell.ui.shell.FloatingContainer",multiple:false}}},renderer:r});s._SIDEPANE_WIDTH_PHONE=13;s._SIDEPANE_WIDTH_TABLET=13;s._SIDEPANE_WIDTH_DESKTOP=15;s.prototype.getHeader=function(){return sap.ui.getCore().byId(this.getAssociation("header"))};s.prototype.init=function(){this._rtl=n.getRTL();this._showHeader=true;this._useStrongBG=false;a.media.attachHandler(this._handleMediaChange,this,a.media.RANGESETS.SAP_STANDARD);this._oDoable=l.on("/core/shellHeader/headerVisible").do(this.setHeaderVisible.bind(this));this._oStorage=new o(o.Type.local,"com.sap.ushell.adapters.local.FloatingContainer")};s.prototype.destroy=function(){a.media.detachHandler(this._handleMediaChange,this,a.media.RANGESETS.SAP_STANDARD);if(this._oDoable){this._oDoable.off();this._oDoable=null}if(this._oRm){this._oRm.destroy();this._oRm=null}t.prototype.destroy.apply(this,arguments)};s.prototype.onAfterRendering=function(){this._setSidePaneWidth();if(this.getEnableCanvasShapes()){sap.ui.require(["sap/ushell/CanvasShapesManager"],function(e){if(sap.ui.getCore().isThemeApplied()){e.drawShapes()}})}};s.prototype.renderFloatingContainerWrapper=function(){this._oFloatingContainerWrapper=document.getElementById("sapUshellFloatingContainerWrapper");if(!this._oFloatingContainerWrapper){this._oFloatingContainerWrapper=document.createElement("DIV");this._oFloatingContainerWrapper.setAttribute("id","sapUshellFloatingContainerWrapper");this._oFloatingContainerWrapper.classList.add("sapUshellShellFloatingContainerWrapper");this._oFloatingContainerWrapper.classList.add("sapUshellShellHidden");window.document.body.appendChild(this._oFloatingContainerWrapper)}if(this._oStorage&&this._oStorage.get("floatingContainerStyle")){this._oFloatingContainerWrapper.style.cssText=this._oStorage.get("floatingContainerStyle")}};s.prototype.renderFloatingContainer=function(e){this.renderFloatingContainerWrapper();if(e&&!e.getDomRef()){if(!this._oFloatingContainerWrapper.classList.contains("sapUshellShellHidden")){this._oFloatingContainerWrapper.classList.add("sapUshellShellHidden")}e.placeAt("sapUshellFloatingContainerWrapper")}};s.prototype.onThemeChanged=function(){return!!this.getDomRef()};s.prototype.setToolAreaVisible=function(t){this.setProperty("toolAreaVisible",!!t,true);if(this.getToolArea()){this.getToolArea().toggleStyleClass("sapUshellShellHidden",!t);this.applySplitContainerSecondaryContentSize();return this}if(t){sap.ui.require(["sap/ushell/EventHub"],function(e){e.emit("CreateToolArea")});return this}e.debug("Tool area not created but visibility updated",null,"sap.ushell.ShellLayout");return this};s.prototype.getToolAreaSize=function(){if(this.getToolAreaVisible()){if(this.getToolArea().hasItemsWithText()){return"15rem"}return"3.0625rem"}return"0"};s.prototype.setFooter=function(e){this.setAggregation("footer",e,true);this._renderFooter(e)};s.prototype.applySplitContainerSecondaryContentSize=function(){var e=this.getToolAreaSize();this.getCanvasSplitContainer().applySecondaryContentSize(e)};s.prototype.setFloatingContainer=function(e){this.setAssociation("floatingContainer",e,true);this.renderFloatingContainer(e)};s.prototype.setFloatingContainerVisible=function(e){this.setProperty("floatingContainerVisible",!!e,true);if(this.getDomRef()){var t=window.document.getElementById("sapUshellFloatingContainerWrapper");if(e&&this._oStorage&&!this._oStorage.get("floatingContainerStyle")){var a=i(".sapUshellShellHeadItm").position()?i(".sapUshellShellHeadItm").position().left:0;var o=(i(window).width()-i("#shell-floatingContainer").width()-a)*100/i(window).width();var l=i(".sapUshellShellHeader").height()*100/i(window).height();t.style.left=o+"%";t.style.top=l+"%";t.style.position="absolute";this._oStorage.put("floatingContainerStyle",t.style.cssText)}var n=window.document.querySelector(".sapUshellShellFloatingContainerWrapper");if(n&&e===n.classList.contains("sapUshellShellHidden")){n.classList.toggle("sapUshellShellHidden")}}return this};s.prototype.setFloatingActionsContainer=function(e){this.setAggregation("floatingActionsContainer",e,true)};s.prototype.setHeaderVisible=function(e){this.setProperty("headerVisible",e,true);var t=this.getDomRef();if(t){if(e===true){t.classList.remove("sapUshellShellNoHead")}else{t.classList.add("sapUshellShellNoHead")}}};s.prototype._setSidePaneWidth=function(e){var t=this.getCanvasSplitContainer();if(t){if(!e){e=a.media.getCurrentRange(a.media.RANGESETS.SAP_STANDARD).name}var i=s["_SIDEPANE_WIDTH_"+e.toUpperCase()]+"rem";t.setSecondaryContentSize(i)}};s.prototype._hideFooter=function(e,t){e.classList.remove("sapUshellShellFooterVisible");t.classList.add("sapUiHidden")};s.prototype._showFooter=function(e,t,a){if(a._applyContextClassFor){a._applyContextClassFor("footer")}this._oRm=this._oRm||sap.ui.getCore().createRenderManager();e.classList.add("sapUshellShellFooterVisible");t.classList.remove("sapUiHidden");this._oRm.render(a,t)};s.prototype._renderFooter=function(e){var t=this.getDomRef();if(!t){return}var a=t.querySelector("#"+this.getId()+"-footer");a.innerHTML="";if(!e){this._hideFooter(t,a);return}this._showFooter(t,a,e)};s.prototype._handleMediaChange=function(e){if(!this.getDomRef()){return}this._setSidePaneWidth(e.name)};return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellLayoutRenderer",["sap/ushell/resources"],function(e){"use strict";var a={apiVersion:2};a.render=function(a,t){var n=t.getId();a.openStart("div",t);a.class("sapUshellShell");if(!t.getHeaderVisible()){a.class("sapUshellShellNoHead")}a.class("sapUshellShellHead"+(t._showHeader?"Visible":"Hidden"));a.openEnd();a.openStart("div");a.style("z-index","-2");a.class("sapUiShellBackgroundImage");a.class("sapUiGlobalBackgroundImageForce");a.class("sapUshellShellBG");a.class("sapContrastPlus");a.openEnd();a.close("div");if(t.getEnableCanvasShapes()){a.openStart("canvas",n+"-shapes");a.attr("height",window.innerHeight>0?window.innerHeight:screen.height);a.attr("width",window.innerWidth>0?window.innerWidth:screen.width);a.attr("role","presentation");a.style("position","absolute");a.style("z-index","-1");a.openEnd();a.close("canvas")}if(t.getToolArea()){a.openStart("aside");a.attr("aria-label",e.i18n.getText("ToolArea_AriaLabel"));a.openEnd();a.renderControl(t.getToolArea());a.close("aside")}if(t.getRightFloatingContainer()){a.openStart("aside");a.attr("aria-label",e.i18n.getText("FloatingContainer_AriaLabel"));a.openEnd();a.renderControl(t.getRightFloatingContainer());a.close("aside")}a.openStart("main",n+"-cntnt");a.attr("role","main");a.attr("aria-label",e.i18n.getText("ShellLayout.AriaLabel"));a.class("sapUshellShellCntnt");a.class("sapUshellShellCanvas");a.openEnd();a.renderControl(t.getCanvasSplitContainer());a.close("main");a.renderControl(t.getFloatingActionsContainer());var l=t.getFooter();a.openStart("footer",n+"-footer");a.class("sapMPageFooter");if(!l){a.class("sapUiHidden")}a.openEnd();if(l){if(l._applyContextClassFor){l._applyContextClassFor("footer")}a.renderControl(l)}a.close("footer");a.close("div")};return a},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SplitContainer",["sap/base/Log","sap/ui/core/Control","sap/ui/core/library","sap/ushell/library","sap/ushell/ui/shell/ContentRenderer","sap/ui/core/Configuration","sap/ushell/ui/shell/SplitContainerRenderer"],function(e,t,n,r,o,i,a){"use strict";var s=n.Orientation;var d=t.extend("sap.ushell.ui.shell.SplitContainer",{metadata:{library:"sap.ushell",properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:false},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px"},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px",deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:s.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"},subHeader:{type:"sap.ui.core.Control",multiple:true,singularName:"subHeader"}}},renderer:a});(function(){d.prototype.init=function(){this._paneRenderer=new o(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new o(this,this.getId()+"-canvasrootContent","content");this.aSubHeaders=[];this.sTopOfShellContent=undefined};d.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;this.destroySubHeader();delete this.aSubHeaders;delete this.sTopOfShellContent};d.prototype.onAfterRendering=function(){var e=this.getParent()?this.getParent().getToolAreaSize():"0";this.applySecondaryContentSize(e)};d.prototype.applySecondaryContentSize=function(e){if(this.getDomRef()){var t=this.getSecondaryContentSize(),n=this.getShowSecondaryContent(),r=i.getRTL()?"right":"left",o=this.getDomRef("pane"),a,d;if(this.getOrientation()===s.Vertical){a="top";d=r;o.style.height=t;o.style.width=""}else{a=r;d="top";o.style.height="";o.style.width=t}o.style[a]=n?e:"-"+t;o.style[d]="";this.$("pane").toggleClass("sapUshellSplitContSecondClosed",!n);t=parseFloat(t)+parseFloat(e)+"rem";this.getDomRef("canvas").style[a]=n?t:e}};d.prototype._modifyAggregationOrProperty=function(e,t){var n=!!this.getDomRef();var r=e.apply(this,[n]);if(n&&t){t.render()}return r};d.prototype.getSecondaryContentWidth=function(){e.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.getSecondaryContentSize.apply(this,arguments)};d.prototype.setSecondaryContentWidth=function(){e.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.setSecondaryContentSize.apply(this,arguments)};d.prototype.insertContent=function(e,t){return this._modifyAggregationOrProperty(function(n){return this.insertAggregation("content",e,t,n)},this._canvasRenderer)};d.prototype.addContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.addAggregation("content",e,t)},this._canvasRenderer)};d.prototype.removeContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.removeAggregation("content",e,t)},this._canvasRenderer)};d.prototype.removeAllContent=function(){return this._modifyAggregationOrProperty(function(e){return this.removeAllAggregation("content",e)},this._canvasRenderer)};d.prototype.destroyContent=function(){return this._modifyAggregationOrProperty(function(e){return this.destroyAggregation("content",e)},this._canvasRenderer)};d.prototype.insertSecondaryContent=function(e,t){return this._modifyAggregationOrProperty(function(n){return this.insertAggregation("secondaryContent",e,t,n)},this._paneRenderer)};d.prototype.addSecondaryContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.addAggregation("secondaryContent",e,t)},this._paneRenderer)};d.prototype.removeSecondaryContent=function(e){return this._modifyAggregationOrProperty(function(t){return this.removeAggregation("secondaryContent",e,t)},this._paneRenderer)};d.prototype.removeAllSecondaryContent=function(){return this._modifyAggregationOrProperty(function(e){return this.removeAllAggregation("secondaryContent",e)},this._paneRenderer)};d.prototype.destroySecondaryContent=function(){return this._modifyAggregationOrProperty(function(e){return this.destroyAggregation("secondaryContent",e)},this._paneRenderer)};d.prototype.addSubHeader=function(e){var t=this.getParent()&&this.getParent().getId();if(!t||!window.document.getElementById(t+"-subhdr")){var n=document.getElementById("shell-header")?document.getElementById("shell-header").offsetHeight:0;window.document.getElementById("canvas").insertAdjacentHTML("beforebegin",'<div id="'+t+'-subhdr" class="sapUshellSpltContainerSubHeader"></div>');document.getElementById(t+"-subhdr").style.top=n+"px";if(this.getParent()){this.getParent().addEventDelegate({onAfterRendering:function(){if(this.sTopOfShellContent){var e=document.getElementById(this.getParent().getId()+"-cntnt");e.style.top=this.sTopOfShellContent}}.bind(this)})}}this.aSubHeaders.push(e);this.sOriginalTopOfShellContent=t&&document.getElementById(t+"-cntnt")?document.getElementById(t+"-cntnt").offsetTop:0;e.addEventDelegate({onAfterRendering:function(e){if(document.getElementById(this.getParent().getId()+"-cntnt")){var t=document.getElementById(this.getParent().getId()+"-cntnt");this.sTopOfShellContent=t.style.top=this.sOriginalTopOfShellContent+this.aSubHeaders[0].getDomRef().offsetHeight+"px"}}.bind(this)});window.document.getElementById(t+"-subhdr").style.display="block";e.placeAt(t+"-subhdr","only")};d.prototype.removeSubHeader=function(){var e=this.aSubHeaders;this.aSubHeaders=[];var t=document.getElementById(this.getParent().getId()+"-cntnt");t.style.top=this.sOriginalTopOfShellContent+"px";var n=this.getParent()&&this.getParent().getId();window.document.getElementById(n+"-subhdr").style.display="none";return e};d.prototype.getSubHeader=function(){return this.aSubHeaders};d.prototype.destroySubHeader=function(){for(var e=0;this.aSubHeaders.length>e;e++){this.aSubHeaders[e].destroy();delete this.aSubHeaders[e]}this.aSubHeaders=[]};d.prototype.setSecondaryContentSize=function(e){this.setProperty("secondaryContentSize",e,true);this.onAfterRendering()};d.prototype.setShowSecondaryContent=function(e){this.setProperty("showSecondaryContent",!!e,!!this.getDomRef());this.onAfterRendering();return this}})();return d});
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SplitContainerRenderer",["sap/ui/core/library","sap/ushell/resources"],function(t,n){"use strict";var e=t.Orientation;var o={apiVersion:2};o.render=function(t,o){var a=o.getId();var s=o.getShowSecondaryContent();t.openStart("div",o);t.class("sapUshellSpltCont");if(o.getOrientation()===e.Vertical){t.class("sapUshellSpltContV")}else{t.class("sapUshellSpltContH")}if(!s){t.class("sapUshellSpltContPaneHidden")}t.openEnd();var r=a+"-pane";var l=s?o.getSecondaryContentSize():"0";t.openStart("aside",r);t.class("sapUshellSpltContPane");if(!s){t.class("sapUshellSplitContSecondClosed")}t.attr("aria-label",n.i18n.getText("SecondaryContent_AriaLabel"));t.style("width",l);t.openEnd();this.renderSecondaryContent(t,r,o.getSecondaryContent());t.close("aside");var i=a+"-canvas";t.openStart("section",i);t.class("sapUshellSpltContCanvas");t.openEnd();this.renderRootContent(t,i,o.getContent());t.close("section");t.close("div")};o.renderRootContent=function(t,n,e){t.openStart("div",n+"cntnt");t.class("sapUshellSpltContCntnt");t.attr("data-sap-ui-root-content","true");t.openEnd();if(e&&e.length){t.openStart("div",n+"rootContent");t.class("sapUshellSpltContainerContentWrapper");t.openEnd();e.forEach(function(n){t.renderControl(n)});t.close("div")}t.close("div")};o.renderSecondaryContent=function(t,n,e){t.openStart("div",n+"cntnt");t.class("sapUshellSpltContCntnt");t.attr("data-sap-ui-root-content","true");t.openEnd();e.forEach(function(n){t.renderControl(n)});t.close("div")};return o},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolArea",["sap/ui/core/Control","sap/ushell/library"],function(e){"use strict";var t=e.extend("sap.ushell.ui.shell.ToolArea",{metadata:{library:"sap.ushell",aggregations:{toolAreaItems:{type:"sap.ushell.ui.shell.ToolAreaItem",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class("sapUshellToolArea");if(!t.hasItemsWithText()){e.class("sapUshellToolAreaTextHidden")}e.openEnd();e.openStart("div");e.attr("id",t.getId()+"-cntnt");e.class("sapUshellToolAreaContainer");e.openEnd();var l=t.getToolAreaItems(),s,o;for(s=0;s<l.length;s++){o=l[s];if(o.getVisible()){e.openStart("div");e.class("sapUshellToolAreaContent");if(o.getSelected()){e.class("sapUshellToolAreaItemSelected")}e.openEnd();e.renderControl(o);e.close("div");e.openStart("div");e.class("sapUshellToolAreaContentSeparator");e.openEnd();e.close("div")}}e.close("div");e.close("div")}}});t.prototype.hasItemsWithText=function(){var e=this.getToolAreaItems(),t,l;for(t=0;t<e.length;t++){l=e[t];if(l.getVisible()&&l.getText()){return true}}return false};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolAreaItem",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],function(e,t,l){"use strict";var a=t.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{library:"sap.ushell",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{apiVersion:2,render:function(e,t){var a;e.openStart("div",t);if(!t.getIcon()){e.class("sapUshellToolAreaItmTextOnly")}else{e.class("sapUshellToolAreaItm")}if(!t.getVisible()){e.class("sapUshellShellHidden")}if(t.getAriaLabel()){e.accessibilityState(t,{label:this.getAriaLabel(),role:"button"})}var s=t.getTooltip_AsString();if(s){e.attr("title",s)}e.openEnd();if(t.getIcon()){a=l.createControlByURI(t.getIcon());a.setUseIconTooltip(false);a.addStyleClass("sapUshellToolAreaItemIcon");e.renderControl(a)}if(t.getText()){e.openStart("span");e.class("sapUshellToolAreaItemText");e.openEnd();e.text(t.getText());e.close("span")}if(t.getExpandable()){this.renderExpandable(e)}e.close("div")},renderExpandable:function(e){var t=l.createControlByURI("sap-icon://icon-dropdown");t.addStyleClass("sapUshellToolAreaItemExpandable");e.renderControl(t)}}});a.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false)}else{this.setSelected(true)}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand()}else{this.firePress()}};a.prototype.onsapenter=a.prototype.onclick;a.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e)};a.prototype.setSelected=function(t){t=!!t;if(t){var l=e(".sapUshellToolAreaItemSelected");l.each(function(){e(this).removeClass("sapUshellToolAreaItemSelected")})}this.setProperty("selected",t,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",t)};a.prototype.setVisible=function(e){var t=this.getParent()&&this.getParent().getDomRef();this.setProperty("visible",!!e,t);this.$().toggleClass("sapUshellShellHidden",!e)};a.prototype.setAriaLabel=function(e){this.setProperty("ariaLabel",e);return this};return a},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/CardNavigation",["sap/ui/core/service/Service","sap/ushell/Config","sap/ushell/library","sap/base/Log","sap/ushell/utils/WindowUtils"],function(e,t,i,n,r){"use strict";var s=i.AppType;var a=e.extend("sap.ushell.ui5service.CardNavigation",{constructor:function(){this.oCrossAppNavPromise=sap.ushell.Container.getServiceAsync("CrossApplicationNavigation")}});a.prototype.navigate=function(e){var i=e.parameters;if(i.openUI){if(i.openUI==="RecentActivities"||i.openUI==="FrequentActivities"){sap.ui.require(["sap/ushell/ui/QuickAccess"],function(e){var t=i.openUI==="RecentActivities"?"recentActivityFilter":"frequentlyUsedFilter";e.openQuickAccessDialog(t)})}else{n.error("Request to open unknown User Interface: '"+i.openUI+"'")}return Promise.resolve()}else if(i.url&&i.url!==""){var a=t.last("/core/shell/enableRecentActivity")&&t.last("/core/shell/enableRecentActivityLogging");if(a){var o={title:i.title,url:i.url,appType:s.URL,appId:i.url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(o)}r.openURL(i.url,"_blank");return Promise.resolve()}return this.oCrossAppNavPromise.then(function(e){return e.toExternal({target:{semanticObject:i.intentSemanticObject,action:i.intentAction},params:i.intentParameters,appSpecificRoute:i.intentAppRoute})})};a.prototype.enabled=function(e){var t=e.parameters;if(t.openUI){if(["RecentActivities","FrequentActivities"].indexOf(t.openUI)>-1){return Promise.resolve(true)}return Promise.resolve(false)}var i={target:{semanticObject:t.intentSemanticObject,action:t.intentAction},params:t.intentParameters};return this.oCrossAppNavPromise.then(function(e){return new Promise(function(t){e.isNavigationSupported([i]).done(function(e){t(e[0].supported)}).fail(function(){t(false)})})})};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/CardUserFrequents",["sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase","sap/ushell/EventHub","sap/ushell/Config"],function(e,t,n){"use strict";var i=e.extend("sap.ushell.ui5service.CardUserFrequents");i.prototype.getData=function(){if(!n.last("/core/shell/model/enableTrackingActivity")){return Promise.resolve([])}return this.oUserRecentsPromise.then(function(e){return new Promise(function(t,n){e.getFrequentActivity().done(function(e){t(this._getActivitiesAsCardItems(e))}.bind(this)).fail(function(e){n(e)})}.bind(this))}.bind(this))};i.prototype.attachDataChanged=function(e){t.on("newUserRecentsItem").do(function(t){var n=this._sortAsFrequentActivities(t.recentUsageArray);var i=[];for(var s=0;s<n.length;s++){i.push(n[s].oItem)}var r=this._getActivitiesAsCardItems(i);e({data:r})}.bind(this));t.on("userRecentsCleared").do(function(){e({data:[]})})};i.prototype._sortAsFrequentActivities=function(e){var t,n=0,i=[],s,r=e[0]?new Date(e[0].iTimestamp):undefined,a;for(t=0;t<e.length&&n<30;t++){s=e[t];if(s.iCount>1){i.push(s)}a=new Date(s.iTimestamp);if(r.toDateString()!==a.toDateString()){n++;r=a}}i.sort(function(e,t){return t.iCount-e.iCount});return i.slice(0,30)};i.prototype.detachDataChanged=function(){t.on("newUserRecentsItem").off();t.on("userRecentsCleared").off()};i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/CardUserRecents",["sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase","sap/ushell/EventHub","sap/ushell/Config"],function(e,t,n){"use strict";var s=e.extend("sap.ushell.ui5service.CardUserRecents");s.prototype.getData=function(){if(!n.last("/core/shell/model/enableTrackingActivity")){return Promise.resolve([])}return this.oUserRecentsPromise.then(function(e){return new Promise(function(t,n){e.getRecentActivity().done(function(e){t(this._getActivitiesAsCardItems(e))}.bind(this)).fail(function(e){n(e)})}.bind(this))}.bind(this))};s.prototype.attachDataChanged=function(e){t.on("newUserRecentsItem").do(function(t){var n=t.recentUsageArray;var s=[];for(var r=0;r<n.length;r++){s.push(n[r].oItem)}var i=this._getActivitiesAsCardItems(s);e({data:i})}.bind(this));t.on("userRecentsCleared").do(function(){e({data:[]})})};s.prototype.detachDataChanged=function(){t.on("newUserRecentsItem").off();t.on("userRecentsCleared").off()};s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/_CardUserRecents/CardUserRecentsBase",["sap/ui/core/service/Service","sap/ushell/resources","sap/ushell/library","sap/ushell/utils/AppType","sap/ushell/utils/UrlParsing"],function(e,r,s,t,i){"use strict";var n=s.AppType;function c(e,r){if(r===n.SEARCH){return'"'+e+'"'}return e}function a(e){if(e===n.SEARCH){return r.i18n.getText("recentActivitiesSearchDescription")}return t.getDisplayName(e)}var p=e.extend("sap.ushell.ui5service._CardUserRecents.CardUserRecentsBase",{constructor:function(){e.apply(this);this.oUserRecentsPromise=sap.ushell.Container.getServiceAsync("UserRecents")}});p.prototype._getActivitiesAsCardItems=function(e){var r=[],s={},t;for(var n=0;n<e.length;n++){if(e[n].url&&e[n].url!==""){s=i.parseShellHash(e[n].url);t={Name:c(e[n].title,e[n].appType),Description:a(e[n].appType),Icon:e[n].icon||"sap-icon://product"};if(s){t.Intent={SemanticObject:s.semanticObject,Action:s.action,Parameters:s.params,AppSpecificRoute:s.appSpecificRoute}}else{t.Url=e[n].url}r.push(t)}}return r};return p},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/AppType",["sap/ushell/library","sap/ushell/resources"],function(e,t){"use strict";var p=e.AppType;var r={};r.getDisplayName=function(e){switch(e){case p.OVP:return t.i18n.getText("Apptype.OVP");case p.SEARCH:return t.i18n.getText("Apptype.SEARCH");case p.FACTSHEET:return t.i18n.getText("Apptype.FACTSHEET");case p.COPILOT:return t.i18n.getText("Apptype.COPILOT");case p.URL:return t.i18n.getText("Apptype.URL");default:return t.i18n.getText("Apptype.APP")}};return r});
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/DynamicTileRequest",["sap/ushell/utils/HttpClient","sap/ui/thirdparty/URI","sap/base/util/isEmptyObject","sap/base/util/UriParameters","sap/base/Log","sap/ui/core/Configuration"],function(e,t,r,n,s,i){"use strict";function o(r,n,o,a){this.fnSuccess=n;this.fnError=o;this.sUrl=r;this.oPromise=this._resolveDefaults(r,a).then(function(r){if(r){var n=i.getSAPLogonLanguage();var s=new t(r).escapeQuerySpace(false);if(n&&!s.hasQuery("sap-language")){s.addQuery("sap-language",n)}if(s.is("relative")){s=s.absoluteTo(location.href)}this.sBasePath=s.origin()+s.directory()+"/";this.sRequestPath=s.relativeTo(this.sBasePath).href();var o=this._getHeaders(r);this.oConfig={headers:o};this.oClient=new e(this.sBasePath,this.oConfig);this.refresh()}}.bind(this)).catch(function(e){s.error("Was not able to create a DynamicTileRequest:",e)})}o.prototype._getRequestUrl=function(){return this.sBasePath+this.sRequestPath};o.prototype.refresh=function(){if(!this.oRequest&&this.oClient){this.oRequest=this.oClient.get(this.sRequestPath).then(this._onSuccess.bind(this)).catch(this._onError.bind(this))}};o.prototype.abort=function(){if(this.oRequest&&this.oClient){this.oClient.abortAll();this.oRequest=null;return true}return false};o.prototype._onSuccess=function(e){var t;try{t=JSON.parse(e.responseText)}catch(e){throw new Error("Was not able to parse response of dynamic tile request")}this.oRequest=null;var r;if(typeof t==="object"){t=t.d?t.d:t;var s=n.fromURL(this.sRequestPath);if(s.get("$inlinecount")==="allpages"){r={number:t.__count}}else if(s.get("$count")==="true"){r={number:t["@odata.count"]}}else{r=this._extractData(t)}}else if(typeof t==="string"||typeof t==="number"){r={number:t}}this.fnSuccess(r)};o.prototype._onError=function(e){this.oRequest=null;this.fnError(e)};o.prototype._extractData=function(e){var t=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];var n=Object.keys(e).reduce(function(r,n){if(t.indexOf(n)>-1){r[n]=e[n]}return r},{});if(!r(n)){return n}var s=Object.keys(e)[0];if(s!==undefined&&Object.keys(e).length===1){return Object.keys(e[s]).reduce(function(r,n){if(t.indexOf(n)>-1){r[n]=e[s][n]}return r},{})}return{}};o.prototype._getHeaders=function(e){var r={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":i.getLanguage()||"",Accept:"application/json, text/plain"};var n=i.getSAPLogonLanguage();if(n){r["sap-language"]=n}var s=sap.ushell.Container.getLogonSystem();var o=s&&s.getClient();var a=new t(e);if(o&&!a.protocol()){r["sap-client"]=o}return r};o.prototype._resolveDefaults=function(e,t){return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return Promise.all([e.getSystemContext(t),sap.ushell.Container.getServiceAsync("ReferenceResolver")])}).then(function(t){var r=t[0];var n=t[1];return new Promise(function(t,s){n.resolveUserDefaultParameters(e,r).done(t).fail(s)})}).then(function(e){if(e.defaultsWithoutValue&&e.defaultsWithoutValue.length>0){s.error("The service URL contains User Default(s) with no set value: "+e.defaultsWithoutValue.join(", "));return}if(e.ignoredReferences&&e.ignoredReferences.length>0){s.error("The service URL contains invalid Reference(s): "+e.ignoredReferences.join(", "));return}return e.url})};o.prototype.destroy=function(){this.abort();this.fnError=null;this.fnSuccess=null};return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient",["sap/ui/thirdparty/URI","sap/ushell/utils"],function(e,t){"use strict";var s=function(t,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof t==="string"){this._oBasePath=new e(t)}else{this._oDefaultOptions={headers:t&&t.headers||{}}}};s.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};s.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};s.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};s.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};s.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};s.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};s.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(function(e){this._oOngoingRequests[e].abort()}.bind(this))};s.prototype._executeRequest=function(s,r,o){var n=new Error("The provided resource path is not a valid URL.");try{var i;var a=new e(r);if(!a.is("url")){return Promise.reject(n)}if(this._oBasePath){i=a.absoluteTo(this._oBasePath)}else{i=a}var u=new XMLHttpRequest;u._sapUshellHttpClientId=t.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[u._sapUshellHttpClientId]=u;var h=Object.assign({},this._oDefaultOptions.headers,o&&o.headers);return this._getCSRFTokenHeader(s,i).then(function(e){Object.assign(h,e);return new Promise(function(e,t){var r=i.href();u.onload=this._onLoad.bind(this,e,t,{xhr:u,method:s,url:r,data:o});u.onerror=function(){t.call(this,this._getFormattedResponse(u))}.bind(this);u.onabort=function(){u.bAborted=true;t.call(this,this._getFormattedResponse(u))}.bind(this);u.onloadend=function(){delete this._oOngoingRequests[u._sapUshellHttpClientId]}.bind(this);u.open(s,r);Object.keys(h).forEach(function(e){u.setRequestHeader(e,h[e])});var n=o&&o.data||"";if(typeof n!=="string"){n=JSON.stringify(n)}u.send(n)}.bind(this))}.bind(this))}catch(e){return Promise.reject(n)}};s.prototype._getCSRFTokenHeader=function(e,t){var s="",r="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));default:return Promise.resolve({})}};s.prototype._onLoad=function(t,s,r){var o=this._getFormattedResponse(r.xhr);var n=this._getCSRFTokenFromHeader(o.responseHeaders);if(n){var i=this._getCSRFTokenKey(new e(r.url));if(n.toLowerCase()==="required"&&o.status===403){delete this._oCSRFTokens[i];return this._executeRequest(r.method,r.url,r.data).then(t).catch(s)}this._oCSRFTokens[i]=n}if(o.status>=200&&o.status<300){return t(o)}return s(o)};s.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};s.prototype._getCSRFTokenFromHeader=function(e){var t=e.filter(function(e){return e.name==="x-csrf-token"})[0];return t&&t.value};s.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(function(e){return e.length>0}).map(function(e){var t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return s},true);
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/RestrictedJSONModel",["sap/ui/model/json/JSONModel"],function(t){"use strict";function e(){throw new Error("sap.ushell.utils.RestrictedJSONModel : Function not supported")}return t.extend("sap.ushell.utils.RestrictedJSONModel",{constructor:function(){t.prototype.constructor.apply(this,arguments);this.setDefaultBindingMode("OneWay");this.setDefaultBindingMode=e;this.setData=e;this.setJSON=e;this.setProperty=e;this.loadData=e},_setData:function(){t.prototype.setData.apply(this,arguments)},_setJSON:function(){this.setData=t.prototype.setData;t.prototype.setJSON.apply(this,arguments);this.setData=e},_setProperty:function(){this.setData=t.prototype.setData;t.prototype.setProperty.apply(this,arguments);this.setData=e}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils",["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/base/util/UriParameters"],function(r,e,n,t){"use strict";var i={};i.hasInvalidProtocol=function(r){var e=document.createElement("a");e.setAttribute("href",r);if(e.protocol==="javascript:"){return true}return false};i.isCrossOriginUrl=function(r){return e(r)};i.openURL=function(e,n,t,i){var o=i===undefined?true:i,a=this.isCrossOriginUrl(e);t=t||"";if(o&&this.hasInvalidProtocol(e)){r.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(a){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(e,n,t);return true}return window.open(e,n,t)};i.getLeanURL=function(e,n){var t=e||n;if(this.hasInvalidProtocol(t)){r.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}var i=window.location.search;if(!i){i="?appState=lean"}else if(i.indexOf("appState=")>=-1){i+="&appState=lean"}return window.location.origin+window.location.pathname+i+t};i._getAdjustedQueryString=function(r){if(r&&r.length>0){var e=t.fromQuery(window.location.search);var i=Array.from(e.keys()).reduce(function(r,n){r[n]=e.getAll(n);return r},{});r.forEach(function(r){var e=Object.keys(r)[0];if(e){i[e]=r[e]}});return n.urlParametersToString(i)}return null};i.refreshBrowser=function(r){var e=n.getLocationHref(),t=i._getAdjustedQueryString(r);if(t){e=e.replace(location.search,"?"+t)}if(n.getLocationHref()===e){window.location.reload(true)}else{window.location=e}};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/chipsUtils",["sap/base/Log","sap/base/util/ObjectPath"],function(e,t){"use strict";var i="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER",r="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER";var n={};n.getCatalogTilePreviewTitle=function(e){var t=n.getBagText(e,"tileProperties","display_title_text");return t||!e.isStub()&&e.getContract("preview")&&e.getContract("preview").getPreviewTitle()||undefined};n.getCatalogTilePreviewSubtitle=function(e){var t=n.getBagText(e,"tileProperties","display_subtitle_text");return t||!e.isStub()&&e.getContract("preview")&&e.getContract("preview").getPreviewSubtitle()||undefined};n.getCatalogTilePreviewIcon=function(e){var t=n._getConfigurationProperty(e,"tileConfiguration","display_icon_url");return t||!e.isStub()&&e.getContract("preview")&&e.getContract("preview").getPreviewIcon()||undefined};n.getCatalogTileTargetURL=function(e){var t=n._getConfigurationProperty(e,"tileConfiguration","navigation_target_url");return t||!e.isStub()&&e.getContract("preview")&&e.getContract("preview").getTargetUrl()||undefined};n.getCatalogTileNumberUnit=function(e){return n._getConfigurationProperty(e,"tileConfiguration","display_number_unit")};n.getCatalogTilePreviewInfo=function(e){return n.getBagText(e.getChip(),"tileProperties","display_info_text")};n.getCatalogTileSize=function(e){return n.getTileSize(e)};n.getCatalogTilePreviewIndicatorDataSource=function(e){var t;var i=n._getAppLauncherTileConfiguration(e);if(n._isAppLauncher(e)&&i&&i.service_url){t={path:i.service_url,refresh:i.service_refresh_interval}}return t};n._getConfigurationProperty=function(e,t,i){var r,n;try{r=e.getConfigurationParameter(t);n=JSON.parse(r)}catch(e){return}if(n[i]!==undefined){return n[i]}};n.getBagText=function(e,t,i){if(e.getBagIds().indexOf(t)>-1&&e.getBag(t).getTextNames().indexOf(i)>-1){return e.getBag(t).getText(i)}};n.getTileSize=function(e){var t=!e.isStub()&&e.getConfigurationParameter("row")||"1",i=!e.isStub()&&e.getConfigurationParameter("col")||"1";return t+"x"+i};n._getAppLauncherTileConfiguration=function(t){var i,r=t.getConfigurationParameter("tileConfiguration");try{i=JSON.parse(r||"{}")}catch(i){e.error("Tile with ID '"+t.getId()+"' has a corrupt configuration containing a 'tileConfiguration' value '"+r+"' which could not be parsed. If present, a (stringified) JSON is expected as value.",i.message,"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{}}return i};n._isAppLauncher=function(e){var t=e.getChip().getBaseChipId();return t===i||t===r};n.getTileConfigurationFromSimplifiedChip=function(e){var t;try{t=JSON.parse(e.configuration.tileConfiguration)}catch(e){t={}}return t};n.getTargetUrlFromSimplifiedChip=function(e,t){var i=this.getCustomTileTargetFromSimplified(e);if(i){return"#"+t.constructShellHash(i)}var r=this.getTileConfigurationFromSimplifiedChip(e);return r.navigation_target_url};n.getIndicatorDataSourceFromSimplifiedChip=function(e){var t=this.getTileConfigurationFromSimplifiedChip(e);var i=t.service_url;if(!i){return undefined}return{path:i,refresh:t.service_refresh_interval}};n.getTileSizeFromSimplifiedChip=function(e){var t=e.configuration;var i=t.row||1;var r=t.col||1;return i+"x"+r};n.getNumberUnitFromSimplifiedChip=function(e){var t=this.getTileConfigurationFromSimplifiedChip(e);return t.display_number_unit};n.getInfoFromSimplifiedChip=function(e){var t=e.bags.tileProperties;return t&&t.texts.display_info_text};n.getKeywordsFromSimplifiedChip=function(e){var t=e.bags.tileProperties;var i=t&&t.texts.display_search_keywords;if(i){return i.trim().split(/\s*,\s*/g)}return[]};n.isCustomTileFromSimplifiedChip=function(e){var t=e.chipId;return t!==i&&t!==r};n.loadChipInstanceFromSimplifiedChip=function(e){var t=e.bags;var i={chipId:e.chipId,configuration:e.configuration?JSON.stringify(e.configuration):"{}"};return sap.ushell.Container.getServiceAsync("PageBuilding").then(function(e){var r=e.getFactory();var n=r.createChipInstance(i);this.addBagDataToChipInstance(n,t);return new Promise(function(e,t){n.load(e,t)}).then(function(){return n})}.bind(this))};n.addBagDataToChipInstance=function(t,i){if(!i){return}var r;for(var n in i){var a=i[n];var o=t.getBag(n);try{for(r in a.properties){o.setProperty(r,a.properties[r])}for(r in a.texts){o.setText(r,a.texts[r])}}catch(t){e.error("chipsUtils.addBagDataToChipInstance: "+t.toString())}}};n.getCustomTileTargetFromSimplified=function(e){if(e.chipId==="X-SAP-UI2-CHIP:/UI2/AR_SRVC_NEWS"){return{target:{semanticObject:"NewsFeed",action:"displayNewsList"}}}var t=JSON.parse(e.configuration.tileConfiguration||"{}");var i=JSON.parse(t.TILE_PROPERTIES||"{}");if(i.semanticObject&&i.semanticAction){return{target:{semanticObject:i.semanticObject,action:i.semanticAction},params:{EvaluationId:[i.evaluationId]}}}return null};return n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/utilsCdm",["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/utils/objectOperations","sap/ushell/utils/UrlParsing"],function(e,t,a,i,s,p){"use strict";function o(e,t){return s.getMember(e,t)}function r(e,a,s){a=t({},a);s=t({},s);var p={};p.semanticObject=a.semanticObject;p.action=a.action;p.title=a.title||o(s,"sap|app.title");p.info=a.info||o(s,"sap|app.info");p.icon=a.icon||o(s,"sap|ui.icons.icon");p.subTitle=a.subTitle||o(s,"sap|app.subTitle");p.shortTitle=a.shortTitle||o(s,"sap|app.shortTitle");var r,n,u,l,c,f,m=false;var d=o(s,"sap|platform|runtime");p.resolutionResult=i.extend(true,{},d);if(d){p.resolutionResult["sap.platform.runtime"]=i.extend(true,{},d)}if(o(s,"sap|ui.technology")==="GUI"){p.resolutionResult["sap.gui"]=o(s,"sap|gui")}if(o(s,"sap|ui.technology")==="WDA"){p.resolutionResult["sap.wda"]=o(s,"sap|wda")}if(o(s,"sap|ui.technology")==="URL"){if(s["sap.url"]){p.resolutionResult["sap.platform.runtime"]=p.resolutionResult["sap.platform.runtime"]||{};p.resolutionResult.url=s["sap.url"].uri;p.resolutionResult["sap.platform.runtime"].url=s["sap.url"].uri}else if(d&&d.uri){p.resolutionResult["sap.platform.runtime"].url=d.uri;p.resolutionResult.url=d.uri}}if(!p.resolutionResult["sap.ui"]){p.resolutionResult["sap.ui"]={}}p.resolutionResult["sap.ui"].technology=o(s,"sap|ui.technology");p.resolutionResult.applicationType=this._formatApplicationType(p.resolutionResult,s);p.resolutionResult.systemAlias=p.resolutionResult.systemAlias||a.systemAlias;p.resolutionResult.systemAliasSemantics="apply";p.resolutionResult.text=p.title;p.deviceTypes=o(s,"sap|ui.deviceTypes")||{};p.resolutionResult.appId=o(s,"sap|app.id");["desktop","tablet","phone"].forEach(function(e){if(Object.prototype.hasOwnProperty.call(a.deviceTypes||{},e)){p.deviceTypes[e]=a.deviceTypes[e]}if(!Object.prototype.hasOwnProperty.call(p.deviceTypes,e)){p.deviceTypes[e]=true}p.deviceTypes[e]=!!p.deviceTypes[e]});p.signature=a.signature||{};p.signature.parameters=p.signature.parameters||{};p.signature.additionalParameters=(a.signature||{}).additionalParameters||"allowed";var y=a.indicatorDataSource||o(s,"sap|app.crossNavigation.inbounds."+e+".indicatorDataSource");var h=y?"#Shell-dynamicTile":"#Shell-staticTile";if(o(s,"sap|app.type")==="tile"||o(s,"sap|flp.type")==="tile"){h=p.resolutionResult;h.url=o(s,"sap|platform|runtime.componentProperties.url");h.componentName=o(s,"sap|ui5.componentName");if(o(s,"sap|platform|runtime.includeManifest")){h.componentProperties=h.componentProperties||{};h.componentProperties.manifest=i.extend(true,{},s);delete h.componentProperties.manifest["sap.platform.runtime"]}l=o(s,"sap|app.crossNavigation.outbounds.target");m=true}if(o(s,"sap|app.type")==="plugin"||o(s,"sap|flp.type")==="plugin"){return undefined}if(o(s,"sap|flp.tileSize")){r=o(s,"sap|flp.tileSize")}if(o(s,"sap|app.description")){n=o(s,"sap|app.description")}if(o(s,"sap|ui.technology")==="GUI"&&o(s,"sap|gui.transaction")){u=o(s,"sap|gui.transaction")}if(o(s,"sap|ui.technology")==="WDA"&&o(s,"sap|wda.applicationId")){u=o(s,"sap|wda.applicationId")}if(o(s,"sap|app.dataSources")){c=o(s,"sap|app.dataSources")}if(o(s,"sap|app.id")){f=o(s,"sap|app.id")}p.tileResolutionResult={appId:f,title:p.title,subTitle:p.subTitle,icon:p.icon,size:r,info:p.info,tileComponentLoadInfo:h,indicatorDataSource:y,dataSources:c,description:n,runtimeInformation:d,technicalInformation:u,deviceTypes:p.deviceTypes};p.tileResolutionResult.isCustomTile=m;if(l){p.tileResolutionResult.targetOutbound=l}return p}function n(e,t){var a=e.applicationType;if(a){return a}var i=o(t,"sap|platform|runtime.componentProperties.self.name")||o(t,"sap|ui5.componentName");if(o(t,"sap|flp.appType")==="UI5"||o(t,"sap|ui.technology")==="UI5"){e.applicationType="SAPUI5";e.additionalInformation="SAPUI5.Component="+i;e.url=o(t,"sap|platform|runtime.componentProperties.url");e.applicationDependencies=o(t,"sap|platform|runtime.componentProperties");return"SAPUI5"}if(o(t,"sap|ui.technology")==="GUI"){e.applicationType="TR";e["sap.gui"]=o(t,"sap|gui");e.systemAlias=o(t,"sap|app.destination.name");return"TR"}if(o(t,"sap|ui.technology")==="WDA"){e.applicationType="WDA";e["sap.wda"]=o(t,"sap|wda");e.systemAlias=o(t,"sap|app.destination.name");return"WDA"}if(o(t,"sap|ui.technology")==="URL"){e.applicationType="URL";e.systemAlias=o(t,"sap|app.destination.name")}return"URL"}function u(t){var a=this;if(!t){return[]}var i=[];try{var s=Object.keys(t.applications||{}).sort();s.forEach(function(s){try{var p=t.applications[s];var r=o(p,"sap|app.crossNavigation.inbounds");if(r){var n=Object.keys(r).sort();n.forEach(function(e){var t=r[e];var s=a.mapOne(e,t,p);if(s){i.push(s)}})}}catch(t){e.error("Error in application "+s+": "+t,t.stack)}})}catch(t){e.error(t);e.error(t.stack);return[]}return i}function l(e){var t,i,s;t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};i=a.get("signature.parameters",e)||{};Object.keys(i).forEach(function(e){if(i[e].filter&&Object.prototype.hasOwnProperty.call(i[e].filter,"value")&&(i[e].filter.format===undefined||i[e].filter.format==="plain")){t.params[e]=[i[e].filter.value]}if(i[e].launcherValue&&Object.prototype.hasOwnProperty.call(i[e].launcherValue,"value")&&(i[e].launcherValue.format===undefined||i[e].launcherValue.format==="plain")){t.params[e]=[i[e].launcherValue.value]}});s=p.constructShellHash(t);if(!s){return undefined}return s}function c(e){var t,a,i;t={target:{semanticObject:e.semanticObject,action:e.action},params:{}};a=e.parameters||{};Object.keys(a).forEach(function(e){if(a.hasOwnProperty(e)&&typeof a[e].value==="object"){t.params[e]=[a[e].value.value]}});i=p.constructShellHash(t);if(!i){return undefined}return i}return{formatSite:u,toHashFromInbound:l,toHashFromOutbound:c,mapOne:r,_formatApplicationType:n}},true);
sap.ui.require.preload({
	"sap/ushell/components/tiles/cdm/applauncher/StaticTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncher.StaticTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{/properties/contentProviderLabel}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        mode="{/properties/mode}"\n        scope="{/properties/scope}"\n        sizeBehavior="{/properties/sizeBehavior}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><dependents><TileContent id="standardTileContent" footer="{/properties/info}" /><TileContent id="imageTileContent" footer="{/properties/info}"><ImageContent src="{/properties/icon}" /></TileContent></dependents></GenericTile></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{/properties/contentProviderLabel}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        scope="{/properties/scope}"\n        sizeBehavior="{/properties/sizeBehavior}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><TileContent\n            id="numericTileContent"\n            footer="{/properties/info}"\n            footerColor="{\n                path: \'/properties/infoState\',\n                formatter: \'._formatValueColor\'\n            }"\n            unit="{/properties/number_unit}"><NumericContent\n                icon="{/properties/icon}"\n                indicator="{/properties/number_state_arrow}"\n                scale="{/properties/number_factor}"\n                truncateValueTo="5"\n                value="{/properties/number_value}"\n                valueColor="{\n                    path: \'/properties/number_value_state\',\n                    formatter: \'._getValueColor\'\n                }"\n                withMargin="false"\n                width="100%"\n            /></TileContent></GenericTile></mvc:View>\n',
	"sap/ushell/ui/ShellHeader.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.ushell.ui"\n    xmlns:core="sap.ui.core"\n    xmlns:shell="sap.ushell.ui.shell"><ShellHeader\n        id="shell-header"\n        showLogo="{/showLogo}"\n        visible="{/headerVisible}"\n        homeUri="{/homeUri}"\n        headItems="{ path: \'/headItems\', factory: \'.shellUpdateAggItem\' }"\n        headEndItems="{ path: \'/headEndItems\', factory: \'.shellUpdateAggItem\', filters: [{ path: \'\', test: \'.isHeadEndItemNotInOverflow\' }] }"\n        centralAreaElement="{/centralAreaElement}"\n        title="{/title}"><appTitle><shell:ShellAppTitle\n                id="shellAppTitle"\n                text="{/application/title}" /></appTitle></ShellHeader></core:FragmentDefinition>\n',
	"sap/ushell/ui/ShellLayout.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.ushell.ui.shell"\n    xmlns:core="sap.ui.core"\n    xmlns:ui="sap.ushell.ui"><ShellLayout\n        id="shell"\n        floatingContainerVisible="false"\n        toolAreaVisible="{/currentState/toolAreaVisible}"\n        enableCanvasShapes="{/enableBackGroundShapes}"><canvasSplitContainer><SplitContainer\n                id="shell-split"\n                showSecondaryContent="{/currentState/showPane}"\n                subHeader="{ path: \'/currentState/subHeader\', factory: \'.shellUpdateAggItem\' }"\n                secondaryContent="{ path: \'/currentState/paneContent\', factory: \'.shellUpdateAggItem\' }"><content><core:ComponentContainer id="menuBarComponentContainer" async="true" /><ui:AppContainer id="viewPortContainer" beforeNavigate=".onBeforeNavigate" afterNavigate=".onAfterNavigate" /></content><secondaryContent /></SplitContainer></canvasSplitContainer><rightFloatingContainer><RightFloatingContainer\n                id="right-floating-container"\n                top="8"\n                hideItemsAfterPresentation="true"\n                visible="{/currentState/showRightFloatingContainer}"\n                floatingContainerItems="{ path: \'/currentState/RightFloatingContainerItems\', factory: \'.shellUpdateAggItem\' }" /></rightFloatingContainer></ShellLayout></core:FragmentDefinition>\n'
},"sap/ushell/core-lib-preload");
sap.ui.requireSync("sap/ui/core/Core");
// as this module contains the Core, we ensure that the Core has been booted
sap.ui.getCore().boot && sap.ui.getCore().boot();
