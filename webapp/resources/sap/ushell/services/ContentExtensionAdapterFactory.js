// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Config","sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(e,r,n,t){"use strict";var a={};a.getAdapters=function(r){var t=a._getConfigAdapters(r);var i={};var o=t.map(function(r){var n=e.last(r.configSwitch);if(!n){return Promise.resolve()}var t=a._getAdapter(r);t.then(function(e){i[r.contentProviderName]=e});return t});return new Promise(function(e){n.when.apply(n,o).then(function(){e(i)})})};a._getConfigAdapters=function(e){if(!e){e=r._getConfigAdapters()}if(!Array.isArray(e)){e=[e]}return e};a._getAdapter=function(e){var r=new n.Deferred;var t=e.configHandler?e.configHandler():{};var i=e.adapter.replace(/\./g,"/");sap.ui.require([i],function(){var n=a._getAdapterInstance(e.adapter,e.system,null,t);r.resolve(n)});return r.promise()};a._getAdapterInstance=function(e,r,n,t){var a=sap.ui.require(e.replaceAll(".","/"));if(a){var i={config:t||{}};return new a(r,n,i)}return null};return a});