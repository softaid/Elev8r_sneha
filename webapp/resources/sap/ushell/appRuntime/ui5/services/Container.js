// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy","sap/ushell/appRuntime/ui5/SessionHandlerAgent"],function(e,t,n,r,s){"use strict";function i(){var e,r=false,i=[];this.bootstrap=function(a,l){return sap.ushell.bootstrap(a,l).then(function(a){e=sap.ushell.Container._getAdapter();sap.ushell.Container.inAppRuntime=function(){return true};sap.ushell.Container.runningInIframe=sap.ushell.Container.inAppRuntime;sap.ushell.Container.getFLPUrl=function(e){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:e})};sap.ushell.Container.getFLPUrlAsync=function(e){return sap.ushell.Container.getFLPUrl(e)};sap.ushell.Container.getRenderer=function(){return n};sap.ushell.Container.logout=function(){return e.logout()};sap.ushell.Container.getFLPPlatform=function(){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};sap.ushell.Container.extendSession=function(){s.userActivityHandler()};sap.ushell.Container.setDirtyFlag=function(e){r=e;t.sendMessageToOuterShell("sap.ushell.services.Container.setDirtyFlag",{bIsDirty:e})};sap.ushell.Container.getDirtyFlag=function(){return r||sap.ushell.Container.handleDirtyStateProvider()};sap.ushell.Container.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}i.push(e);if(i.length===1){t.sendMessageToOuterShell("sap.ushell.services.Container.registerDirtyStateProvider",{bRegister:true})}};sap.ushell.Container.handleDirtyStateProvider=function(e){var t=false;if(i.length>0){for(var n=0;n<i.length&&t===false;n++){t=t||(i[n](e)||false)}}return t};sap.ushell.Container.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var n=-1;for(var r=i.length-1;r>=0;r--){if(i[r]===e){n=r;break}}if(n===-1){return}i.splice(n,1);if(i.length===0){t.sendMessageToOuterShell("sap.ushell.services.Container.registerDirtyStateProvider",{bRegister:false})}};sap.ushell.Container.cleanDirtyStateProviderArray=function(){i=[];r=false};sap.ushell.Container.setAsyncDirtyStateProvider=function(){};sap.ushell.Container.getAsyncDirtyStateProviders=function(){return i};sap.ushell.Container.setAsyncDirtyStateProviders=function(e){i=e;if(i.length>0){t.sendMessageToOuterShell("sap.ushell.services.Container.registerDirtyStateProvider",{bRegister:true})}}})}}return new i},true);