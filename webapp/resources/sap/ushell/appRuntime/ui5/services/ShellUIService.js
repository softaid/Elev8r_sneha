// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/jquery"],function(e,s,i,r,a,t,l){"use strict";var c=r({serviceRegistry:e,serviceFactory:s,service:i});var n,u=false,v;var p=c.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e){n=e;return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:e})},getTitle:function(){return n},setHierarchy:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})},setRelatedApps:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})},setBackNavigation:function(e){var s;if(!u){u=true;a.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(v){v()}else{window.history.back()}return(new l.Deferred).resolve().promise()}}}}})}v=e;if(v===undefined){s={}}else{s={callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}}}t.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setBackNavigation",s)},_getBackNavigationCallback:function(){return v},_resetBackNavigationCallback:function(){v=undefined}});return p},true);